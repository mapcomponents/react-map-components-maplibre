/*! For license information please see 6709.3d2b4e81.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_mapcomponents_react_maplibre=self.webpackChunk_mapcomponents_react_maplibre||[]).push([[6709],{41769:(t,e,n)=>{"use strict";function i(t,e){return Array.from(t.getElementsByTagName(e))}function r(t){return"#"===t[0]?t:`#${t}`}function s(t){return t?.normalize(),t&&t.textContent||""}function o(t,e,n){const i=t.getElementsByTagName(e),r=i.length?i[0]:null;return r&&n&&n(r),r}function a(t,e,n){const i={};if(!t)return i;const r=t.getElementsByTagName(e),s=r.length?r[0]:null;return s&&n?n(s,i):i}function u(t,e,n){const i=s(o(t,e));return i&&n&&n(i)||{}}function l(t,e,n){const i=parseFloat(s(o(t,e)));if(!isNaN(i))return i&&n&&n(i)||{}}function c(t,e,n){const i=parseFloat(s(o(t,e)));if(!isNaN(i))return n&&n(i),i}function h(t,e){const n={};for(const i of e)u(t,i,(t=>{n[i]=t}));return n}function f(t){return 1===t?.nodeType}function g(t){return a(t,"line",(t=>Object.assign({},u(t,"color",(t=>({stroke:`#${t}`}))),l(t,"opacity",(t=>({"stroke-opacity":t}))),l(t,"width",(t=>({"stroke-width":96*t/25.4}))))))}function d(t){let e=[];if(null===t)return e;for(const n of Array.from(t.childNodes)){if(!f(n))continue;const t=p(n.nodeName);if("gpxtpx:TrackPointExtension"===t)e=e.concat(d(n));else{const i=s(n);e.push([t,v(i)])}}return e}function p(t){return["heart","gpxtpx:hr","hr"].includes(t)?"heart":t}function v(t){const e=parseFloat(t);return isNaN(e)?t:e}function y(t){const e=[parseFloat(t.getAttribute("lon")||""),parseFloat(t.getAttribute("lat")||"")];if(isNaN(e[0])||isNaN(e[1]))return null;c(t,"ele",(t=>{e.push(t)}));const n=o(t,"time");return{coordinates:e,time:n?s(n):null,extendedValues:d(o(t,"extensions"))}}function m(t){const e=h(t,["name","cmt","desc","type","time","keywords"]),n=Array.from(t.getElementsByTagNameNS("http://www.garmin.com/xmlschemas/GpxExtensions/v3","*"));for(const i of n)i.parentNode?.parentNode===t&&(e[i.tagName.replace(":","_")]=s(i));const r=i(t,"link");return r.length&&(e.links=r.map((t=>Object.assign({href:t.getAttribute("href")},h(t,["text","type"]))))),e}function _(t,e){const n=i(t,e),r=[],s=[],o={};for(let t=0;t<n.length;t++){const e=y(n[t]);if(e){r.push(e.coordinates),e.time&&s.push(e.time);for(const[i,r]of e.extendedValues){const e="heart"===i?i:i.replace("gpxtpx:","")+"s";o[e]||(o[e]=Array(n.length).fill(null)),o[e][t]=r}}}if(!(r.length<2))return{line:r,times:s,extendedValues:o}}function k(t){const e=_(t,"rtept");if(e)return{type:"Feature",properties:Object.assign({_gpxType:"rte"},m(t),g(o(t,"extensions"))),geometry:{type:"LineString",coordinates:e.line}}}function x(t){const e=i(t,"trkseg"),n=[],r=[],s=[];for(const t of e){const e=_(t,"trkpt");e&&(s.push(e),e.times&&e.times.length&&r.push(e.times))}if(0===s.length)return null;const a=s.length>1,u=Object.assign({_gpxType:"trk"},m(t),g(o(t,"extensions")),r.length?{coordinateProperties:{times:a?r:r[0]}}:{});for(const t of s){n.push(t.line),u.coordinateProperties||(u.coordinateProperties={});const e=u.coordinateProperties,i=Object.entries(t.extendedValues);for(let t=0;t<i.length;t++){const[n,r]=i[t];a?(e[n]||(e[n]=s.map((t=>new Array(t.line.length).fill(null)))),e[n][t]=r):e[n]=r}}return{type:"Feature",properties:u,geometry:a?{type:"MultiLineString",coordinates:n}:{type:"LineString",coordinates:n[0]}}}function E(t){const e=Object.assign(m(t),h(t,["sym"])),n=y(t);return n?{type:"Feature",properties:e,geometry:{type:"Point",coordinates:n.coordinates}}:null}function*N(t){for(const e of i(t,"trk")){const t=x(e);t&&(yield t)}for(const e of i(t,"rte")){const t=k(e);t&&(yield t)}for(const e of i(t,"wpt")){const t=E(e);t&&(yield t)}}function b(t){return{type:"FeatureCollection",features:Array.from(N(t))}}n.r(e),n.d(e,{gpx:()=>b,gpxGen:()=>N,kml:()=>ct,kmlGen:()=>lt,kmlWithFolders:()=>ut,tcx:()=>A,tcxGen:()=>O});const I="http://www.garmin.com/xmlschemas/ActivityExtension/v2",w=[["heartRate","heartRates"],["Cadence","cadences"],["Speed","speeds"],["Watts","watts"]],S=[["TotalTimeSeconds","totalTimeSeconds"],["DistanceMeters","distanceMeters"],["MaximumSpeed","maxSpeed"],["AverageHeartRateBpm","avgHeartRate"],["MaximumHeartRateBpm","maxHeartRate"],["AvgSpeed","avgSpeed"],["AvgWatts","avgWatts"],["MaxWatts","maxWatts"]];function T(t,e){const n=[];for(const[i,r]of e){let e=o(t,i);if(!e){const n=t.getElementsByTagNameNS(I,i);n.length&&(e=n[0])}const a=parseFloat(s(e));isNaN(a)||n.push([r,a])}return n}function L(t){const e=[c(t,"LongitudeDegrees"),c(t,"LatitudeDegrees")];if(void 0===e[0]||isNaN(e[0])||void 0===e[1]||isNaN(e[1]))return null;const n=o(t,"HeartRateBpm"),i=s(o(t,"Time"));return o(t,"AltitudeMeters",(t=>{const n=parseFloat(s(t));isNaN(n)||e.push(n)})),{coordinates:e,time:i||null,heartRate:n?parseFloat(s(n)):null,extensions:T(t,w)}}function C(t){const e=i(t,"Trackpoint"),n=[],r=[],s=[];if(e.length<2)return null;const o={},a={extendedProperties:o};for(let t=0;t<e.length;t++){const i=L(e[t]);if(null===i)continue;n.push(i.coordinates);const{time:a,heartRate:u,extensions:l}=i;a&&r.push(a),u&&s.push(u);for(const[n,i]of l)o[n]||(o[n]=Array(e.length).fill(null)),o[n][t]=i}return n.length<2?null:Object.assign(a,{line:n,times:r,heartRates:s})}function R(t){const e=i(t,"Track"),n=[],r=[],o=[],u=[];let l;const c=Object.assign(Object.fromEntries(T(t,S)),a(t,"Name",(t=>({name:s(t)}))));for(const t of e)l=C(t),l&&(n.push(l.line),l.times.length&&r.push(l.times),l.heartRates.length&&o.push(l.heartRates),u.push(l.extendedProperties));for(let t=0;t<u.length;t++){const i=u[t];for(const r in i)1===e.length?l&&(c[r]=l.extendedProperties[r]):(c[r]||(c[r]=n.map((t=>Array(t.length).fill(null)))),c[r][t]=i[r])}return 0===n.length?null:((r.length||o.length)&&(c.coordinateProperties=Object.assign(r.length?{times:1===n.length?r[0]:r}:{},o.length?{heart:1===n.length?o[0]:o}:{})),{type:"Feature",properties:c,geometry:1===n.length?{type:"LineString",coordinates:n[0]}:{type:"MultiLineString",coordinates:n}})}function*O(t){for(const e of i(t,"Lap")){const t=R(e);t&&(yield t)}for(const e of i(t,"Courses")){const t=R(e);t&&(yield t)}}function A(t){return{type:"FeatureCollection",features:Array.from(O(t))}}function M(t,e){const n={},i="stroke"==e||"fill"===e?e:e+"-color";return"#"===t[0]&&(t=t.substring(1)),6===t.length||3===t.length?n[i]="#"+t:8===t.length&&(n[e+"-opacity"]=parseInt(t.substring(0,2),16)/255,n[i]="#"+t.substring(6,8)+t.substring(4,6)+t.substring(2,4)),n}function D(t,e,n){const i={};return c(t,e,(t=>{i[n]=t})),i}function P(t,e){return a(t,"color",(t=>M(s(t),e)))}function q(t){return a(t,"Icon",((t,e)=>(u(t,"href",(t=>{e.icon=t})),e)))}function F(t){return Object.assign({},function(t){return a(t,"PolyStyle",((t,e)=>Object.assign(e,a(t,"color",(t=>M(s(t),"fill"))),u(t,"fill",(t=>{if("0"===t)return{"fill-opacity":0}})),u(t,"outline",(t=>{if("0"===t)return{"stroke-opacity":0}})))))}(t),function(t){return a(t,"LineStyle",(t=>Object.assign(P(t,"stroke"),D(t,"width","stroke-width"))))}(t),function(t){return a(t,"LabelStyle",(t=>Object.assign(P(t,"label"),D(t,"scale","label-scale"))))}(t),function(t){return a(t,"IconStyle",(t=>Object.assign(P(t,"icon"),D(t,"scale","icon-scale"),D(t,"heading","icon-heading"),a(t,"hotSpot",(t=>{const e=parseFloat(t.getAttribute("x")||""),n=parseFloat(t.getAttribute("y")||""),i=t.getAttribute("xunits")||"",r=t.getAttribute("yunits")||"";return isNaN(e)||isNaN(n)?{}:{"icon-offset":[e,n],"icon-offset-units":[i,r]}})),q(t))))}(t))}const G=t=>Number(t),U={string:t=>t,int:G,uint:G,short:G,ushort:G,float:G,double:G,bool:t=>Boolean(t)};function B(t,e){return a(t,"ExtendedData",((t,n)=>{for(const e of i(t,"Data"))n[e.getAttribute("name")||""]=s(o(e,"value"));for(const r of i(t,"SimpleData")){const t=r.getAttribute("name")||"",i=e[t]||U.string;n[t]=i(s(r))}return n}))}function Y(t){const e=o(t,"description");for(const t of Array.from(e?.childNodes||[]))if(4===t.nodeType)return{description:{"@type":"html",value:s(t)}};return{}}function z(t){return a(t,"TimeSpan",(t=>({timespan:{begin:s(o(t,"begin")),end:s(o(t,"end"))}})))}function X(t){return a(t,"TimeStamp",(t=>({timestamp:s(o(t,"when"))})))}function V(t,e){return u(t,"styleUrl",(t=>(t=r(t),e[t]?Object.assign({styleUrl:t},e[t]):{styleUrl:t})))}const H=/\s*/g,j=/^\s*|\s*$/g,Z=/\s+/;function W(t){return t.replace(H,"").split(",").map(parseFloat).filter((t=>!isNaN(t))).slice(0,3)}function K(t){return t.replace(j,"").split(Z).map(W).filter((t=>t.length>=2))}function J(t){let e=i(t,"coord");var n;0===e.length&&(n=t,"coord","*",e=Array.from(n.getElementsByTagNameNS("*","coord")));const r=e.map((t=>s(t).split(" ").map(parseFloat)));return 0===r.length?null:{geometry:r.length>2?{type:"LineString",coordinates:r}:{type:"Point",coordinates:r[0]},times:i(t,"when").map((t=>s(t)))}}function Q(t){if(0===t.length)return t;const e=t[0],n=t[t.length-1];let i=!0;for(let t=0;t<Math.max(e.length,n.length);t++)if(e[t]!==n[t]){i=!1;break}return i?t:t.concat([t[0]])}function $(t){return s(o(t,"coordinates"))}function tt(t){let e=[],n=[];for(let r=0;r<t.childNodes.length;r++){const s=t.childNodes.item(r);if(f(s))switch(s.tagName){case"MultiGeometry":case"MultiTrack":case"gx:MultiTrack":{const t=tt(s);e=e.concat(t.geometries),n=n.concat(t.coordTimes);break}case"Point":{const t=W($(s));t.length>=2&&e.push({type:"Point",coordinates:t});break}case"LinearRing":case"LineString":{const t=K($(s));t.length>=2&&e.push({type:"LineString",coordinates:t});break}case"Polygon":{const t=[];for(const e of i(s,"LinearRing")){const n=Q(K($(e)));n.length>=4&&t.push(n)}t.length&&e.push({type:"Polygon",coordinates:t});break}case"Track":case"gx:Track":{const t=J(s);if(!t)break;const{times:i,geometry:r}=t;e.push(r),i.length&&n.push(i);break}}}return{geometries:e,coordTimes:n}}function et(t,e,n,i){const{coordTimes:r,geometries:s}=tt(t),o=function(t){return 0===t.length?null:1===t.length?t[0]:{type:"GeometryCollection",geometries:t}}(s);if(!o&&i.skipNullGeometry)return null;const a={type:"Feature",geometry:o,properties:Object.assign(h(t,["name","address","visibility","open","phoneNumber","description"]),Y(t),V(t,e),F(t),B(t,n),z(t),X(t),r.length?{coordinateProperties:{times:1===r.length?r[0]:r}}:{})};void 0!==a.properties?.visibility&&(a.properties.visibility="0"!==a.properties.visibility);const u=t.getAttribute("id");return null!==u&&""!==u&&(a.id=u),a}const nt=Math.PI/180;function it(t,e,n,i){const r=function(t){return o(t,"gx:LatLonQuad")?{geometry:{type:"Polygon",coordinates:[Q(K($(t)))]}}:function(t){const e=o(t,"LatLonBox");if(e){const t=c(e,"north"),n=c(e,"west"),i=c(e,"east"),r=c(e,"south"),s=c(e,"rotation");if("number"==typeof t&&"number"==typeof r&&"number"==typeof n&&"number"==typeof i){const e=[n,r,i,t];let o=[[[n,t],[i,t],[i,r],[n,r],[n,t]]];return"number"==typeof s&&(o=function(t,e,n){const i=[(t[0]+t[2])/2,(t[1]+t[3])/2];return[e[0].map((t=>{const e=t[1]-i[1],r=t[0]-i[0],s=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),o=Math.atan2(e,r)+n*nt;return[i[0]+Math.cos(o)*s,i[1]+Math.sin(o)*s]}))]}(e,o,s)),{bbox:e,geometry:{type:"Polygon",coordinates:o}}}}return null}(t)}(t),s=r?.geometry||null;if(!s&&i.skipNullGeometry)return null;const a={type:"Feature",geometry:s,properties:Object.assign({"@geometry-type":"groundoverlay"},h(t,["name","address","visibility","open","phoneNumber","description"]),Y(t),V(t,e),F(t),q(t),B(t,n),z(t),X(t))};r?.bbox&&(a.bbox=r.bbox),void 0!==a.properties?.visibility&&(a.properties.visibility="0"!==a.properties.visibility);const u=t.getAttribute("id");return null!==u&&""!==u&&(a.id=u),a}function rt(t){let e=t.getAttribute("id");const n=t.parentNode;return!e&&f(n)&&"CascadingStyle"===n.localName&&(e=n.getAttribute("kml:id")||n.getAttribute("id")),r(e||"")}function st(t){const e={};for(const n of i(t,"Style"))e[rt(n)]=F(n);for(const n of i(t,"StyleMap")){const t=r(n.getAttribute("id")||"");u(n,"styleUrl",(n=>{n=r(n),e[n]&&(e[t]=e[n])}))}return e}function ot(t){const e={};for(const n of i(t,"SimpleField"))e[n.getAttribute("name")||""]=U[n.getAttribute("type")||""]||U.string;return e}const at=["name","visibility","open","address","description","phoneNumber","visibility"];function ut(t,e={skipNullGeometry:!1}){const n=st(t),i=ot(t),r={type:"root",children:[]};return function t(e,r,o){if(f(e))switch(e.tagName){case"GroundOverlay":{const t=it(e,n,i,o);t&&r.children.push(t);break}case"Placemark":{const t=et(e,n,i,o);t&&r.children.push(t);break}case"Folder":{const t=function(t){const e={};for(const n of Array.from(t.childNodes))f(n)&&at.includes(n.tagName)&&(e[n.tagName]=s(n));return{type:"folder",meta:e,children:[]}}(e);r.children.push(t),r=t;break}}if(e.childNodes)for(let n=0;n<e.childNodes.length;n++)t(e.childNodes[n],r,o)}(t,r,e),r}function*lt(t,e={skipNullGeometry:!1}){const n=st(t),r=ot(t);for(const s of i(t,"Placemark")){const t=et(s,n,r,e);t&&(yield t)}for(const s of i(t,"GroundOverlay")){const t=it(s,n,r,e);t&&(yield t)}}function ct(t,e={skipNullGeometry:!1}){return{type:"FeatureCollection",features:Array.from(lt(t,e))}}},74275:(t,e,n)=>{"use strict";n.d(e,{Q:()=>u});var i=n(3270),r=n(35008),s=n(20299),o=n(74739),a=n(56608);function u(t,e,n={}){const u=(0,a.bg)(t).coordinates;let l=0;for(let t=0;t<u.length&&!(e>=l&&t===u.length-1);t++){if(l>=e){const s=e-l;if(s){const e=(0,i.d)(u[t],u[t-1])-180;return(0,r.j)(u[t],s,e,n)}return(0,o.zx)(u[t])}l+=(0,s.I)(u[t],u[t+1],n)}return(0,o.zx)(u[u.length-1])}},38949:(t,e,n)=>{"use strict";n.d(e,{W:()=>s});var i=n(74739),r=n(28697);function s(t){return(0,r.jE)(t,((t,e)=>t+function(t){let e,n=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=o(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)),0)}function o(t){let e=0;if(t&&t.length>0){e+=Math.abs(l(t[0]));for(let n=1;n<t.length;n++)e-=Math.abs(l(t[n]))}return e}var a=i.zX*i.zX/2,u=Math.PI/180;function l(t){const e=t.length-1;if(e<=2)return 0;let n=0,i=0;for(;i<e;){const r=t[i],s=t[i+1===e?0:i+1],o=t[i+2>=e?(i+2)%e:i+2],a=r[0]*u,l=s[1]*u;n+=(o[0]*u-a)*Math.sin(l),i++}return n*a}},24802:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});var i=n(74739);function r(t,e={}){const n=Number(t[0]),r=Number(t[1]),s=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const a=[n,r],u=[n,o],l=[s,o],c=[s,r];return(0,i.n1)([[a,c,l,u,a]],e.properties,{bbox:t,id:e.id})}},85787:(t,e,n)=>{"use strict";n.d(e,{Q:()=>r});var i=n(28697);function r(t,e={}){if(null!=t.bbox&&!0!==e.recompute)return t.bbox;const n=[1/0,1/0,-1/0,-1/0];return(0,i.Fh)(t,(t=>{n[0]>t[0]&&(n[0]=t[0]),n[1]>t[1]&&(n[1]=t[1]),n[2]<t[0]&&(n[2]=t[0]),n[3]<t[1]&&(n[3]=t[1])})),n}},3270:(t,e,n)=>{"use strict";n.d(e,{d:()=>s});var i=n(74739),r=n(56608);function s(t,e,n={}){if(!0===n.final)return function(t,e){let n=s(e,t);return n=(n+180)%360,n}(t,e);const o=(0,r.uG)(t),a=(0,r.uG)(e),u=(0,i.tR)(o[0]),l=(0,i.tR)(a[0]),c=(0,i.tR)(o[1]),h=(0,i.tR)(a[1]),f=Math.sin(l-u)*Math.cos(h),g=Math.cos(c)*Math.sin(h)-Math.sin(c)*Math.cos(h)*Math.cos(l-u);return(0,i.nv)(Math.atan2(f,g))}},37002:(t,e,n)=>{"use strict";n.d(e,{yx:()=>l});var i=n(85787),r=n(62564),s=n(56608);function o(t,e,n={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const i=(0,s.uG)(t),o=(0,s.bg)(e),a=o.type,u=e.bbox;let l=o.coordinates;if(u&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,u))return!1;"Polygon"===a&&(l=[l]);let c=!1;for(var h=0;h<l.length;++h){const t=(0,r.A)(i,l[h]);if(0===t)return!n.ignoreBoundary;t&&(c=!0)}return c}function a(t,e,n={}){const i=(0,s.uG)(t),r=(0,s.$R)(e);for(let t=0;t<r.length-1;t++){let e=!1;if(n.ignoreEndVertices&&(0===t&&(e="start"),t===r.length-2&&(e="end"),0===t&&t+1===r.length-1&&(e="both")),u(r[t],r[t+1],i,e,void 0===n.epsilon?null:n.epsilon))return!0}return!1}function u(t,e,n,i,r){const s=n[0],o=n[1],a=t[0],u=t[1],l=e[0],c=e[1],h=l-a,f=c-u,g=(n[0]-a)*f-(n[1]-u)*h;if(null!==r){if(Math.abs(g)>r)return!1}else if(0!==g)return!1;return i?"start"===i?Math.abs(h)>=Math.abs(f)?h>0?a<s&&s<=l:l<=s&&s<a:f>0?u<o&&o<=c:c<=o&&o<u:"end"===i?Math.abs(h)>=Math.abs(f)?h>0?a<=s&&s<l:l<s&&s<=a:f>0?u<=o&&o<c:c<o&&o<=u:"both"===i&&(Math.abs(h)>=Math.abs(f)?h>0?a<s&&s<l:l<s&&s<a:f>0?u<o&&o<c:c<o&&o<u):Math.abs(h)>=Math.abs(f)?h>0?a<=s&&s<=l:l<=s&&s<=a:f>0?u<=o&&o<=c:c<=o&&o<=u}function l(t,e){const n=(0,s.bg)(t),r=(0,s.bg)(e),u=n.type,l=r.type,g=n.coordinates,d=r.coordinates;switch(u){case"Point":if("Point"===l)return f(g,d);throw new Error("feature2 "+l+" geometry not supported");case"MultiPoint":switch(l){case"Point":return function(t,e){let n,i=!1;for(n=0;n<t.coordinates.length;n++)if(f(t.coordinates[n],e.coordinates)){i=!0;break}return i}(n,r);case"MultiPoint":return function(t,e){for(const n of e.coordinates){let e=!1;for(const i of t.coordinates)if(f(n,i)){e=!0;break}if(!e)return!1}return!0}(n,r);default:throw new Error("feature2 "+l+" geometry not supported")}case"LineString":switch(l){case"Point":return a(r,n,{ignoreEndVertices:!0});case"LineString":return function(t,e){let n=!1;for(const i of e.coordinates)if(a({type:"Point",coordinates:i},t,{ignoreEndVertices:!0})&&(n=!0),!a({type:"Point",coordinates:i},t,{ignoreEndVertices:!1}))return!1;return n}(n,r);case"MultiPoint":return function(t,e){let n=!1;for(const i of e.coordinates)if(a(i,t,{ignoreEndVertices:!0})&&(n=!0),!a(i,t))return!1;return!!n}(n,r);default:throw new Error("feature2 "+l+" geometry not supported")}case"Polygon":switch(l){case"Point":return o(r,n,{ignoreBoundary:!0});case"LineString":return function(t,e){let n=!1,r=0;if(!h((0,i.Q)(t),(0,i.Q)(e)))return!1;for(;r<e.coordinates.length-1;r++)if(o({type:"Point",coordinates:(s=e.coordinates[r],a=e.coordinates[r+1],[(s[0]+a[0])/2,(s[1]+a[1])/2])},t,{ignoreBoundary:!0})){n=!0;break}var s,a;return n}(n,r);case"Polygon":return c(n,r);case"MultiPoint":return function(t,e){for(const n of e.coordinates)if(!o(n,t,{ignoreBoundary:!0}))return!1;return!0}(n,r);default:throw new Error("feature2 "+l+" geometry not supported")}case"MultiPolygon":if("Polygon"===l)return p=r,n.coordinates.some((t=>c({type:"Polygon",coordinates:t},p)));throw new Error("feature2 "+l+" geometry not supported");default:throw new Error("feature1 "+u+" geometry not supported")}var p}function c(t,e){if("Feature"===t.type&&null===t.geometry)return!1;if("Feature"===e.type&&null===e.geometry)return!1;if(!h((0,i.Q)(t),(0,i.Q)(e)))return!1;const n=(0,s.bg)(e).coordinates;for(const e of n)for(const n of e)if(!o(n,t))return!1;return!0}function h(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function f(t,e){return t[0]===e[0]&&t[1]===e[1]}},36202:(t,e,n)=>{"use strict";n.d(e,{r:()=>Ct});var i=n(85787),r=n(74739);var s=n(53114),o=n.n(s),a=n(28697);function u(){return new l}function l(){this.reset()}l.prototype={constructor:l,reset:function(){this.s=this.t=0},add:function(t){h(c,t,this.t),h(this,c.s,this.s),this.s?this.t+=c.t:this.s=c.t},valueOf:function(){return this.s}};var c=new l;function h(t,e,n){var i=t.s=e+n,r=i-e,s=i-r;t.t=e-s+(n-r)}var f=1e-6,g=Math.PI,d=g/2,p=g/4,v=2*g,y=180/g,m=g/180,_=Math.abs,k=Math.atan,x=Math.atan2,E=Math.cos,N=(Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin),b=(Math.sign,Math.sqrt);Math.tan;function I(t){return t>1?0:t<-1?g:Math.acos(t)}function w(t){return t>1?d:t<-1?-d:Math.asin(t)}function S(){}function T(t,e){t&&O.hasOwnProperty(t.type)&&O[t.type](t,e)}var L,C,R={Feature:function(t,e){T(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)T(n[i].geometry,e)}},O={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){A(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)A(n[i],e,0)},Polygon:function(t,e){M(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)M(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)T(n[i],e)}};function A(t,e,n){var i,r=-1,s=t.length-n;for(e.lineStart();++r<s;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function M(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)A(t[n],e,1);e.polygonEnd()}function D(t){return[x(t[1],t[0]),w(t[2])]}function P(t){var e=t[0],n=t[1],i=E(n);return[i*E(e),i*N(e),N(n)]}function q(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function F(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function G(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function U(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function B(t){var e=b(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Y(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function z(t,e){return[t>g?t-v:t<-g?t+v:t,e]}function X(t){return function(e,n){return[(e+=t)>g?e-v:e<-g?e+v:e,n]}}function V(t){var e=X(t);return e.invert=X(-t),e}function H(t,e){var n=E(t),i=N(t),r=E(e),s=N(e);function o(t,e){var o=E(e),a=E(t)*o,u=N(t)*o,l=N(e),c=l*n+a*i;return[x(u*r-c*s,a*n-l*i),w(c*r+u*s)]}return o.invert=function(t,e){var o=E(e),a=E(t)*o,u=N(t)*o,l=N(e),c=l*r-u*s;return[x(u*r+l*s,a*n+c*i),w(c*n-a*i)]},o}function j(t,e){(e=P(e))[0]-=t,B(e);var n=I(-e[1]);return((-e[2]<0?-n:n)+v-f)%v}function Z(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:S,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function W(t,e){return _(t[0]-e[0])<f&&_(t[1]-e[1])<f}function K(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function J(t,e,n,i,r){var s,o,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],o=t[e];if(W(i,o)){for(r.lineStart(),s=0;s<e;++s)r.point((i=t[s])[0],i[1]);r.lineEnd()}else a.push(n=new K(i,t,null,!0)),u.push(n.o=new K(i,null,n,!1)),a.push(n=new K(o,t,null,!1)),u.push(n.o=new K(o,null,n,!0))}})),a.length){for(u.sort(e),Q(a),Q(u),s=0,o=u.length;s<o;++s)u[s].e=n=!n;for(var l,c,h=a[0];;){for(var f=h,g=!0;f.v;)if((f=f.n)===h)return;l=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(g)for(s=0,o=l.length;s<o;++s)r.point((c=l[s])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(g)for(l=f.p.z,s=l.length-1;s>=0;--s)r.point((c=l[s])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}l=(f=f.o).z,g=!g}while(!f.v);r.lineEnd()}}}function Q(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function $(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}u(),u(),u(),z.invert=z,1===(L=$).length&&(C=L,L=function(t,e){return $(C(t),e)});var tt=Array.prototype;function et(t){for(var e,n,i,r=t.length,s=-1,o=0;++s<r;)o+=t[s].length;for(n=new Array(o);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--o]=i[e];return n}tt.slice,tt.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var nt=1e9,it=-nt;var rt=u();u(),u(),u();var st=1/0,ot=st,at=-st,ut=at;const lt={point:function(t,e){t<st&&(st=t),t>at&&(at=t),e<ot&&(ot=e),e>ut&&(ut=e)},lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S,result:function(){var t=[[st,ot],[at,ut]];return at=ut=-(ot=st=1/0),t}};function ct(t,e,n,i){return function(r,s){var o,a,u,l=e(s),c=r.invert(i[0],i[1]),h=Z(),d=e(h),y=!1,m={point:_,lineStart:b,lineEnd:I,polygonStart:function(){m.point=S,m.lineStart=T,m.lineEnd=L,a=[],o=[]},polygonEnd:function(){m.point=_,m.lineStart=b,m.lineEnd=I,a=et(a);var t=function(t,e){var n=e[0],i=e[1],r=[N(n),-E(n),0],s=0,o=0;rt.reset();for(var a=0,u=t.length;a<u;++a)if(c=(l=t[a]).length)for(var l,c,h=l[c-1],d=h[0],y=h[1]/2+p,m=N(y),_=E(y),k=0;k<c;++k,d=I,m=T,_=L,h=b){var b=l[k],I=b[0],S=b[1]/2+p,T=N(S),L=E(S),C=I-d,R=C>=0?1:-1,O=R*C,A=O>g,M=m*T;if(rt.add(x(M*R*N(O),_*L+M*E(O))),s+=A?C+R*v:C,A^d>=n^I>=n){var D=F(P(h),P(b));B(D);var q=F(r,D);B(q);var G=(A^C>=0?-1:1)*w(q[2]);(i>G||i===G&&(D[0]||D[1]))&&(o+=A^C>=0?1:-1)}}return(s<-f||s<f&&rt<-f)^1&o}(o,c);a.length?(y||(s.polygonStart(),y=!0),J(a,ft,t,n,s)):t&&(y||(s.polygonStart(),y=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),y&&(s.polygonEnd(),y=!1),a=o=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function _(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&s.point(e,n)}function k(t,e){var n=r(t,e);l.point(n[0],n[1])}function b(){m.point=k,l.lineStart()}function I(){m.point=_,l.lineEnd()}function S(t,e){u.push([t,e]);var n=r(t,e);d.point(n[0],n[1])}function T(){d.lineStart(),u=[]}function L(){S(u[0][0],u[0][1]),d.lineEnd();var t,e,n,i,r=d.clean(),l=h.result(),c=l.length;if(u.pop(),o.push(u),u=null,c)if(1&r){if((e=(n=l[0]).length-1)>0){for(y||(s.polygonStart(),y=!0),s.lineStart(),t=0;t<e;++t)s.point((i=n[t])[0],i[1]);s.lineEnd()}}else c>1&&2&r&&l.push(l.pop().concat(l.shift())),a.push(l.filter(ht))}return m}}function ht(t){return t.length>1}function ft(t,e){return((t=t.x)[0]<0?t[1]-d-f:d-t[1])-((e=e.x)[0]<0?e[1]-d-f:d-e[1])}u();const gt=ct((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,o){var a=s>0?g:-g,u=_(s-n);_(u-g)<f?(t.point(n,i=(i+o)/2>0?d:-d),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(s,i),e=0):r!==a&&u>=g&&(_(n-r)<f&&(n-=r*f),_(s-a)<f&&(s-=a*f),i=function(t,e,n,i){var r,s,o=N(t-n);return _(o)>f?k((N(e)*(s=E(i))*N(n)-N(i)*(r=E(e))*N(t))/(r*s*o)):(e+i)/2}(n,i,s,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=s,i=o),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*d,i.point(-g,r),i.point(0,r),i.point(g,r),i.point(g,0),i.point(g,-r),i.point(0,-r),i.point(-g,-r),i.point(-g,0),i.point(-g,r);else if(_(t[0]-e[0])>f){var s=t[0]<e[0]?g:-g;r=n*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(e[0],e[1])}),[-g,-d]);function dt(t){return t}function pt(t){return function(e){var n=new vt;for(var i in t)n[i]=t[i];return n.stream=e,n}}function vt(){}function yt(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],s=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=s&&t.clipExtent(null),function(t,e){t&&R.hasOwnProperty(t.type)?R[t.type](t,e):T(t,e)}(n,t.stream(lt));var o=lt.result(),a=Math.min(i/(o[1][0]-o[0][0]),r/(o[1][1]-o[0][1])),u=+e[0][0]+(i-a*(o[1][0]+o[0][0]))/2,l=+e[0][1]+(r-a*(o[1][1]+o[0][1]))/2;return null!=s&&t.clipExtent(s),t.scale(150*a).translate([u,l])}vt.prototype={constructor:vt,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var mt=16,_t=E(30*m);function kt(t,e){return+e?function(t,e){function n(i,r,s,o,a,u,l,c,h,g,d,p,v,y){var m=l-i,k=c-r,E=m*m+k*k;if(E>4*e&&v--){var N=o+g,I=a+d,S=u+p,T=b(N*N+I*I+S*S),L=w(S/=T),C=_(_(S)-1)<f||_(s-h)<f?(s+h)/2:x(I,N),R=t(C,L),O=R[0],A=R[1],M=O-i,D=A-r,P=k*M-m*D;(P*P/E>e||_((m*M+k*D)/E-.5)>.3||o*g+a*d+u*p<_t)&&(n(i,r,s,o,a,u,O,A,C,N/=T,I/=T,S,v,y),y.point(O,A),n(O,A,C,N,I,S,l,c,h,g,d,p,v,y))}}return function(e){var i,r,s,o,a,u,l,c,h,f,g,d,p={point:v,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),p.lineStart=k},polygonEnd:function(){e.polygonEnd(),p.lineStart=y}};function v(n,i){n=t(n,i),e.point(n[0],n[1])}function y(){c=NaN,p.point=m,e.lineStart()}function m(i,r){var s=P([i,r]),o=t(i,r);n(c,h,l,f,g,d,c=o[0],h=o[1],l=i,f=s[0],g=s[1],d=s[2],mt,e),e.point(c,h)}function _(){p.point=v,e.lineEnd()}function k(){y(),p.point=x,p.lineEnd=E}function x(t,e){m(i=t,e),r=c,s=h,o=f,a=g,u=d,p.point=m}function E(){n(c,h,l,f,g,d,r,s,i,o,a,u,mt,e),p.lineEnd=_,_()}return p}}(t,e):function(t){return pt({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var xt=pt({point:function(t,e){this.stream.point(t*m,e*m)}});function Et(t){return function(t){var e,n,i,r,s,o,a,u,l,c,h=150,d=480,p=250,k=0,x=0,I=0,w=0,S=0,T=null,L=gt,C=null,R=dt,O=.5,A=kt(X,O);function M(t){return[(t=s(t[0]*m,t[1]*m))[0]*h+n,i-t[1]*h]}function B(t){return(t=s.invert((t[0]-n)/h,(i-t[1])/h))&&[t[0]*y,t[1]*y]}function X(t,r){return[(t=e(t,r))[0]*h+n,i-t[1]*h]}function K(){s=Y(r=function(t,e,n){return(t%=v)?e||n?Y(V(t),H(e,n)):V(t):e||n?H(e,n):z}(I,w,S),e);var t=e(k,x);return n=d-t[0]*h,i=p+t[1]*h,Q()}function Q(){return l=c=null,M}return M.stream=function(t){return l&&c===t?l:l=xt(L(r,A(R(c=t))))},M.clipAngle=function(t){return arguments.length?(L=+t?function(t,e){var n=E(t),i=n>0,r=_(n)>f;function s(t,e){return E(t)*E(e)>n}function o(t,e,i){var r=[1,0,0],s=F(P(t),P(e)),o=q(s,s),a=s[0],u=o-a*a;if(!u)return!i&&t;var l=n*o/u,c=-n*a/u,h=F(r,s),d=U(r,l);G(d,U(s,c));var p=h,v=q(d,p),y=q(p,p),m=v*v-y*(q(d,d)-1);if(!(m<0)){var k=b(m),x=U(p,(-v-k)/y);if(G(x,d),x=D(x),!i)return x;var E,N=t[0],I=e[0],w=t[1],S=e[1];I<N&&(E=N,N=I,I=E);var T=I-N,L=_(T-g)<f;if(!L&&S<w&&(E=w,w=S,S=E),L||T<f?L?w+S>0^x[1]<(_(x[0]-N)<f?w:S):w<=x[1]&&x[1]<=S:T>g^(N<=x[0]&&x[0]<=I)){var C=U(p,(-v+k)/y);return G(C,d),[x,D(C)]}}}function a(e,n){var r=i?t:g-t,s=0;return e<-r?s|=1:e>r&&(s|=2),n<-r?s|=4:n>r&&(s|=8),s}return ct(s,(function(t){var e,n,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,d){var p,v=[h,d],y=s(h,d),m=i?y?0:a(h,d):y?a(h+(h<0?g:-g),d):0;if(!e&&(l=u=y)&&t.lineStart(),y!==u&&(!(p=o(e,v))||W(e,p)||W(v,p))&&(v[0]+=f,v[1]+=f,y=s(v[0],v[1])),y!==u)c=0,y?(t.lineStart(),p=o(v,e),t.point(p[0],p[1])):(p=o(e,v),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(r&&e&&i^y){var _;m&n||!(_=o(v,e,!0))||(c=0,i?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!y||e&&W(e,v)||t.point(v[0],v[1]),e=v,u=y,n=m},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}}),(function(n,i,r,s){!function(t,e,n,i,r,s){if(n){var o=E(e),a=N(e),u=i*n;null==r?(r=e+i*v,s=e-u/2):(r=j(o,r),s=j(o,s),(i>0?r<s:r>s)&&(r+=i*v));for(var l,c=r;i>0?c>s:c<s;c-=u)l=D([o,-a*E(c),-a*N(c)]),t.point(l[0],l[1])}}(s,t,e,r,n,i)}),i?[0,-t]:[-g,t-g])}(T=t*m,6*m):(T=null,gt),Q()):T*y},M.clipExtent=function(t){return arguments.length?(R=null==t?(C=o=a=u=null,dt):function(t,e,n,i){function r(r,s){return t<=r&&r<=n&&e<=s&&s<=i}function s(r,s,a,l){var c=0,h=0;if(null==r||(c=o(r,a))!==(h=o(s,a))||u(r,s)<0^a>0)do{l.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+a+4)%4)!==h);else l.point(s[0],s[1])}function o(i,r){return _(i[0]-t)<f?r>0?0:3:_(i[0]-n)<f?r>0?2:1:_(i[1]-e)<f?r>0?1:0:r>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=o(t,1),i=o(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var u,l,c,h,f,g,d,p,v,y,m,_=o,k=Z(),x={point:E,lineStart:function(){x.point=N,l&&l.push(c=[]),y=!0,v=!1,d=p=NaN},lineEnd:function(){u&&(N(h,f),g&&v&&k.rejoin(),u.push(k.result())),x.point=E,v&&_.lineEnd()},polygonStart:function(){_=k,u=[],l=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=l.length;n<r;++n)for(var s,o,a=l[n],u=1,c=a.length,h=a[0],f=h[0],g=h[1];u<c;++u)s=f,o=g,f=(h=a[u])[0],g=h[1],o<=i?g>i&&(f-s)*(i-o)>(g-o)*(t-s)&&++e:g<=i&&(f-s)*(i-o)<(g-o)*(t-s)&&--e;return e}(),n=m&&e,r=(u=et(u)).length;(n||r)&&(o.polygonStart(),n&&(o.lineStart(),s(null,null,1,o),o.lineEnd()),r&&J(u,a,e,s,o),o.polygonEnd()),_=o,u=l=c=null}};function E(t,e){r(t,e)&&_.point(t,e)}function N(s,o){var a=r(s,o);if(l&&c.push([s,o]),y)h=s,f=o,g=a,y=!1,a&&(_.lineStart(),_.point(s,o));else if(a&&v)_.point(s,o);else{var u=[d=Math.max(it,Math.min(nt,d)),p=Math.max(it,Math.min(nt,p))],k=[s=Math.max(it,Math.min(nt,s)),o=Math.max(it,Math.min(nt,o))];!function(t,e,n,i,r,s){var o,a=t[0],u=t[1],l=0,c=1,h=e[0]-a,f=e[1]-u;if(o=n-a,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>l&&(l=o)}if(o=r-a,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<c&&(c=o)}if(o=i-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=s-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}return l>0&&(t[0]=a+l*h,t[1]=u+l*f),c<1&&(e[0]=a+c*h,e[1]=u+c*f),!0}}}}}(u,k,t,e,n,i)?a&&(_.lineStart(),_.point(s,o),m=!1):(v||(_.lineStart(),_.point(u[0],u[1])),_.point(k[0],k[1]),a||_.lineEnd(),m=!1)}d=s,p=o,v=a}return x}}(C=+t[0][0],o=+t[0][1],a=+t[1][0],u=+t[1][1]),Q()):null==C?null:[[C,o],[a,u]]},M.scale=function(t){return arguments.length?(h=+t,K()):h},M.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],K()):[d,p]},M.center=function(t){return arguments.length?(k=t[0]%360*m,x=t[1]%360*m,K()):[k*y,x*y]},M.rotate=function(t){return arguments.length?(I=t[0]%360*m,w=t[1]%360*m,S=t.length>2?t[2]%360*m:0,K()):[I*y,w*y,S*y]},M.precision=function(t){return arguments.length?(A=kt(X,O=t*t),Q()):b(O)},M.fitExtent=function(t,e){return yt(M,t,e)},M.fitSize=function(t,e){return function(t,e,n){return yt(t,[[0,0],e],n)}(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&B,K()}}((function(){return t}))()}function Nt(t){return function(e,n){var i=E(e),r=E(n),s=t(i*r);return[s*r*N(e),s*N(n)]}}function bt(t){return function(e,n){var i=b(e*e+n*n),r=t(i),s=N(r),o=E(r);return[x(e*s,i*o),w(i&&n*s/i)]}}Nt((function(t){return b(2/(1+t))})).invert=bt((function(t){return 2*w(t/2)}));var It=Nt((function(t){return(t=I(t))&&t/N(t)}));function wt(t,e){return[t,e]}It.invert=bt((function(t){return t})),wt.invert=wt,bt(k),bt(w),bt((function(t){return 2*k(t)}));var{BufferOp:St,GeoJSONReader:Tt,GeoJSONWriter:Lt}=o();function Ct(t,e,n){var i=(n=n||{}).units||"kilometers",s=n.steps||8;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof s)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(s<=0)throw new Error("steps must be greater than 0");var o=[];switch(t.type){case"GeometryCollection":return(0,a.kX)(t,(function(t){var n=Rt(t,e,i,s);n&&o.push(n)})),(0,r.Lr)(o);case"FeatureCollection":return(0,a.us)(t,(function(t){var n=Rt(t,e,i,s);n&&(0,a.us)(n,(function(t){t&&o.push(t)}))})),(0,r.Lr)(o)}return Rt(t,e,i,s)}function Rt(t,e,n,s){var o=t.properties||{},u="Feature"===t.type?t.geometry:t;if("GeometryCollection"===u.type){var l=[];return(0,a.kX)(t,(function(t){var i=Rt(t,e,n,s);i&&l.push(i)})),(0,r.Lr)(l)}var c=function(t){var e=function(t,e={}){const n=(0,i.Q)(t),s=(n[0]+n[2])/2,o=(n[1]+n[3])/2;return(0,r.zx)([s,o],e.properties,e)}(t).geometry.coordinates,n=[-e[0],-e[1]];return Et(It).scale(79.4188).clipAngle(179.999).rotate(n).scale(r.zX)}(u),h={type:u.type,coordinates:At(u.coordinates,c)},f=(new Tt).read(h),g=(0,r.cJ)((0,r.Gf)(e,n),"meters"),d=St.bufferOp(f,g,s);if(!Ot((d=(new Lt).write(d)).coordinates)){var p={type:d.type,coordinates:Mt(d.coordinates,c)};return(0,r.N4)(p,o)}}function Ot(t){return Array.isArray(t[0])?Ot(t[0]):isNaN(t[0])}function At(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return At(t,e)}))}function Mt(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return Mt(t,e)}))}},91622:(t,e,n)=>{"use strict";n.d(e,{N:()=>l});var i=n(74739),r=n(28697),s=n(71582),o=n.n(s);function a(t,e={}){let n=0,s=0,o=0;return(0,r.Fh)(t,(function(t){n+=t[0],s+=t[1],o++}),!0),(0,i.zx)([n/o,s/o],e.properties)}var u=n(56608);function l(t,e={}){switch((0,u.Pw)(t)){case"Point":return(0,i.zx)((0,u.uG)(t),e.properties);case"Polygon":var n=[];(0,r.Fh)(t,(function(t){n.push(t)}));var s,c,h,f,g,d,p,v,y=a(t,{properties:e.properties}),m=y.geometry.coordinates,_=0,k=0,x=0,E=n.map((function(t){return[t[0]-m[0],t[1]-m[1]]}));for(s=0;s<n.length-1;s++)f=(c=E[s])[0],d=c[1],g=(h=E[s+1])[0],x+=v=f*(p=h[1])-g*d,_+=(f+g)*v,k+=(d+p)*v;if(0===x)return y;var N=1/(.5*x*6);return(0,i.zx)([m[0]+N*_,m[1]+N*k],e.properties);default:var b=function(t,e={}){e.concavity=e.concavity||1/0;const n=[];if((0,r.Fh)(t,(t=>{n.push([t[0],t[1]])})),!n.length)return null;const s=o()(n,e.concavity);return s.length>3?(0,i.n1)([s]):null}(t);return b?l(b,{properties:e.properties}):a(t,{properties:e.properties})}}},73610:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var i=n(35008),r=n(74739);function s(t,e,n={}){const s=n.steps||64,o=n.properties?n.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},a=[];for(let r=0;r<s;r++)a.push((0,i.j)(t,e,-360*r/s,n).geometry.coordinates);return a.push(a[0]),(0,r.n1)([a],o)}},35008:(t,e,n)=>{"use strict";n.d(e,{j:()=>s});var i=n(74739),r=n(56608);function s(t,e,n,s={}){const o=(0,r.uG)(t),a=(0,i.tR)(o[0]),u=(0,i.tR)(o[1]),l=(0,i.tR)(n),c=(0,i.Gf)(e,s.units),h=Math.asin(Math.sin(u)*Math.cos(c)+Math.cos(u)*Math.sin(c)*Math.cos(l)),f=a+Math.atan2(Math.sin(l)*Math.sin(c)*Math.cos(u),Math.cos(c)-Math.sin(u)*Math.sin(h)),g=(0,i.nv)(f),d=(0,i.nv)(h);return(0,i.zx)([g,d],s.properties)}},20299:(t,e,n)=>{"use strict";n.d(e,{I:()=>s});var i=n(56608),r=n(74739);function s(t,e,n={}){var s=(0,i.uG)(t),o=(0,i.uG)(e),a=(0,r.tR)(o[1]-s[1]),u=(0,r.tR)(o[0]-s[0]),l=(0,r.tR)(s[1]),c=(0,r.tR)(o[1]),h=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(l)*Math.cos(c);return(0,r.cJ)(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),n.units)}},74739:(t,e,n)=>{"use strict";n.d(e,{Gf:()=>f,Gv:()=>y,Lr:()=>l,N4:()=>s,NU:()=>c,cJ:()=>h,n1:()=>a,nv:()=>d,tR:()=>p,vl:()=>g,wi:()=>u,zX:()=>i,zx:()=>o});var i=6371008.8,r={centimeters:100*i,centimetres:100*i,degrees:360/(2*Math.PI),feet:3.28084*i,inches:39.37*i,kilometers:i/1e3,kilometres:i/1e3,meters:i,metres:i,miles:i/1609.344,millimeters:1e3*i,millimetres:1e3*i,nauticalmiles:i/1852,radians:1,yards:1.0936*i};function s(t,e,n={}){const i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function o(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!v(t[0])||!v(t[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:t},e,n)}function a(t,e,n={}){for(const e of t){if(e.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(e[e.length-1].length!==e[0].length)throw new Error("First and last Position are not equivalent.");for(let t=0;t<e[e.length-1].length;t++)if(e[e.length-1][t]!==e[0][t])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:t},e,n)}function u(t,e,n={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:t},e,n)}function l(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function c(t,e,n={}){return s({type:"MultiLineString",coordinates:t},e,n)}function h(t,e="kilometers"){const n=r[e];if(!n)throw new Error(e+" units is invalid");return t*n}function f(t,e="kilometers"){const n=r[e];if(!n)throw new Error(e+" units is invalid");return t/n}function g(t,e){return d(f(t,e))}function d(t){return t%(2*Math.PI)*180/Math.PI}function p(t){return t%360*Math.PI/180}function v(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function y(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)}},56608:(t,e,n)=>{"use strict";function i(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return[...t.geometry.coordinates];if("Point"===t.type)return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function r(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function s(t){return"Feature"===t.type?t.geometry:t}function o(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}n.d(e,{$R:()=>r,Pw:()=>o,bg:()=>s,uG:()=>i})},53114:function(t){t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function a(t,e,n){return a=o()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&s(r,n.prototype),r},a.apply(null,arguments)}function u(t){var e="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return a(t,arguments,r(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s(i,t)},u(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){var e=o();return function(){var n,i=r(t);if(e){var s=r(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}(this,n)}}function h(t,e,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(n):s.value}},h(t,e,n||t)}function f(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function p(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=g(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}var v=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=e.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=e.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==e.JOIN_ROUND&&(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(t){this._joinStyle=t}},{key:"setSimplifyFactor",value:function(t){this._simplifyFactor=t<0?0:t}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(t){this._endCapStyle=t}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(t){this._mitreLimit=t}},{key:"setSingleSided",value:function(t){this._isSingleSided=t}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(s),this.setJoinStyle(o),this.setMitreLimit(a)}}},{key:"bufferDistanceError",value:function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)}}]),e}();v.CAP_ROUND=1,v.CAP_FLAT=2,v.CAP_SQUARE=3,v.JOIN_ROUND=1,v.JOIN_MITRE=2,v.JOIN_BEVEL=3,v.DEFAULT_QUADRANT_SEGMENTS=8,v.DEFAULT_MITRE_LIMIT=5,v.DEFAULT_SIMPLIFY_FACTOR=.01;var y=function(e){i(s,e);var r=c(s);function s(e){var n;return t(this,s),(n=r.call(this,e)).name=Object.keys({Exception:s})[0],n}return n(s,[{key:"toString",value:function(){return this.message}}]),s}(u(Error)),m=function(e){i(r,e);var n=c(r);function r(e){var i;return t(this,r),(i=n.call(this,e)).name=Object.keys({IllegalArgumentException:r})[0],i}return r}(y),_=function(){function e(){t(this,e)}return n(e,[{key:"filter",value:function(t){}}]),e}();function k(){}function x(){}function E(){}var N,b,I,w,S,T,L,C=function(){function e(){t(this,e)}return n(e,null,[{key:"equalsWithTolerance",value:function(t,e,n){return Math.abs(t-e)<=n}}]),e}(),R=function(){function e(n,i){t(this,e),this.low=i||0,this.high=n||0}return n(e,null,[{key:"toBinaryString",value:function(t){var e,n="";for(e=2147483648;e>0;e>>>=1)n+=(t.high&e)===e?"1":"0";for(e=2147483648;e>0;e>>>=1)n+=(t.low&e)===e?"1":"0";return n}}]),e}();function O(){}function A(){}O.NaN=NaN,O.isNaN=function(t){return Number.isNaN(t)},O.isInfinite=function(t){return!Number.isFinite(t)},O.MAX_VALUE=Number.MAX_VALUE,O.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,O.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,"function"==typeof Float64Array&&"function"==typeof Int32Array?(S=2146435072,T=new Float64Array(1),L=new Int32Array(T.buffer),O.doubleToLongBits=function(t){T[0]=t;var e=0|L[0],n=0|L[1];return(n&S)===S&&0!=(1048575&n)&&0!==e&&(e=0,n=2146959360),new R(n,e)},O.longBitsToDouble=function(t){return L[0]=t.low,L[1]=t.high,T[0]}):(1023,N=Math.log2,b=Math.floor,I=Math.pow,w=function(){for(var t=53;t>0;t--){var e=I(2,t)-1;if(b(N(e))+1===t)return e}return 0}(),O.doubleToLongBits=function(t){var e,n,i,r,s,o,a,u,l;if(t<0||1/t===Number.NEGATIVE_INFINITY?(o=1<<31,t=-t):o=0,0===t)return new R(u=o,l=0);if(t===1/0)return new R(u=2146435072|o,l=0);if(t!=t)return new R(u=2146959360,l=0);if(r=0,l=0,(e=b(t))>1)if(e<=w)(r=b(N(e)))<=20?(l=0,u=e<<20-r&1048575):(l=e%(n=I(2,i=r-20))<<32-i,u=e/n&1048575);else for(i=e,l=0;0!==(i=b(n=i/2));)r++,l>>>=1,l|=(1&u)<<31,u>>>=1,n!==i&&(u|=524288);if(a=r+1023,s=0===e,e=t-e,r<52&&0!==e)for(i=0;;){if((n=2*e)>=1?(e=n-1,s?(a--,s=!1):(i<<=1,i|=1,r++)):(e=n,s?0==--a&&(r++,s=!1):(i<<=1,r++)),20===r)u|=i,i=0;else if(52===r){l|=i;break}if(1===n){r<20?u|=i<<20-r:r<52&&(l|=i<<52-r);break}}return u|=a<<20,new R(u|=o,l)},O.longBitsToDouble=function(t){var e,n,i,r,s=t.high,o=t.low,a=s&1<<31?-1:1;for(i=((2146435072&s)>>20)-1023,r=0,n=1<<19,e=1;e<=20;e++)s&n&&(r+=I(2,-e)),n>>>=1;for(n=1<<31,e=21;e<=52;e++)o&n&&(r+=I(2,-e)),n>>>=1;if(-1023===i){if(0===r)return 0*a;i=-1022}else{if(1024===i)return 0===r?a/0:NaN;r+=1}return a*r*I(2,i)});var M=function(e){i(r,e);var n=c(r);function r(e){var i;return t(this,r),(i=n.call(this,e)).name=Object.keys({RuntimeException:r})[0],i}return r}(y),D=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),e=r.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,null,[{key:"constructor_",value:function(){if(0===arguments.length)M.constructor_.call(this);else if(1===arguments.length){var t=arguments[0];M.constructor_.call(this,t)}}}]),s}(M),P=function(){function e(){t(this,e)}return n(e,null,[{key:"shouldNeverReachHere",value:function(){if(0===arguments.length)e.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new D("Should never reach here"+(null!==t?": "+t:""))}}},{key:"isTrue",value:function(){if(1===arguments.length){var t=arguments[0];e.isTrue(t,null)}else if(2===arguments.length){var n=arguments[1];if(!arguments[0])throw null===n?new D:new D(n)}}},{key:"equals",value:function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];e.equals(t,n,null)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];if(!r.equals(i))throw new D("Expected "+i+" but encountered "+r+(null!==s?": "+s:""))}}}]),e}(),q=new ArrayBuffer(8),F=new Float64Array(q),G=new Int32Array(q),U=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getM",value:function(){return O.NaN}},{key:"setOrdinate",value:function(t,n){switch(t){case e.X:this.x=n;break;case e.Y:this.y=n;break;case e.Z:this.setZ(n);break;default:throw new m("Invalid ordinate index: "+t)}}},{key:"equals2D",value:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!C.equalsWithTolerance(this.x,e.x,n)&&!!C.equalsWithTolerance(this.y,e.y,n)}}},{key:"setM",value:function(t){throw new m("Invalid ordinate index: "+e.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(t){switch(t){case e.X:return this.x;case e.Y:return this.y;case e.Z:return this.getZ()}throw new m("Invalid ordinate index: "+t)}},{key:"equals3D",value:function(t){return this.x===t.x&&this.y===t.y&&(this.getZ()===t.getZ()||O.isNaN(this.getZ())&&O.isNaN(t.getZ()))}},{key:"equals",value:function(t){return t instanceof e&&this.equals2D(t)}},{key:"equalInZ",value:function(t,e){return C.equalsWithTolerance(this.getZ(),t.getZ(),e)}},{key:"setX",value:function(t){this.x=t}},{key:"compareTo",value:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(t){this.z=t}},{key:"clone",value:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return P.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.getZ()-t.getZ();return Math.sqrt(e*e+n*n+i*i)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(t){this.y=t}},{key:"distance",value:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}},{key:"hashCode",value:function(){var t=17;return 37*(t=37*t+e.hashCode(this.x))+e.hashCode(this.y)}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}},{key:"interfaces_",get:function(){return[k,x,E]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)e.constructor_.call(this,0,0);else if(1===arguments.length){var t=arguments[0];e.constructor_.call(this,t.x,t.y,t.getZ())}else if(2===arguments.length){var n=arguments[0],i=arguments[1];e.constructor_.call(this,n,i,e.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this.x=r,this.y=s,this.z=o}}},{key:"hashCode",value:function(t){return F[0]=t,G[0]^G[1]}}]),e}(),B=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"compare",value:function(t,n){var i=e.compare(t.x,n.x);if(0!==i)return i;var r=e.compare(t.y,n.y);return 0!==r?r:this._dimensionsToTest<=2?0:e.compare(t.getZ(),n.getZ())}},{key:"interfaces_",get:function(){return[A]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,0===arguments.length)e.constructor_.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new m("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}},{key:"compare",value:function(t,e){return t<e?-1:t>e?1:O.isNaN(t)?O.isNaN(e)?0:-1:O.isNaN(e)?1:0}}]),e}();U.DimensionalComparator=B,U.NULL_ORDINATE=O.NaN,U.X=0,U.Y=1,U.Z=2,U.M=3;var Y=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(t){if(!(t instanceof e))return!1;var n=t;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()}},{key:"intersection",value:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new e;var n=this._minx>t._minx?this._minx:t._minx,i=this._miny>t._miny?this._miny:t._miny;return new e(n,this._maxx<t._maxx?this._maxx:t._maxx,i,this._maxy<t._maxy?this._maxy:t._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(1===arguments.length){if(arguments[0]instanceof U){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof e){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return!this.isNull()&&i>=this._minx&&i<=this._maxx&&r>=this._miny&&r<=this._maxy}}},{key:"intersects",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof U){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(2===arguments.length){if(arguments[0]instanceof U&&arguments[1]instanceof U){var i=arguments[0],r=arguments[1];return!(this.isNull()||(i.x<r.x?i.x:r.x)>this._maxx||(i.x>r.x?i.x:r.x)<this._minx||(i.y<r.y?i.y:r.y)>this._maxy||(i.y>r.y?i.y:r.y)<this._miny)}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],o=arguments[1];return!this.isNull()&&!(s>this._maxx||s<this._minx||o>this._maxy||o<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return Math.sqrt(t*t+e*e)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(1===arguments.length){if(arguments[0]instanceof U){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=r,this._maxy=r):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0}},{key:"translate",value:function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)}},{key:"copy",value:function(){return new e(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(t){return!(!this.isNull()&&!t.isNull())||t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e}},{key:"expandBy",value:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof U){var n=arguments[0];return this.covers(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return this.covers(i,r)}}},{key:"centre",value:function(){return this.isNull()?null:new U((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof U){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2],u=arguments[3];s<o?(this._minx=s,this._maxx=o):(this._minx=o,this._maxx=s),a<u?(this._miny=a,this._maxy=u):(this._miny=u,this._maxy=a)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)}},{key:"hashCode",value:function(){var t=17;return 37*(t=37*(t=37*(t=37*t+U.hashCode(this._minx))+U.hashCode(this._maxx))+U.hashCode(this._miny))+U.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[k,E]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof U){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2],u=arguments[3];this.init(s,o,a,u)}}},{key:"intersects",value:function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3],a=Math.min(s.x,o.x),u=Math.max(s.x,o.x),l=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(l>u||c<a||(a=Math.min(s.y,o.y),u=Math.max(s.y,o.y),l=Math.min(i.y,r.y),c=Math.max(i.y,r.y),l>u||c<a))}}}]),e}(),z=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(t){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(t){return this===t||this.equalsExact(t,0)}},{key:"geometryChanged",value:function(){this.apply(e.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(t){return null!==t&&this.norm().equalsExact(t.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var t;if(1===arguments.length){var e=arguments[0];return t=e,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return t=n,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(n,i)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(t){if(t.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION)throw new m("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n}},{key:"norm",value:function(){var t=this.copy();return t.normalize(),t}},{key:"reverse",value:function(){var t=this.reverseInternal();return null!=this.envelope&&(t.envelope=this.envelope.copy()),t.setSRID(this.getSRID()),t}},{key:"copy",value:function(){var t=this.copyInternal();return t.envelope=null==this._envelope?null:this._envelope.copy(),t._SRID=this._SRID,t._userData=this._userData,t}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Y(this._envelope)}},{key:"setSRID",value:function(t){this._SRID=t}},{key:"setUserData",value:function(t){this._userData=t}},{key:"compare",value:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),s=i.next(),o=r.compareTo(s);if(0!==o)return o}return n.hasNext()?1:i.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(t){return this.getClass()===t.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===e.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===e.TYPECODE_MULTIPOINT||this.getTypeCode()===e.TYPECODE_MULTILINESTRING||this.getTypeCode()===e.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[x,k,E]}},{key:"getClass",value:function(){return e}}],[{key:"hasNonEmptyElements",value:function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1}}]),e}();z.constructor_=function(t){t&&(this._envelope=null,this._userData=null,this._factory=t,this._SRID=t.getSRID())},z.TYPECODE_POINT=0,z.TYPECODE_MULTIPOINT=1,z.TYPECODE_LINESTRING=2,z.TYPECODE_LINEARRING=3,z.TYPECODE_MULTILINESTRING=4,z.TYPECODE_POLYGON=5,z.TYPECODE_MULTIPOLYGON=6,z.TYPECODE_GEOMETRYCOLLECTION=7,z.TYPENAME_POINT="Point",z.TYPENAME_MULTIPOINT="MultiPoint",z.TYPENAME_LINESTRING="LineString",z.TYPENAME_LINEARRING="LinearRing",z.TYPENAME_MULTILINESTRING="MultiLineString",z.TYPENAME_POLYGON="Polygon",z.TYPENAME_MULTIPOLYGON="MultiPolygon",z.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",z.geometryChangedFilter={get interfaces_(){return[_]},filter:function(t){t.geometryChangedAction()}};var X=function(){function e(){t(this,e)}return n(e,null,[{key:"toLocationSymbol",value:function(t){switch(t){case e.EXTERIOR:return"e";case e.BOUNDARY:return"b";case e.INTERIOR:return"i";case e.NONE:return"-"}throw new m("Unknown location value: "+t)}}]),e}();X.INTERIOR=0,X.BOUNDARY=1,X.EXTERIOR=2,X.NONE=-1;var V=function(){function e(){t(this,e)}return n(e,[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}]),e}(),H=function(e){i(r,e);var n=c(r);function r(e){var i;return t(this,r),(i=n.call(this,e)).name=Object.keys({NoSuchElementException:r})[0],i}return r}(y),j=function(e){i(r,e);var n=c(r);function r(e){var i;return t(this,r),(i=n.call(this,e)).name=Object.keys({UnsupportedOperationException:r})[0],i}return r}(y),Z=function(e){i(s,e);var r=c(s);function s(){return t(this,s),r.apply(this,arguments)}return n(s,[{key:"contains",value:function(){}}]),s}(V),W=function(e,r){i(o,e);var s=c(o);function o(e){var n;return t(this,o),(n=s.call(this)).map=new Map,e instanceof V&&n.addAll(e),n}return n(o,[{key:"contains",value:function(t){var e=t.hashCode?t.hashCode():t;return!!this.map.has(e)}},{key:"add",value:function(t){var e=t.hashCode?t.hashCode():t;return!this.map.has(e)&&!!this.map.set(e,t)}},{key:"addAll",value:function(t){var e,n=p(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.add(i)}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new j}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new K(this.map)}},{key:r,value:function(){return this.map}}]),o}(Z,Symbol.iterator),K=function(){function e(n){t(this,e),this.iterator=n.values();var i=this.iterator.next(),r=i.done,s=i.value;this.done=r,this.value=s}return n(e,[{key:"next",value:function(){if(this.done)throw new H;var t=this.value,e=this.iterator.next(),n=e.done,i=e.value;return this.done=n,this.value=i,t}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new j}}]),e}(),J=function(){function e(){t(this,e)}return n(e,null,[{key:"opposite",value:function(t){return t===e.LEFT?e.RIGHT:t===e.RIGHT?e.LEFT:t}}]),e}();J.ON=0,J.LEFT=1,J.RIGHT=2;var Q=function(e){i(r,e);var n=c(r);function r(e){var i;return t(this,r),(i=n.call(this,e)).name=Object.keys({EmptyStackException:r})[0],i}return r}(y),$=function(e){i(r,e);var n=c(r);function r(e){var i;return t(this,r),(i=n.call(this,e)).name=Object.keys({IndexOutOfBoundsException:r})[0],i}return r}(y),tt=function(e){i(s,e);var r=c(s);function s(){return t(this,s),r.apply(this,arguments)}return n(s,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}]),s}(V),et=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),(e=r.call(this)).array=[],e}return n(s,[{key:"add",value:function(t){return this.array.push(t),!0}},{key:"get",value:function(t){if(t<0||t>=this.size())throw new $;return this.array[t]}},{key:"push",value:function(t){return this.array.push(t),t}},{key:"pop",value:function(){if(0===this.array.length)throw new Q;return this.array.pop()}},{key:"peek",value:function(){if(0===this.array.length)throw new Q;return this.array[this.array.length-1]}},{key:"empty",value:function(){return 0===this.array.length}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(t){return this.array.indexOf(t)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}]),s}(tt);function nt(t,e){return t.interfaces_&&t.interfaces_.indexOf(e)>-1}var it=function(){function e(n){t(this,e),this.str=n}return n(e,[{key:"append",value:function(t){this.str+=t}},{key:"setCharAt",value:function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)}},{key:"toString",value:function(){return this.str}}]),e}(),rt=function(){function e(n){t(this,e),this.value=n}return n(e,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(t){return this.value<t?-1:this.value>t?1:0}}],[{key:"compare",value:function(t,e){return t<e?-1:t>e?1:0}},{key:"isNan",value:function(t){return Number.isNaN(t)}},{key:"valueOf",value:function(t){return new e(t)}}]),e}(),st=function(){function e(){t(this,e)}return n(e,null,[{key:"isWhitespace",value:function(t){return t<=32&&t>=0||127===t}},{key:"toUpperCase",value:function(t){return t.toUpperCase()}}]),e}(),ot=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"le",value:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo}},{key:"extractSignificantDigits",value:function(t,n){var i=this.abs(),r=e.magnitude(i._hi),s=e.TEN.pow(r);(i=i.divide(s)).gt(e.TEN)?(i=i.divide(e.TEN),r+=1):i.lt(e.ONE)&&(i=i.multiply(e.TEN),r-=1);for(var o=r+1,a=new it,u=e.MAX_PRINT_DIGITS-1,l=0;l<=u;l++){t&&l===o&&a.append(".");var c=Math.trunc(i._hi);if(c<0)break;var h=!1,f=0;c>9?(h=!0,f="9"):f="0"+c,a.append(f),i=i.subtract(e.valueOf(c)).multiply(e.TEN),h&&i.selfAdd(e.TEN);var g=!0,d=e.magnitude(i._hi);if(d<0&&Math.abs(d)>=u-l&&(g=!1),!g)break}return n[0]=r,a.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var n=arguments[0];return this.add(-n)}}},{key:"equals",value:function(){if(1===arguments.length&&arguments[0]instanceof e){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}}},{key:"isZero",value:function(){return 0===this._hi&&0===this._lo}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(t){return this.le(t)?this:t}},{key:"selfDivide",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfDivide(n,0)}}else if(2===arguments.length){var i,r,s,o,a=arguments[0],u=arguments[1],l=null,c=null,h=null,f=null;return s=this._hi/a,f=(l=(h=e.SPLIT*s)-(l=h-s))*(c=(f=e.SPLIT*a)-(c=f-a))-(o=s*a)+l*(r=a-c)+(i=s-l)*c+i*r,f=s+(h=(this._hi-o-f+this._lo-s*u)/a),this._hi=f,this._lo=s-f+h,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof e){var t,n,i,r,s=arguments[0],o=null,a=null,u=null,l=null;return t=(i=this._hi/s._hi)-(o=(u=e.SPLIT*i)-(o=u-i)),l=o*(a=(l=e.SPLIT*s._hi)-(a=l-s._hi))-(r=i*s._hi)+o*(n=s._hi-a)+t*a+t*n,new e(l=i+(u=(this._hi-r-l+this._lo-i*s._lo)/s._hi),i-l+u)}if("number"==typeof arguments[0]){var c=arguments[0];return O.isNaN(c)?e.createNaN():e.copy(this).selfDivide(c,0)}}},{key:"ge",value:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo}},{key:"pow",value:function(t){if(0===t)return e.valueOf(1);var n=new e(this),i=e.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&i.selfMultiply(n),(r/=2)>0&&(n=n.sqr());else i=n;return t<0?i.reciprocal():i}},{key:"ceil",value:function(){if(this.isNaN())return e.NaN;var t=Math.ceil(this._hi),n=0;return t===this._hi&&(n=Math.ceil(this._lo)),new e(t,n)}},{key:"compareTo",value:function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var n=arguments[0];return this.init(n),this}}},{key:"max",value:function(t){return this.ge(t)?this:t}},{key:"sqrt",value:function(){if(this.isZero())return e.valueOf(0);if(this.isNegative())return e.NaN;var t=1/Math.sqrt(this._hi),n=this._hi*t,i=e.valueOf(n),r=this.subtract(i.sqr())._hi*(.5*t);return i.add(r)}},{key:"selfAdd",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var n,i,r,s,o,a=arguments[0],u=null;return u=(r=this._hi+a)-(s=r-this._hi),i=(o=(u=a-s+(this._hi-u))+this._lo)+(r-(n=r+o)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var l,c,h,f,g=arguments[0],d=arguments[1],p=null,v=null,y=null;h=this._hi+g,c=this._lo+d,v=h-(y=h-this._hi),p=c-(f=c-this._lo);var m=(l=h+(y=(v=g-y+(this._hi-v))+c))+(y=(p=d-f+(this._lo-p))+(y+(h-l))),_=y+(l-m);return this._hi=m,this._lo=_,this}}},{key:"selfMultiply",value:function(){if(1===arguments.length){if(arguments[0]instanceof e){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfMultiply(n,0)}}else if(2===arguments.length){var i,r,s=arguments[0],o=arguments[1],a=null,u=null,l=null,c=null;a=(l=e.SPLIT*this._hi)-this._hi,c=e.SPLIT*s,a=l-a,i=this._hi-a,u=c-s;var h=(l=this._hi*s)+(c=a*(u=c-u)-l+a*(r=s-u)+i*u+i*r+(this._hi*o+this._lo*s)),f=c+(a=l-h);return this._hi=h,this._lo=f,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return e.NaN;var t=Math.floor(this._hi),n=0;return t===this._hi&&(n=Math.floor(this._lo)),new e(t,n)}},{key:"negate",value:function(){return this.isNaN()?this:new e(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}}},{key:"multiply",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return t.isNaN()?e.createNaN():e.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var n=arguments[0];return O.isNaN(n)?e.createNaN():e.copy(this).selfMultiply(n,0)}}},{key:"isNaN",value:function(){return O.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var t=e.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!0,n),r=n[0]+1,s=i;if("."===i.charAt(0))s="0"+i;else if(r<0)s="0."+e.stringOfChar("0",-r)+i;else if(-1===i.indexOf(".")){var o=r-i.length;s=i+e.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+s:s}},{key:"reciprocal",value:function(){var t,n,i,r,s=null,o=null,a=null,u=null;t=(i=1/this._hi)-(s=(a=e.SPLIT*i)-(s=a-i)),o=(u=e.SPLIT*this._hi)-this._hi;var l=i+(a=(1-(r=i*this._hi)-(u=s*(o=u-o)-r+s*(n=this._hi-o)+t*o+t*n)-i*this._lo)/this._hi);return new e(l,i-l+a)}},{key:"toSciNotation",value:function(){if(this.isZero())return e.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!1,n),r=e.SCI_NOT_EXPONENT_CHAR+n[0];if("0"===i.charAt(0))throw new IllegalStateException("Found leading zero: "+i);var s="";i.length>1&&(s=i.substring(1));var o=i.charAt(0)+"."+s;return this.isNegative()?"-"+o+r:o+r}},{key:"abs",value:function(){return this.isNaN()?e.NaN:this.isNegative()?this.negate():new e(this)}},{key:"isPositive",value:function(){return this._hi>0||0===this._hi&&this._lo>0}},{key:"lt",value:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo}},{key:"add",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return e.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var n=arguments[0];return e.copy(this).selfAdd(n)}}},{key:"init",value:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof e){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this._hi=i,this._lo=r}}},{key:"gt",value:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo}},{key:"isNegative",value:function(){return this._hi<0||0===this._hi&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?e.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[E,k,x]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var i=arguments[0];e.constructor_.call(this,e.parse(i))}}else if(2===arguments.length){var r=arguments[0],s=arguments[1];this.init(r,s)}}},{key:"determinant",value:function(){if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];return e.determinant(e.valueOf(t),e.valueOf(n),e.valueOf(i),e.valueOf(r))}if(arguments[3]instanceof e&&arguments[2]instanceof e&&arguments[0]instanceof e&&arguments[1]instanceof e){var s=arguments[1],o=arguments[2],a=arguments[3];return arguments[0].multiply(a).selfSubtract(s.multiply(o))}}},{key:"sqr",value:function(t){return e.valueOf(t).selfMultiply(t)}},{key:"valueOf",value:function(){if("string"==typeof arguments[0]){var t=arguments[0];return e.parse(t)}if("number"==typeof arguments[0])return new e(arguments[0])}},{key:"sqrt",value:function(t){return e.valueOf(t).sqrt()}},{key:"parse",value:function(t){for(var n=0,i=t.length;st.isWhitespace(t.charAt(n));)n++;var r=!1;if(n<i){var s=t.charAt(n);"-"!==s&&"+"!==s||(n++,"-"===s&&(r=!0))}for(var o=new e,a=0,u=0,l=0,c=!1;!(n>=i);){var h=t.charAt(n);if(n++,st.isDigit(h)){var f=h-"0";o.selfMultiply(e.TEN),o.selfAdd(f),a++}else{if("."!==h){if("e"===h||"E"===h){var g=t.substring(n);try{l=rt.parseInt(g)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+g+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+h+"' at position "+n+" in string "+t)}u=a,c=!0}}var d=o;c||(u=a);var p=a-u-l;if(0===p)d=o;else if(p>0){var v=e.TEN.pow(p);d=o.divide(v)}else if(p<0){var y=e.TEN.pow(-p);d=o.multiply(y)}return r?d.negate():d}},{key:"createNaN",value:function(){return new e(O.NaN,O.NaN)}},{key:"copy",value:function(t){return new e(t)}},{key:"magnitude",value:function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i}},{key:"stringOfChar",value:function(t,e){for(var n=new it,i=0;i<e;i++)n.append(t);return n.toString()}}]),e}();ot.PI=new ot(3.141592653589793,12246467991473532e-32),ot.TWO_PI=new ot(6.283185307179586,24492935982947064e-32),ot.PI_2=new ot(1.5707963267948966,6123233995736766e-32),ot.E=new ot(2.718281828459045,14456468917292502e-32),ot.NaN=new ot(O.NaN,O.NaN),ot.EPS=123259516440783e-46,ot.SPLIT=134217729,ot.MAX_PRINT_DIGITS=32,ot.TEN=ot.valueOf(10),ot.ONE=ot.valueOf(1),ot.SCI_NOT_EXPONENT_CHAR="E",ot.SCI_NOT_ZERO="0.0E0";var at=function(){function e(){t(this,e)}return n(e,null,[{key:"orientationIndex",value:function(t,n,i){var r=e.orientationIndexFilter(t,n,i);if(r<=1)return r;var s=ot.valueOf(n.x).selfAdd(-t.x),o=ot.valueOf(n.y).selfAdd(-t.y),a=ot.valueOf(i.x).selfAdd(-n.x),u=ot.valueOf(i.y).selfAdd(-n.y);return s.selfMultiply(u).selfSubtract(o.selfMultiply(a)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof ot&&arguments[2]instanceof ot&&arguments[0]instanceof ot&&arguments[1]instanceof ot){var t=arguments[1],e=arguments[2],n=arguments[3];return arguments[0].multiply(n).selfSubtract(t.multiply(e)).signum()}if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3],a=ot.valueOf(i),u=ot.valueOf(r),l=ot.valueOf(s),c=ot.valueOf(o);return a.multiply(c).selfSubtract(u.multiply(l)).signum()}}},{key:"intersection",value:function(t,e,n,i){var r=new ot(t.y).selfSubtract(e.y),s=new ot(e.x).selfSubtract(t.x),o=new ot(t.x).selfMultiply(e.y).selfSubtract(new ot(e.x).selfMultiply(t.y)),a=new ot(n.y).selfSubtract(i.y),u=new ot(i.x).selfSubtract(n.x),l=new ot(n.x).selfMultiply(i.y).selfSubtract(new ot(i.x).selfMultiply(n.y)),c=s.multiply(l).selfSubtract(u.multiply(o)),h=a.multiply(o).selfSubtract(r.multiply(l)),f=r.multiply(u).selfSubtract(a.multiply(s)),g=c.selfDivide(f).doubleValue(),d=h.selfDivide(f).doubleValue();return O.isNaN(g)||O.isInfinite(g)||O.isNaN(d)||O.isInfinite(d)?null:new U(g,d)}},{key:"orientationIndexFilter",value:function(t,n,i){var r=null,s=(t.x-i.x)*(n.y-i.y),o=(t.y-i.y)*(n.x-i.x),a=s-o;if(s>0){if(o<=0)return e.signum(a);r=s+o}else{if(!(s<0))return e.signum(a);if(o>=0)return e.signum(a);r=-s-o}var u=e.DP_SAFE_EPSILON*r;return a>=u||-a>=u?e.signum(a):2}},{key:"signum",value:function(t){return t>0?1:t<0?-1:0}}]),e}();at.DP_SAFE_EPSILON=1e-15;var ut=function(){function e(){t(this,e)}return n(e,[{key:"getM",value:function(t){if(this.hasM()){var e=this.getDimension()-this.getMeasures();return this.getOrdinate(t,e)}return O.NaN}},{key:"setOrdinate",value:function(t,e,n){}},{key:"getZ",value:function(t){return this.hasZ()?this.getOrdinate(t,2):O.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(t,e){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(t){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(t){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(t){}},{key:"copy",value:function(){}},{key:"getY",value:function(t){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[x]}}]),e}();ut.X=0,ut.Y=1,ut.Z=2,ut.M=3;var lt=function(){function e(){t(this,e)}return n(e,null,[{key:"index",value:function(t,e,n){return at.orientationIndex(t,e,n)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var t=arguments[0],n=t.length-1;if(n<3)throw new m("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=t[0],r=0,s=1;s<=n;s++){var o=t[s];o.y>i.y&&(i=o,r=s)}var a=r;do{(a-=1)<0&&(a=n)}while(t[a].equals2D(i)&&a!==r);var u=r;do{u=(u+1)%n}while(t[u].equals2D(i)&&u!==r);var l=t[a],c=t[u];if(l.equals2D(i)||c.equals2D(i)||l.equals2D(c))return!1;var h=e.index(l,i,c);return 0===h?l.x>c.x:h>0}if(nt(arguments[0],ut)){var f=arguments[0],g=f.size()-1;if(g<3)throw new m("Ring has fewer than 4 points, so orientation cannot be determined");for(var d=f.getCoordinate(0),p=0,v=1;v<=g;v++){var y=f.getCoordinate(v);y.y>d.y&&(d=y,p=v)}var _=null,k=p;do{(k-=1)<0&&(k=g),_=f.getCoordinate(k)}while(_.equals2D(d)&&k!==p);var x=null,E=p;do{E=(E+1)%g,x=f.getCoordinate(E)}while(x.equals2D(d)&&E!==p);if(_.equals2D(d)||x.equals2D(d)||_.equals2D(x))return!1;var N=e.index(_,d,x);return 0===N?_.x>x.x:N>0}}}]),e}();lt.CLOCKWISE=-1,lt.RIGHT=lt.CLOCKWISE,lt.COUNTERCLOCKWISE=1,lt.LEFT=lt.COUNTERCLOCKWISE,lt.COLLINEAR=0,lt.STRAIGHT=lt.COLLINEAR;var ct=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n}},{key:"findRightmostEdgeAtVertex",value:function(){var t=this._minDe.getEdge().getCoordinates();P.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=lt.index(this._minCoord,n,e),r=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===lt.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===lt.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=J.LEFT;return n[e].y<n[e+1].y&&(i=J.RIGHT),i}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])}},{key:"findRightmostEdgeAtNode",value:function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}P.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===J.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}]),e}(),ht=function(e){i(s,e);var r=c(s);function s(e,n){var i;return t(this,s),(i=r.call(this,n?e+" [ "+n+" ]":e)).pt=n?new U(n):void 0,i.name=Object.keys({TopologyException:s})[0],i}return n(s,[{key:"getCoordinate",value:function(){return this.pt}}]),s}(M),ft=function(){function e(){t(this,e),this.array=[]}return n(e,[{key:"addLast",value:function(t){this.array.push(t)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return 0===this.array.length}}]),e}(),gt=function(e,r){i(o,e);var s=c(o);function o(e){var n;return t(this,o),(n=s.call(this)).array=[],e instanceof V&&n.addAll(e),n}return n(o,[{key:"interfaces_",get:function(){return[tt,V]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(t){return 1===arguments.length?this.array.push(t):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(t){var e,n=p(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.array.push(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"set",value:function(t,e){var n=this.array[t];return this.array[t]=e,n}},{key:"iterator",value:function(){return new dt(this)}},{key:"get",value:function(t){if(t<0||t>=this.size())throw new $;return this.array[t]}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"sort",value:function(t){t?this.array.sort((function(e,n){return t.compare(e,n)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(t){for(var e=0,n=this.array.length;e<n;e++)if(this.array[e]===t)return!!this.array.splice(e,1);return!1}},{key:r,value:function(){return this.array.values()}}]),o}(tt,Symbol.iterator),dt=function(){function e(n){t(this,e),this.arrayList=n,this.position=0}return n(e,[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new H;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(t){return this.arrayList.set(this.position-1,t)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}]),e}(),pt=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"clearVisitedEdges",value:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new ht("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var s=r.next();s.setVisited(!0),this.copySymDepths(s)}}},{key:"computeDepth",value:function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(J.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)}},{key:"create",value:function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(J.RIGHT)>=1&&e.getDepth(J.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}}},{key:"computeDepths",value:function(t){var e=new W,n=new ft,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var s=r.getEdges().iterator();s.hasNext();){var o=s.next().getSym();if(!o.isVisited()){var a=o.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}}},{key:"compareTo",value:function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(null===this._env){for(var t=new Y,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env}},{key:"addReachable",value:function(t){var e=new et;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}}},{key:"copySymDepths",value:function(t){var e=t.getSym();e.setDepth(J.LEFT,t.getDepth(J.RIGHT)),e.setDepth(J.RIGHT,t.getDepth(J.LEFT))}},{key:"add",value:function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new gt,this._nodes=new gt,this._rightMostCoord=null,this._env=null,this._finder=new ct}}]),e}(),vt=function(){function e(){t(this,e)}return n(e,null,[{key:"intersection",value:function(t,e,n,i){var r=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,o=t.x>e.x?t.x:e.x,a=t.y>e.y?t.y:e.y,u=n.x<i.x?n.x:i.x,l=n.y<i.y?n.y:i.y,c=n.x>i.x?n.x:i.x,h=n.y>i.y?n.y:i.y,f=((r>u?r:u)+(o<c?o:c))/2,g=((s>l?s:l)+(a<h?a:h))/2,d=t.x-f,p=t.y-g,v=e.x-f,y=e.y-g,m=n.x-f,_=n.y-g,k=i.x-f,x=i.y-g,E=p-y,N=v-d,b=d*y-v*p,I=_-x,w=k-m,S=m*x-k*_,T=E*w-I*N,L=(N*S-w*b)/T,C=(I*b-E*S)/T;return O.isNaN(L)||O.isInfinite(L)||O.isNaN(C)||O.isInfinite(C)?null:new U(L+f,C+g)}}]),e}(),yt=function(){function e(){t(this,e)}return n(e,null,[{key:"arraycopy",value:function(t,e,n,i,r){for(var s=0,o=e;o<e+r;o++)n[i+s]=t[o],s++}},{key:"getProperty",value:function(t){return{"line.separator":"\n"}[t]}}]),e}(),mt=function(){function e(){t(this,e)}return n(e,null,[{key:"log10",value:function(t){var n=Math.log(t);return O.isInfinite(n)||O.isNaN(n)?n:n/e.LOG_10}},{key:"min",value:function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r}},{key:"clamp",value:function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],s=arguments[2];return i<r?r:i>s?s:i}}},{key:"wrap",value:function(t,e){return t<0?e- -t%e:t%e}},{key:"max",value:function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var i=arguments[1],r=arguments[2],s=arguments[3],o=arguments[0];return i>o&&(o=i),r>o&&(o=r),s>o&&(o=s),o}}},{key:"average",value:function(t,e){return(t+e)/2}}]),e}();mt.LOG_10=Math.log(10);var _t=function(){function e(){t(this,e)}return n(e,null,[{key:"segmentToSegment",value:function(t,n,i,r){if(t.equals(n))return e.pointToSegment(t,i,r);if(i.equals(r))return e.pointToSegment(r,t,n);var s=!1;if(Y.intersects(t,n,i,r)){var o=(n.x-t.x)*(r.y-i.y)-(n.y-t.y)*(r.x-i.x);if(0===o)s=!0;else{var a=(t.y-i.y)*(r.x-i.x)-(t.x-i.x)*(r.y-i.y),u=((t.y-i.y)*(n.x-t.x)-(t.x-i.x)*(n.y-t.y))/o,l=a/o;(l<0||l>1||u<0||u>1)&&(s=!0)}}else s=!0;return s?mt.min(e.pointToSegment(t,i,r),e.pointToSegment(n,i,r),e.pointToSegment(i,t,n),e.pointToSegment(r,t,n)):0}},{key:"pointToSegment",value:function(t,e,n){if(e.x===n.x&&e.y===n.y)return t.distance(e);var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;if(r<=0)return t.distance(e);if(r>=1)return t.distance(n);var s=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(s)*Math.sqrt(i)}},{key:"pointToLinePerpendicular",value:function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)}},{key:"pointToSegmentString",value:function(t,n){if(0===n.length)throw new m("Line array must contain at least one vertex");for(var i=t.distance(n[0]),r=0;r<n.length-1;r++){var s=e.pointToSegment(t,n[r],n[r+1]);s<i&&(i=s)}return i}}]),e}(),kt=function(){function e(){t(this,e)}return n(e,[{key:"create",value:function(){if(1===arguments.length)arguments[0]instanceof Array||nt(arguments[0],ut);else if(2===arguments.length);else if(3===arguments.length){var t=arguments[0],e=arguments[1];return this.create(t,e)}}}]),e}(),xt=function(){function e(){t(this,e)}return n(e,[{key:"filter",value:function(t){}}]),e}(),Et=function(){function e(){t(this,e)}return n(e,null,[{key:"ofLine",value:function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new U;t.getCoordinate(0,i);for(var r=i.x,s=i.y,o=1;o<e;o++){t.getCoordinate(o,i);var a=i.x,u=i.y,l=a-r,c=u-s;n+=Math.sqrt(l*l+c*c),r=a,s=u}return n}}]),e}(),Nt=function e(){t(this,e)},bt=function(){function e(){t(this,e)}return n(e,null,[{key:"copyCoord",value:function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),s=0;s<r;s++)n.setOrdinate(i,s,t.getOrdinate(e,s))}},{key:"isRing",value:function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,ut.X)===t.getOrdinate(e-1,ut.X)&&t.getOrdinate(0,ut.Y)===t.getOrdinate(e-1,ut.Y)}},{key:"scroll",value:function(){if(2===arguments.length){if(nt(arguments[0],ut)&&Number.isInteger(arguments[1])){var t=arguments[0],n=arguments[1];e.scroll(t,n,e.isRing(t))}else if(nt(arguments[0],ut)&&arguments[1]instanceof U){var i=arguments[0],r=arguments[1],s=e.indexOf(r,i);if(s<=0)return null;e.scroll(i,s)}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2];if(a<=0)return null;for(var l=o.copy(),c=u?o.size()-1:o.size(),h=0;h<c;h++)for(var f=0;f<o.getDimension();f++)o.setOrdinate(h,f,l.getOrdinate((a+h)%c,f));if(u)for(var g=0;g<o.getDimension();g++)o.setOrdinate(c,g,o.getOrdinate(0,g))}}},{key:"isEqual",value:function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var s=0;s<i;s++){var o=t.getOrdinate(r,s),a=e.getOrdinate(r,s);if(!(t.getOrdinate(r,s)===e.getOrdinate(r,s)||O.isNaN(o)&&O.isNaN(a)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(1===arguments.length){var t=arguments[0];return e.minCoordinateIndex(t,0,t.size()-1)}if(3===arguments.length){for(var n=arguments[0],i=arguments[2],r=-1,s=null,o=arguments[1];o<=i;o++){var a=n.getCoordinate(o);(null===s||s.compareTo(a)>0)&&(s=a,r=o)}return r}}},{key:"extend",value:function(t,n,i){var r=t.create(i,n.getDimension()),s=n.size();if(e.copy(n,0,r,0,s),s>0)for(var o=s;o<i;o++)e.copy(n,s-1,r,o,1);return r}},{key:"reverse",value:function(t){for(var n=t.size()-1,i=Math.trunc(n/2),r=0;r<=i;r++)e.swap(t,r,n-r)}},{key:"swap",value:function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}}},{key:"copy",value:function(t,n,i,r,s){for(var o=0;o<s;o++)e.copyCoord(t,n+o,i,r+o)}},{key:"ensureValidRing",value:function(t,n){var i=n.size();return 0===i?n:i<=3?e.createClosedRing(t,n,4):n.getOrdinate(0,ut.X)===n.getOrdinate(i-1,ut.X)&&n.getOrdinate(0,ut.Y)===n.getOrdinate(i-1,ut.Y)?n:e.createClosedRing(t,n,i+1)}},{key:"indexOf",value:function(t,e){for(var n=0;n<e.size();n++)if(t.x===e.getOrdinate(n,ut.X)&&t.y===e.getOrdinate(n,ut.Y))return n;return-1}},{key:"createClosedRing",value:function(t,n,i){var r=t.create(i,n.getDimension()),s=n.size();e.copy(n,0,r,0,s);for(var o=s;o<i;o++)e.copy(n,0,r,o,1);return r}},{key:"minCoordinate",value:function(t){for(var e=null,n=0;n<t.size();n++){var i=t.getCoordinate(n);(null===e||e.compareTo(i)>0)&&(e=i)}return e}}]),e}(),It=function(){function e(){t(this,e)}return n(e,null,[{key:"toDimensionSymbol",value:function(t){switch(t){case e.FALSE:return e.SYM_FALSE;case e.TRUE:return e.SYM_TRUE;case e.DONTCARE:return e.SYM_DONTCARE;case e.P:return e.SYM_P;case e.L:return e.SYM_L;case e.A:return e.SYM_A}throw new m("Unknown dimension value: "+t)}},{key:"toDimensionValue",value:function(t){switch(st.toUpperCase(t)){case e.SYM_FALSE:return e.FALSE;case e.SYM_TRUE:return e.TRUE;case e.SYM_DONTCARE:return e.DONTCARE;case e.SYM_P:return e.P;case e.SYM_L:return e.L;case e.SYM_A:return e.A}throw new m("Unknown dimension symbol: "+t)}}]),e}();It.P=0,It.L=1,It.A=2,It.FALSE=-1,It.TRUE=-2,It.DONTCARE=-3,It.SYM_FALSE="F",It.SYM_TRUE="T",It.SYM_DONTCARE="*",It.SYM_P="0",It.SYM_L="1",It.SYM_A="2";var wt=function(){function e(){t(this,e)}return n(e,[{key:"filter",value:function(t){}}]),e}(),St=function(){function e(){t(this,e)}return n(e,[{key:"filter",value:function(t,e){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}]),e}(),Tt=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new Y:this._points.expandEnvelope(new Y)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new o(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof z){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._points.size()!==n._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),n._points.getCoordinate(i),e))return!1;return!0}return h(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e))){if(this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0){var n=this._points.copy();bt.reverse(n),this._points=n}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?It.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var t=this._points.copy();return bt.reverse(t),this.getFactory().createLineString(t)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return z.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Et.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}}},{key:"apply",value:function(){if(nt(arguments[0],xt))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(nt(arguments[0],St)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else(nt(arguments[0],wt)||nt(arguments[0],_))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new j}},{key:"isEquivalentClass",value:function(t){return t instanceof o}},{key:"getCoordinateN",value:function(t){return this._points.getCoordinate(t)}},{key:"getGeometryType",value:function(){return z.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return 0===this._points.size()}},{key:"init",value:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new m("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t}},{key:"isCoordinate",value:function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))}},{key:"interfaces_",get:function(){return[Nt]}}],[{key:"constructor_",value:function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];z.constructor_.call(this,e),this.init(t)}}}]),o}(z),Lt=function e(){t(this,e)},Ct=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new Y;var t=new Y;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new o(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof z){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return h(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return It.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return z.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}}},{key:"apply",value:function(){if(nt(arguments[0],xt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(nt(arguments[0],St)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(nt(arguments[0],wt)||nt(arguments[0],_))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return z.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return 0===this._coordinates.size()}},{key:"init",value:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),P.isTrue(t.size()<=1),this._coordinates=t}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Lt]}}],[{key:"constructor_",value:function(){this._coordinates=null;var t=arguments[0],e=arguments[1];z.constructor_.call(this,e),this.init(t)}}]),o}(z),Rt=function(){function e(){t(this,e)}return n(e,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var t=arguments[0];return Math.abs(e.ofRingSigned(t))}if(nt(arguments[0],ut)){var n=arguments[0];return Math.abs(e.ofRingSigned(n))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,s=t[i+1].y;e+=r*(t[i-1].y-s)}return e/2}if(nt(arguments[0],ut)){var o=arguments[0],a=o.size();if(a<3)return 0;var u=new U,l=new U,c=new U;o.getCoordinate(0,l),o.getCoordinate(1,c);var h=l.x;c.x-=h;for(var f=0,g=1;g<a-1;g++)u.y=l.y,l.x=c.x,l.y=c.y,o.getCoordinate(g+1,c),c.x-=h,f+=l.x*(u.y-c.y);return f/2}}}]),e}(),Ot=function(){function e(){t(this,e)}return n(e,null,[{key:"sort",value:function(){var t=arguments,e=arguments[0];if(1===arguments.length)e.sort((function(t,e){return t.compareTo(e)}));else if(2===arguments.length)e.sort((function(e,n){return t[1].compare(e,n)}));else if(3===arguments.length){var n=e.slice(arguments[1],arguments[2]);n.sort();var i=e.slice(0,arguments[1]).concat(n,e.slice(arguments[2],e.length));e.splice(0,e.length);var r,s=p(i);try{for(s.s();!(r=s.n()).done;){var o=r.value;e.push(o)}}catch(t){s.e(t)}finally{s.f()}}else if(4===arguments.length){var a=e.slice(arguments[1],arguments[2]);a.sort((function(e,n){return t[3].compare(e,n)}));var u=e.slice(0,arguments[1]).concat(a,e.slice(arguments[2],e.length));e.splice(0,e.length);var l,c=p(u);try{for(c.s();!(l=c.n()).done;){var h=l.value;e.push(h)}}catch(t){c.e(t)}finally{c.f()}}}},{key:"asList",value:function(t){var e,n=new gt,i=p(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n.add(r)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"copyOf",value:function(t,e){return t.slice(0,e)}}]),e}(),At=function e(){t(this,e)},Mt=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var s=this._holes[r].getCoordinates(),o=0;o<s.length;o++)t[++e]=s[o];return t}},{key:"getArea",value:function(){var t=0;t+=Rt.ofRing(this._shell.getCoordinateSequence());for(var e=0;e<this._holes.length;e++)t-=Rt.ofRing(this._holes[e].getCoordinateSequence());return t}},{key:"copyInternal",value:function(){for(var t=this._shell.copy(),e=new Array(this._holes.length).fill(null),n=0;n<this._holes.length;n++)e[n]=this._holes[n].copy();return new o(t,e,this._factory)}},{key:"isRectangle",value:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var s=t.getX(0),o=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==s==(l!==o))return!1;s=u,o=l}return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof z){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,i=this._shell,s=n._shell;if(!i.equalsExact(s,e))return!1;if(this._holes.length!==n._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(n._holes[a],e))return!1;return!0}return h(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){if(0===arguments.length){this._shell=this.normalized(this._shell,!0);for(var t=0;t<this._holes.length;t++)this._holes[t]=this.normalized(this._holes[t],!1);Ot.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=e.getCoordinateSequence(),r=bt.minCoordinateIndex(i,0,i.size()-2);bt.scroll(i,r,!0),lt.isCCW(i)===n&&bt.reverse(i)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var t=this.getExteriorRing().reverse(),e=new Array(this.getNumInteriorRing()).fill(null),n=0;n<e.length;n++)e[n]=this.getInteriorRingN(n).reverse();return this.getFactory().createPolygon(t,e)}},{key:"getTypeCode",value:function(){return z.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t}},{key:"getNumPoints",value:function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(t,e){var n=t.copy();return this.normalize(n,e),n}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[1],r=arguments[0],s=this._shell,o=r._shell,a=s.compareToSameClass(o,i);if(0!==a)return a;for(var u=this.getNumInteriorRing(),l=r.getNumInteriorRing(),c=0;c<u&&c<l;){var h=this.getInteriorRingN(c),f=r.getInteriorRingN(c),g=h.compareToSameClass(f,i);if(0!==g)return g;c++}return c<u?1:c<l?-1:0}}},{key:"apply",value:function(){if(nt(arguments[0],xt)){var t=arguments[0];this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(nt(arguments[0],St)){var n=arguments[0];if(this._shell.apply(n),!n.isDone())for(var i=0;i<this._holes.length&&(this._holes[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(nt(arguments[0],wt))arguments[0].filter(this);else if(nt(arguments[0],_)){var r=arguments[0];r.filter(this),this._shell.apply(r);for(var s=0;s<this._holes.length;s++)this._holes[s].apply(r)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)}},{key:"getGeometryType",value:function(){return z.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(t){return this._holes[t]}},{key:"interfaces_",get:function(){return[At]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(z.constructor_.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),z.hasNullElements(e))throw new m("holes must not contain null elements");if(t.isEmpty()&&z.hasNonEmptyElements(e))throw new m("shell is empty but holes are not");this._shell=t,this._holes=e}}]),o}(z),Dt=function(e){i(r,e);var n=c(r);function r(){return t(this,r),n.apply(this,arguments)}return r}(Z),Pt=function(e){i(s,e);var r=c(s);function s(e){var n;return t(this,s),(n=r.call(this)).array=[],e instanceof V&&n.addAll(e),n}return n(s,[{key:"contains",value:function(t){var e,n=p(this.array);try{for(n.s();!(e=n.n()).done;)if(0===e.value.compareTo(t))return!0}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"add",value:function(t){if(this.contains(t))return!1;for(var e=0,n=this.array.length;e<n;e++)if(1===this.array[e].compareTo(t))return!!this.array.splice(e,0,t);return this.array.push(t),!0}},{key:"addAll",value:function(t){var e,n=p(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.add(i)}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new j}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new qt(this.array)}}]),s}(Dt),qt=function(){function e(n){t(this,e),this.array=n,this.position=0}return n(e,[{key:"next",value:function(){if(this.position===this.array.length)throw new H;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new j}}]),e}(),Ft=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"computeEnvelopeInternal",value:function(){for(var t=new Y,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t}},{key:"getGeometryN",value:function(t){return this._geometries[t]}},{key:"getCoordinates",value:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t}},{key:"getArea",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t}},{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new o(t,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof z){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._geometries.length!==n._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(n._geometries[i],e))return!1;return!0}return h(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Ot.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var t=It.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t}},{key:"reverseInternal",value:function(){for(var t=this._geometries.length,e=new gt(t),n=0;n<t;n++)e.add(this._geometries[n].reverse());return this.getFactory().buildGeometry(e)}},{key:"getTypeCode",value:function(){return z.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var t=It.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t}},{key:"getLength",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t}},{key:"getNumPoints",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var t=arguments[0],e=new Pt(Ot.asList(this._geometries)),n=new Pt(Ot.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[1],r=arguments[0],s=this.getNumGeometries(),o=r.getNumGeometries(),a=0;a<s&&a<o;){var u=this.getGeometryN(a),l=r.getGeometryN(a),c=u.compareToSameClass(l,i);if(0!==c)return c;a++}return a<s?1:a<o?-1:0}}},{key:"apply",value:function(){if(nt(arguments[0],xt))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(nt(arguments[0],St)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(nt(arguments[0],wt)){var r=arguments[0];r.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(r)}else if(nt(arguments[0],_)){var o=arguments[0];o.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(o)}}},{key:"getBoundary",value:function(){return z.checkNotGeometryCollection(this),P.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return z.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(z.constructor_.call(this,e),null===t&&(t=[]),z.hasNullElements(t))throw new m("geometries must not contain null elements");this._geometries=t}}}]),o}(z),Gt=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new o(t,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof z){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&h(r(o.prototype),"equalsExact",this).call(this,t,e)}return h(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(1===arguments.length&&Number.isInteger(arguments[0])){var t=arguments[0];return this._geometries[t].getCoordinate()}return h(r(o.prototype),"getCoordinate",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return It.FALSE}},{key:"getTypeCode",value:function(){return z.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return z.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Lt]}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Ft.constructor_.call(this,t,e)}}]),o}(Ft),Ut=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"copyInternal",value:function(){return new o(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return It.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||h(r(o.prototype),"isClosed",this).call(this)}},{key:"reverseInternal",value:function(){var t=this._points.copy();return bt.reverse(t),this.getFactory().createLinearRing(t)}},{key:"getTypeCode",value:function(){return z.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!h(r(o.prototype),"isClosed",this).call(this))throw new m("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<o.MINIMUM_VALID_SIZE)throw new m("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return z.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Tt.constructor_.call(this,t,e),this.validateConstruction()}}]),o}(Tt);Ut.MINIMUM_VALID_SIZE=4;var Bt=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),e=r.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"setOrdinate",value:function(t,e){switch(t){case s.X:this.x=e;break;case s.Y:this.y=e;break;default:throw new m("Invalid ordinate index: "+t)}}},{key:"getZ",value:function(){return U.NULL_ORDINATE}},{key:"getOrdinate",value:function(t){switch(t){case s.X:return this.x;case s.Y:return this.y}throw new m("Invalid ordinate index: "+t)}},{key:"setZ",value:function(t){throw new m("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new s(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}}],[{key:"constructor_",value:function(){if(0===arguments.length)U.constructor_.call(this);else if(1===arguments.length){if(arguments[0]instanceof s){var t=arguments[0];U.constructor_.call(this,t.x,t.y)}else if(arguments[0]instanceof U){var e=arguments[0];U.constructor_.call(this,e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];U.constructor_.call(this,n,i,U.NULL_ORDINATE)}}}]),s}(U);Bt.X=0,Bt.Y=1,Bt.Z=-1,Bt.M=-1;var Yt=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),e=r.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(t,e){switch(t){case s.X:this.x=e;break;case s.Y:this.y=e;break;case s.M:this._m=e;break;default:throw new m("Invalid ordinate index: "+t)}}},{key:"setM",value:function(t){this._m=t}},{key:"getZ",value:function(){return U.NULL_ORDINATE}},{key:"getOrdinate",value:function(t){switch(t){case s.X:return this.x;case s.Y:return this.y;case s.M:return this._m}throw new m("Invalid ordinate index: "+t)}},{key:"setZ",value:function(t){throw new m("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new s(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ(),this._m=t.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)U.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof s){var t=arguments[0];U.constructor_.call(this,t.x,t.y),this._m=t._m}else if(arguments[0]instanceof U){var e=arguments[0];U.constructor_.call(this,e.x,e.y),this._m=this.getM()}}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];U.constructor_.call(this,n,i,U.NULL_ORDINATE),this._m=r}}}]),s}(U);Yt.X=0,Yt.Y=1,Yt.Z=-1,Yt.M=2;var zt=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),e=r.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(t,e){switch(t){case U.X:this.x=e;break;case U.Y:this.y=e;break;case U.Z:this.z=e;break;case U.M:this._m=e;break;default:throw new m("Invalid ordinate index: "+t)}}},{key:"setM",value:function(t){this._m=t}},{key:"getOrdinate",value:function(t){switch(t){case U.X:return this.x;case U.Y:return this.y;case U.Z:return this.getZ();case U.M:return this.getM()}throw new m("Invalid ordinate index: "+t)}},{key:"copy",value:function(){return new s(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ(),this._m=t.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)U.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof s){var t=arguments[0];U.constructor_.call(this,t),this._m=t._m}else if(arguments[0]instanceof U){var e=arguments[0];U.constructor_.call(this,e),this._m=this.getM()}}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];U.constructor_.call(this,n,i,r),this._m=o}}}]),s}(U),Xt=function(){function e(){t(this,e)}return n(e,null,[{key:"measures",value:function(t){return t instanceof Bt?0:t instanceof Yt||t instanceof zt?1:0}},{key:"dimension",value:function(t){return t instanceof Bt?2:t instanceof Yt?3:t instanceof zt?4:3}},{key:"create",value:function(){if(1===arguments.length){var t=arguments[0];return e.create(t,0)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return 2===n?new Bt:3===n&&0===i?new U:3===n&&1===i?new Yt:4===n&&1===i?new zt:new U}}}]),e}(),Vt=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"getCoordinate",value:function(t){return this.get(t)}},{key:"addAll",value:function(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&nt(arguments[0],V)){for(var t=arguments[1],e=!1,n=arguments[0].iterator();n.hasNext();)this.add(n.next(),t),e=!0;return e}return h(r(o.prototype),"addAll",this).apply(this,arguments)}},{key:"clone",value:function(){for(var t=h(r(o.prototype),"clone",this).call(this),e=0;e<this.size();e++)t.add(e,this.get(e).clone());return t}},{key:"toCoordinateArray",value:function(){if(0===arguments.length)return this.toArray(o.coordArrayType);if(1===arguments.length){if(arguments[0])return this.toArray(o.coordArrayType);for(var t=this.size(),e=new Array(t).fill(null),n=0;n<t;n++)e[n]=this.get(t-n-1);return e}}},{key:"add",value:function(){if(1===arguments.length){var t=arguments[0];return h(r(o.prototype),"add",this).call(this,t)}if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof U&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;h(r(o.prototype),"add",this).call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var s=arguments[0],a=arguments[1];return this.add(s,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var u=arguments[0],l=arguments[1];if(arguments[2])for(var c=0;c<u.length;c++)this.add(u[c],l);else for(var f=u.length-1;f>=0;f--)this.add(u[f],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof U){var g=arguments[0],d=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(g>0&&this.get(g-1).equals2D(d))return null;if(g<p&&this.get(g).equals2D(d))return null}}h(r(o.prototype),"add",this).call(this,g,d)}}else if(4===arguments.length){var v=arguments[0],y=arguments[1],m=arguments[2],_=arguments[3],k=1;m>_&&(k=-1);for(var x=m;x!==_;x+=k)this.add(v[x],y);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var t=this.get(0).copy();this.add(t,!1)}}}],[{key:"constructor_",value:function(){if(0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}}]),o}(gt);Vt.coordArrayType=new Array(0).fill(null);var Ht=function(){function e(){t(this,e)}return n(e,null,[{key:"isRing",value:function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))}},{key:"ptNotInList",value:function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(e.indexOf(r,n)<0)return r}return null}},{key:"scroll",value:function(t,n){var i=e.indexOf(n,t);if(i<0)return null;var r=new Array(t.length).fill(null);yt.arraycopy(t,i,r,0,t.length-i),yt.arraycopy(t,0,r,t.length-i,i),yt.arraycopy(r,0,t,0,t.length)}},{key:"equals",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var o=0;o<i.length;o++)if(0!==s.compare(i[o],r[o]))return!1;return!0}}},{key:"intersection",value:function(t,e){for(var n=new Vt,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()}},{key:"measures",value:function(t){if(null===t||0===t.length)return 0;var e,n=0,i=p(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n=Math.max(n,Xt.measures(r))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"hasRepeatedPoints",value:function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(t){return e.hasRepeatedPoints(t)?new Vt(t,!1).toCoordinateArray():t}},{key:"reverse",value:function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}}},{key:"removeNull",value:function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,s=0;s<t.length;s++)null!==t[s]&&(i[r++]=t[s]);return i}},{key:"copyDeep",value:function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=t[n].copy();return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3],a=arguments[4],u=0;u<a;u++)s[o+u]=i[r+u].copy()}},{key:"isEqualReversed",value:function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0}},{key:"envelope",value:function(t){for(var e=new Y,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e}},{key:"toCoordinateArray",value:function(t){return t.toArray(e.coordArrayType)}},{key:"dimension",value:function(t){if(null===t||0===t.length)return 3;var e,n=0,i=p(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n=Math.max(n,Xt.dimension(r))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"atLeastNCoordinatesOrNothing",value:function(t,e){return e.length>=t?e:[]}},{key:"indexOf",value:function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1}},{key:"increasingDirection",value:function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1}},{key:"compare",value:function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0}},{key:"minCoordinate",value:function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e}},{key:"extract",value:function(t,e,n){e=mt.clamp(e,0,t.length);var i=(n=mt.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var s=0,o=e;o<=n;o++)r[s++]=t[o];return r}}]),e}(),jt=function(){function e(){t(this,e)}return n(e,[{key:"compare",value:function(t,e){var n=t,i=e;return Ht.compare(n,i)}},{key:"interfaces_",get:function(){return[A]}}]),e}(),Zt=function(){function e(){t(this,e)}return n(e,[{key:"compare",value:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=Ht.compare(n,i);return Ht.isEqualReversed(n,i)?0:r}},{key:"OLDcompare",value:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=Ht.increasingDirection(n),s=Ht.increasingDirection(i),o=r>0?0:n.length-1,a=s>0?0:n.length-1,u=0;u<n.length;u++){var l=n[o].compareTo(i[a]);if(0!==l)return l;o+=r,a+=s}return 0}},{key:"interfaces_",get:function(){return[A]}}]),e}();Ht.ForwardComparator=jt,Ht.BidirectionalComparator=Zt,Ht.coordArrayType=new Array(0).fill(null);var Wt=function(){function e(n){t(this,e),this.str=n}return n(e,[{key:"append",value:function(t){this.str+=t}},{key:"setCharAt",value:function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)}},{key:"toString",value:function(){return this.str}}]),e}(),Kt=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getM",value:function(t){return this.hasM()?this._coordinates[t].getM():O.NaN}},{key:"setOrdinate",value:function(t,e,n){switch(e){case ut.X:this._coordinates[t].x=n;break;case ut.Y:this._coordinates[t].y=n;break;default:this._coordinates[t].setOrdinate(e,n)}}},{key:"getZ",value:function(t){return this.hasZ()?this._coordinates[t].getZ():O.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(t,e){switch(e){case ut.X:return this._coordinates[t].x;case ut.Y:return this._coordinates[t].y;default:return this._coordinates[t].getOrdinate(e)}}},{key:"getCoordinate",value:function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0];arguments[1].setCoordinate(this._coordinates[e])}}},{key:"getCoordinateCopy",value:function(t){var e=this.createCoordinate();return e.setCoordinate(this._coordinates[t]),e}},{key:"createCoordinate",value:function(){return Xt.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(t){return this._coordinates[t].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t}},{key:"copy",value:function(){for(var t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++){var i=this.createCoordinate();i.setCoordinate(this._coordinates[n]),t[n]=i}return new e(t,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var t=new Wt(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"}},{key:"getY",value:function(t){return this._coordinates[t].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[ut,E]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];e.constructor_.call(this,t,Ht.dimension(t),Ht.measures(t))}else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var i=0;i<n;i++)this._coordinates[i]=new U}else if(nt(arguments[0],ut)){var r=arguments[0];if(null===r)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._measures=r.getMeasures(),this._coordinates=new Array(r.size()).fill(null);for(var s=0;s<this._coordinates.length;s++)this._coordinates[s]=r.getCoordinateCopy(s)}}else if(2===arguments.length){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],a=arguments[1];e.constructor_.call(this,o,a,Ht.measures(o))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var u=arguments[0],l=arguments[1];this._coordinates=new Array(u).fill(null),this._dimension=l;for(var c=0;c<u;c++)this._coordinates[c]=Xt.create(l)}}else if(3===arguments.length)if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var h=arguments[0],f=arguments[1],g=arguments[2];this._dimension=f,this._measures=g,this._coordinates=null===h?new Array(0).fill(null):h}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var d=arguments[0],p=arguments[1],v=arguments[2];this._coordinates=new Array(d).fill(null),this._dimension=p,this._measures=v;for(var y=0;y<d;y++)this._coordinates[y]=this.createCoordinate()}}}]),e}(),Jt=function(){function e(){t(this,e)}return n(e,[{key:"readResolve",value:function(){return e.instance()}},{key:"create",value:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Kt(arguments[0]);if(nt(arguments[0],ut))return new Kt(arguments[0])}else{if(2===arguments.length){var t=arguments[1];return t>3&&(t=3),t<2&&(t=2),new Kt(arguments[0],t)}if(3===arguments.length){var e=arguments[2],n=arguments[1]-e;return e>1&&(e=1),n>3&&(n=3),n<2&&(n=2),new Kt(arguments[0],n+e,e)}}}},{key:"interfaces_",get:function(){return[kt,E]}}],[{key:"instance",value:function(){return e.instanceObject}}]),e}();Jt.instanceObject=new Jt;var Qt=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new o(t,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof z){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&h(r(o.prototype),"equalsExact",this).call(this,t,e)}return h(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return z.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new gt,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))}},{key:"getGeometryType",value:function(){return z.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[At]}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Ft.constructor_.call(this,t,e)}}]),o}(Ft),$t=function(){function e(){t(this,e)}return n(e,[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}]),e}(),te=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),(e=r.call(this)).map=new Map,e}return n(s,[{key:"get",value:function(t){return this.map.get(t)||null}},{key:"put",value:function(t,e){return this.map.set(t,e),e}},{key:"values",value:function(){for(var t=new gt,e=this.map.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t}},{key:"entrySet",value:function(){var t=new W;return this.map.entries().forEach((function(e){return t.add(e)})),t}},{key:"size",value:function(){return this.map.size()}}]),s}($t),ee=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"equals",value:function(t){if(!(t instanceof e))return!1;var n=t;return this._modelType===n._modelType&&this._scale===n._scale}},{key:"compareTo",value:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return rt.compare(n,i)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===e.FLOATING||this._modelType===e.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var t="UNKNOWN";return this._modelType===e.FLOATING?t="Floating":this._modelType===e.FLOATING_SINGLE?t="Floating-Single":this._modelType===e.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t}},{key:"makePrecise",value:function(){if("number"==typeof arguments[0]){var t=arguments[0];return O.isNaN(t)||this._modelType===e.FLOATING_SINGLE?t:this._modelType===e.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof U){var n=arguments[0];if(this._modelType===e.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}}},{key:"getMaximumSignificantDigits",value:function(){var t=16;return this._modelType===e.FLOATING?t=16:this._modelType===e.FLOATING_SINGLE?t=6:this._modelType===e.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t}},{key:"setScale",value:function(t){this._scale=Math.abs(t)}},{key:"interfaces_",get:function(){return[E,k]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ne){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}}},{key:"mostPrecise",value:function(t,e){return t.compareTo(e)>=0?t:e}}]),e}(),ne=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"readResolve",value:function(){return e.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[E]}}],[{key:"constructor_",value:function(){this._name=null;var t=arguments[0];this._name=t,e.nameToTypeMap.put(t,this)}}]),e}();ne.nameToTypeMap=new te,ee.Type=ne,ee.FIXED=new ne("FIXED"),ee.FLOATING=new ne("FLOATING"),ee.FLOATING_SINGLE=new ne("FLOATING SINGLE"),ee.maximumPreciseValue=9007199254740992;var ie=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new o(t,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof z){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&h(r(o.prototype),"equalsExact",this).call(this,t,e)}return h(r(o.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?It.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return z.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new j}},{key:"getGeometryType",value:function(){return z.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Nt]}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Ft.constructor_.call(this,t,e)}}]),o}(Ft),re=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"createEmpty",value:function(t){switch(t){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new m("Invalid dimension: "+t)}}},{key:"toGeometry",value:function(t){return t.isNull()?this.createPoint():t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new U(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new U(t.getMinX(),t.getMinY()),new U(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new U(t.getMinX(),t.getMinY()),new U(t.getMinX(),t.getMaxY()),new U(t.getMaxX(),t.getMaxY()),new U(t.getMaxX(),t.getMinY()),new U(t.getMinX(),t.getMinY())]),null)}},{key:"createLineString",value:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(nt(arguments[0],ut))return new Tt(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return 0===arguments.length?new ie(null,this):1===arguments.length?new ie(arguments[0],this):void 0}},{key:"buildGeometry",value:function(t){for(var n=null,i=!1,r=!1,s=t.iterator();s.hasNext();){var o=s.next(),a=o.getTypeCode();null===n&&(n=a),a!==n&&(i=!0),o instanceof Ft&&(r=!0)}if(null===n)return this.createGeometryCollection();if(i||r)return this.createGeometryCollection(e.toGeometryArray(t));var u=t.iterator().next();if(t.size()>1){if(u instanceof Mt)return this.createMultiPolygon(e.toPolygonArray(t));if(u instanceof Tt)return this.createMultiLineString(e.toLineStringArray(t));if(u instanceof Ct)return this.createMultiPoint(e.toPointArray(t));P.shouldNeverReachHere("Unhandled geometry type: "+u.getGeometryType())}return u}},{key:"createMultiPointFromCoords",value:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}},{key:"createPoint",value:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof U){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(nt(arguments[0],ut))return new Ct(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(nt(arguments[0],ut)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Ut){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new Mt(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return 0===arguments.length?new Ft(null,this):1===arguments.length?new Ft(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(nt(arguments[0],ut))return new Ut(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return 0===arguments.length?new Qt(null,this):1===arguments.length?new Qt(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(0===arguments.length)return new Gt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Gt(arguments[0],this);if(nt(arguments[0],ut)){var t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=this.getCoordinateSequenceFactory().create(1,t.getDimension(),t.getMeasures());bt.copy(t,n,i,0,1),e[n]=this.createPoint(i)}return this.createMultiPoint(e)}}}},{key:"interfaces_",get:function(){return[E]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)e.constructor_.call(this,new ee,0);else if(1===arguments.length){if(nt(arguments[0],kt)){var t=arguments[0];e.constructor_.call(this,new ee,0,t)}else if(arguments[0]instanceof ee){var n=arguments[0];e.constructor_.call(this,n,0,e.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];e.constructor_.call(this,i,r,e.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2];this._precisionModel=s,this._coordinateSequenceFactory=a,this._SRID=o}}},{key:"toMultiPolygonArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toGeometryArray",value:function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return Jt.instance()}},{key:"toMultiLineStringArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toLineStringArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toMultiPointArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toLinearRingArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toPointArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toPolygonArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"createPointFromInternalCoord",value:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)}}]),e}(),se="XY",oe={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ae="EMPTY",ue={};for(var le in oe)ue[le]=oe[le].toUpperCase();var ce=function(){function e(n){t(this,e),this.wkt=n,this.index_=-1}return n(e,[{key:"isAlpha_",value:function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}},{key:"isNumeric_",value:function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)}},{key:"isWhiteSpace_",value:function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var t,e=this.nextChar_(),n=this.index_,i=e;if("("==e)t=2;else if(","==e)t=5;else if(")"==e)t=3;else if(this.isNumeric_(e)||"-"==e)t=4,i=this.readNumber_();else if(this.isAlpha_(e))t=1,i=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=6}return{position:n,value:i,type:t}}},{key:"readNumber_",value:function(){var t,e=this.index_,n=!1,i=!1;do{"."==t?n=!0:"e"!=t&&"E"!=t||(i=!0),t=this.nextChar_()}while(this.isNumeric_(t,n)||!i&&("e"==t||"E"==t)||i&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))}},{key:"readText_",value:function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()}}]),e}(),he=function(){function e(n,i){t(this,e),this.lexer_=n,this.token_,this.layout_=se,this.factory=i}return n(e,[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(t){return this.token_.type==t}},{key:"match",value:function(t){var e=this.isTokenType(t);return e&&this.consume_(),e}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var t=se,e=this.token_;if(this.isTokenType(1)){var n=e.value;"Z"===n?t="XYZ":"M"===n?t="XYM":"ZM"===n&&(t="XYZM"),t!==se&&this.consume_()}return t}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(2)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(5));if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(2)){var t=this.parsePoint_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(2)){var t=this.parsePointList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(2)){var t=this.parseLineStringTextList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var t;if(this.match(2)){if(t=2==this.token_.type?this.parsePointTextList_():this.parsePointList_(),this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(2)){var t=this.parseLineStringTextList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(2)){var t=this.parsePolygonTextList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var t=[],e=this.layout_.length,n=0;n<e;++n){var i=this.token_;if(!this.match(4))break;t.push(i.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var t=[this.parsePoint_()];this.match(5);)t.push(this.parsePoint_());return t}},{key:"parsePointTextList_",value:function(){for(var t=[this.parsePointText_()];this.match(5);)t.push(this.parsePointText_());return t}},{key:"parseLineStringTextList_",value:function(){for(var t=[this.parseLineStringText_()];this.match(5);)t.push(this.parseLineStringText_());return t}},{key:"parsePolygonTextList_",value:function(){for(var t=[this.parsePolygonText_()];this.match(5);)t.push(this.parsePolygonText_());return t}},{key:"isEmptyGeometry_",value:function(){var t=this.isTokenType(1)&&this.token_.value==ae;return t&&this.consume_(),t}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var t=this.factory,e=function(t){return a(U,f(t))},n=function(n){var i=n.map((function(n){return t.createLinearRing(n.map(e))}));return i.length>1?t.createPolygon(i[0],i.slice(1)):t.createPolygon(i[0])},i=this.token_;if(this.match(1)){var r=i.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==r){var s=this.parseGeometryCollectionText_();return t.createGeometryCollection(s)}switch(r){case"POINT":var o=this.parsePointText_();return o?t.createPoint(a(U,f(o))):t.createPoint();case"LINESTRING":var u=this.parseLineStringText_().map(e);return t.createLineString(u);case"LINEARRING":var l=this.parseLineStringText_().map(e);return t.createLinearRing(l);case"POLYGON":var c=this.parsePolygonText_();return c&&0!==c.length?n(c):t.createPolygon();case"MULTIPOINT":var h=this.parseMultiPointText_();if(!h||0===h.length)return t.createMultiPoint();var g=h.map(e).map((function(e){return t.createPoint(e)}));return t.createMultiPoint(g);case"MULTILINESTRING":var d=this.parseMultiLineStringText_().map((function(n){return t.createLineString(n.map(e))}));return t.createMultiLineString(d);case"MULTIPOLYGON":var p=this.parseMultiPolygonText_();if(!p||0===p.length)return t.createMultiPolygon();var v=p.map(n);return t.createMultiPolygon(v);default:throw new Error("Invalid geometry type: "+r)}}throw new Error(this.formatErrorMessage_())}}]),e}();function fe(t){if(t.isEmpty())return"";var e=t.getCoordinate(),n=[e.x,e.y];return void 0===e.z||Number.isNaN(e.z)||n.push(e.z),void 0===e.m||Number.isNaN(e.m)||n.push(e.m),n.join(" ")}function ge(t){for(var e=t.getCoordinates().map((function(t){var e=[t.x,t.y];return void 0===t.z||Number.isNaN(t.z)||e.push(t.z),void 0===t.m||Number.isNaN(t.m)||e.push(t.m),e})),n=[],i=0,r=e.length;i<r;++i)n.push(e[i].join(" "));return n.join(", ")}function de(t){var e=[];e.push("("+ge(t.getExteriorRing())+")");for(var n=0,i=t.getNumInteriorRing();n<i;++n)e.push("("+ge(t.getInteriorRingN(n))+")");return e.join(", ")}var pe={Point:fe,LineString:ge,LinearRing:ge,Polygon:de,MultiPoint:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push("("+fe(t.getGeometryN(n))+")");return e.join(", ")},MultiLineString:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push("("+ge(t.getGeometryN(n))+")");return e.join(", ")},MultiPolygon:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push("("+de(t.getGeometryN(n))+")");return e.join(", ")},GeometryCollection:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push(ve(t.getGeometryN(n)));return e.join(", ")}};function ve(t){var e=t.getGeometryType(),n=pe[e];e=e.toUpperCase();var i=function(t){var e="";if(t.isEmpty())return e;var n=t.getCoordinate();return void 0===n.z||Number.isNaN(n.z)||(e+="Z"),void 0===n.m||Number.isNaN(n.m)||(e+="M"),e}(t);return i.length>0&&(e+=" "+i),t.isEmpty()?e+" "+ae:e+" ("+n(t)+")"}var ye=function(){function e(n){t(this,e),this.geometryFactory=n||new re,this.precisionModel=this.geometryFactory.getPrecisionModel()}return n(e,[{key:"read",value:function(t){var e=new ce(t);return new he(e,this.geometryFactory).parse()}},{key:"write",value:function(t){return ve(t)}}]),e}(),me=function(){function e(n){t(this,e),this.parser=new ye(n)}return n(e,[{key:"write",value:function(t){return this.parser.write(t)}}],[{key:"toLineString",value:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}]),e}(),_e=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getIndexAlongSegment",value:function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]}},{key:"getTopologySummary",value:function(){var t=new Wt;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()}},{key:"computeIntersection",value:function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(t){this._precisionModel=t}},{key:"isInteriorIntersection",value:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}}},{key:"getIntersection",value:function(t){return this._intPt[t]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==e.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(t,n){return e.computeEdgeDistance(this._intPt[n],this._inputLines[t][0],this._inputLines[t][1])}},{key:"isCollinear",value:function(){return this._result===e.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return me.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+me.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(t,e){return this._inputLines[t][e]}},{key:"isIntersection",value:function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new U,this._intPt[1]=new U,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),s=-1;if(t.equals(e))s=0;else if(t.equals(n))s=i>r?i:r;else{var o=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(s=i>r?o:a)||t.equals(e)||(s=Math.max(o,a))}return P.isTrue(!(0===s&&!t.equals(e)),"Bad distance calculation"),s}},{key:"nonRobustComputeEdgeDistance",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y,s=Math.sqrt(i*i+r*r);return P.isTrue(!(0===s&&!t.equals(e)),"Invalid distance calculation"),s}}]),e}();_e.DONT_INTERSECT=0,_e.DO_INTERSECT=1,_e.COLLINEAR=2,_e.NO_INTERSECTION=0,_e.POINT_INTERSECTION=1,_e.COLLINEAR_INTERSECTION=2;var ke=function(e){i(o,e);var s=c(o);function o(){return t(this,o),s.call(this)}return n(o,[{key:"isInSegmentEnvelopes",value:function(t){var e=new Y(this._inputLines[0][0],this._inputLines[0][1]),n=new Y(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)}},{key:"computeIntersection",value:function(){if(3!==arguments.length)return h(r(o.prototype),"computeIntersection",this).apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];if(this._isProper=!1,Y.intersects(e,n,t)&&0===lt.index(e,n,t)&&0===lt.index(n,e,t))return this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this._result=_e.POINT_INTERSECTION,null;this._result=_e.NO_INTERSECTION}},{key:"intersection",value:function(t,e,n,i){var r=this.intersectionSafe(t,e,n,i);return this.isInSegmentEnvelopes(r)||(r=new U(o.nearestEndpoint(t,e,n,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(r),r}},{key:"checkDD",value:function(t,e,n,i,r){var s=at.intersection(t,e,n,i),o=this.isInSegmentEnvelopes(s);yt.out.println("DD in env = "+o+"  --------------------- "+s),r.distance(s)>1e-4&&yt.out.println("Distance = "+r.distance(s))}},{key:"intersectionSafe",value:function(t,e,n,i){var r=vt.intersection(t,e,n,i);return null===r&&(r=o.nearestEndpoint(t,e,n,i)),r}},{key:"computeCollinearIntersection",value:function(t,e,n,i){var r=Y.intersects(t,e,n),s=Y.intersects(t,e,i),o=Y.intersects(n,i,t),a=Y.intersects(n,i,e);return r&&s?(this._intPt[0]=n,this._intPt[1]=i,_e.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=t,this._intPt[1]=e,_e.COLLINEAR_INTERSECTION):r&&o?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||s||a?_e.COLLINEAR_INTERSECTION:_e.POINT_INTERSECTION):r&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||s||o?_e.COLLINEAR_INTERSECTION:_e.POINT_INTERSECTION):s&&o?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||r||a?_e.COLLINEAR_INTERSECTION:_e.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||r||o?_e.COLLINEAR_INTERSECTION:_e.POINT_INTERSECTION):_e.NO_INTERSECTION}},{key:"computeIntersect",value:function(t,e,n,i){if(this._isProper=!1,!Y.intersects(t,e,n,i))return _e.NO_INTERSECTION;var r=lt.index(t,e,n),s=lt.index(t,e,i);if(r>0&&s>0||r<0&&s<0)return _e.NO_INTERSECTION;var o=lt.index(n,i,t),a=lt.index(n,i,e);return o>0&&a>0||o<0&&a<0?_e.NO_INTERSECTION:0===r&&0===s&&0===o&&0===a?this.computeCollinearIntersection(t,e,n,i):(0===r||0===s||0===o||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this._intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this._intPt[0]=e:0===r?this._intPt[0]=new U(n):0===s?this._intPt[0]=new U(i):0===o?this._intPt[0]=new U(t):0===a&&(this._intPt[0]=new U(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,n,i)),_e.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(t,e,n,i){var r=t,s=_t.pointToSegment(t,n,i),o=_t.pointToSegment(e,n,i);return o<s&&(s=o,r=e),(o=_t.pointToSegment(n,t,e))<s&&(s=o,r=n),(o=_t.pointToSegment(i,t,e))<s&&(s=o,r=i),r}}]),o}(_e),xe=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"countSegment",value:function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=lt.index(t,e,this._p);if(r===lt.COLLINEAR)return this._isPointOnSegment=!0,null;e.y<t.y&&(r=-r),r===lt.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==X.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?X.BOUNDARY:this._crossingCount%2==1?X.INTERIOR:X.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof U&&nt(arguments[1],ut)){for(var t=arguments[1],n=new e(arguments[0]),i=new U,r=new U,s=1;s<t.size();s++)if(t.getCoordinate(s,i),t.getCoordinate(s-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof U&&arguments[1]instanceof Array){for(var o=arguments[1],a=new e(arguments[0]),u=1;u<o.length;u++){var l=o[u],c=o[u-1];if(a.countSegment(l,c),a.isOnSegment())return a.getLocation()}return a.getLocation()}}}]),e}(),Ee=function(){function e(){t(this,e)}return n(e,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof U&&nt(arguments[1],ut)){for(var t=arguments[0],e=arguments[1],n=new ke,i=new U,r=new U,s=e.size(),o=1;o<s;o++)if(e.getCoordinate(o-1,i),e.getCoordinate(o,r),n.computeIntersection(t,i,r),n.hasIntersection())return!0;return!1}if(arguments[0]instanceof U&&arguments[1]instanceof Array){for(var a=arguments[0],u=arguments[1],l=new ke,c=1;c<u.length;c++){var h=u[c-1],f=u[c];if(l.computeIntersection(a,h,f),l.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(t,e){return xe.locatePointInRing(t,e)}},{key:"isInRing",value:function(t,n){return e.locateInRing(t,n)!==X.EXTERIOR}}]),e}(),Ne=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"setAllLocations",value:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t}},{key:"isNull",value:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==X.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===X.NONE&&(this.location[e]=t)}},{key:"isLine",value:function(){return 1===this.location.length}},{key:"merge",value:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[J.ON]=this.location[J.ON],e[J.LEFT]=X.NONE,e[J.RIGHT]=X.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===X.NONE&&n<t.location.length&&(this.location[n]=t.location[n])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var t=this.location[J.LEFT];this.location[J.LEFT]=this.location[J.RIGHT],this.location[J.RIGHT]=t}},{key:"toString",value:function(){var t=new it;return this.location.length>1&&t.append(X.toLocationSymbol(this.location[J.LEFT])),t.append(X.toLocationSymbol(this.location[J.ON])),this.location.length>1&&t.append(X.toLocationSymbol(this.location[J.RIGHT])),t.toString()}},{key:"setLocations",value:function(t,e,n){this.location[J.ON]=t,this.location[J.LEFT]=e,this.location[J.RIGHT]=n}},{key:"get",value:function(t){return t<this.location.length?this.location[t]:X.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===X.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(J.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}}},{key:"init",value:function(t){this.location=new Array(t).fill(null),this.setAllLocations(X.NONE)}},{key:"isEqualOnSide",value:function(t,e){return this.location[e]===t.location[e]}},{key:"allPositionsEqual",value:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[J.ON]=n}else if(arguments[0]instanceof e){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2];this.init(3),this.location[J.ON]=s,this.location[J.LEFT]=o,this.location[J.RIGHT]=a}}}]),e}(),be=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getGeometryCount",value:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t}},{key:"setAllLocations",value:function(t,e){this.elt[t].setAllLocations(e)}},{key:"isNull",value:function(t){return this.elt[t].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}}},{key:"isLine",value:function(t){return this.elt[t].isLine()}},{key:"merge",value:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Ne(t.elt[e]):this.elt[e].merge(t.elt[e])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(J.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}}},{key:"toString",value:function(){var t=new it;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()}},{key:"isArea",value:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}}},{key:"isAnyNull",value:function(t){return this.elt[t].isAnyNull()}},{key:"setLocation",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(J.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}}},{key:"isEqualOnSide",value:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)}},{key:"allPositionsEqual",value:function(t,e){return this.elt[t].allPositionsEqual(e)}},{key:"toLine",value:function(t){this.elt[t].isArea()&&(this.elt[t]=new Ne(this.elt[t].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Ne(t),this.elt[1]=new Ne(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new Ne(n.elt[0]),this.elt[1]=new Ne(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new Ne(X.NONE),this.elt[1]=new Ne(X.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2];this.elt[0]=new Ne(s,o,a),this.elt[1]=new Ne(s,o,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Ne(X.NONE,X.NONE,X.NONE),this.elt[1]=new Ne(X.NONE,X.NONE,X.NONE),this.elt[u].setLocations(l,c,h)}}},{key:"toLineLabel",value:function(t){for(var n=new e(X.NONE),i=0;i<2;i++)n.setLocation(i,t.getLocation(i));return n}}]),e}(),Ie=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"computeRing",value:function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=lt.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"computePoints",value:function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new ht("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new ht("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();P.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(t){return this._pts.get(t)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var s=r;s<i.length;s++)this._pts.add(i[s])}else{var o=i.length-2;n&&(o=i.length-1);for(var a=o;a>=0;a--)this._pts.add(i[a])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)}},{key:"containsPoint",value:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Ee.isInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0}},{key:"addHole",value:function(t){this._holes.add(t)}},{key:"isShell",value:function(){return null===this._shell}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,J.RIGHT);if(n===X.NONE)return null;if(this._label.getLocation(e)===X.NONE)return this._label.setLocation(e,n),null}}},{key:"setShell",value:function(t){this._shell=t,null!==t&&t.addHole(this)}},{key:"toPolygon",value:function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new gt,this._pts=new gt,this._label=new be(X.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new gt,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()}}}]),e}(),we=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),e=r.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"setEdgeRing",value:function(t,e){t.setMinEdgeRing(e)}},{key:"getNext",value:function(t){return t.getNextMin()}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Ie.constructor_.call(this,t,e)}}]),s}(Ie),Se=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),e=r.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"buildMinimalRings",value:function(){var t=new gt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new we(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t}},{key:"setEdgeRing",value:function(t,e){t.setEdgeRing(e)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)}},{key:"getNext",value:function(t){return t.getNext()}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Ie.constructor_.call(this,t,e)}}]),s}(Ie),Te=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"setVisited",value:function(t){this._isVisited=t}},{key:"setInResult",value:function(t){this._isInResult=t}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(t){this._label=t}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(t){this._isCovered=t,this._isCoveredSet=!0}},{key:"updateIM",value:function(t){P.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}}}]),e}(),Le=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"isIncidentEdgeInResult",value:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(t){t.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(t){}},{key:"computeMergedLocation",value:function(t,e){var n=X.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==X.BOUNDARY&&(n=i)}return n}},{key:"setLabel",value:function(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return h(r(o.prototype),"setLabel",this).apply(this,arguments);var t=arguments[0],e=arguments[1];null===this._label?this._label=new be(t,e):this._label.setLocation(t,e)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof o){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof be)for(var e=arguments[0],n=0;n<2;n++){var i=this.computeMergedLocation(e,n);this._label.getLocation(n)===X.NONE&&this._label.setLocation(n,i)}}},{key:"add",value:function(t){this._edges.insert(t),t.setNode(this)}},{key:"setLabelBoundary",value:function(t){if(null===this._label)return null;var e=X.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case X.BOUNDARY:n=X.INTERIOR;break;case X.INTERIOR:default:n=X.BOUNDARY}this._label.setLocation(t,n)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new be(0,X.NONE)}}]),o}(Te),Ce=function(e){i(r,e);var n=c(r);function r(){return t(this,r),n.apply(this,arguments)}return r}($t);function Re(t){return null==t?0:t.color}function Oe(t){return null==t?null:t.parent}function Ae(t,e){null!==t&&(t.color=e)}function Me(t){return null==t?null:t.left}function De(t){return null==t?null:t.right}var Pe=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),(e=r.call(this)).root_=null,e.size_=0,e}return n(s,[{key:"get",value:function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null}},{key:"put",value:function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var s=r.value;return r.value=e,s}r=r.right}}while(null!==r);var o={key:t,left:null,right:null,value:e,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=o:n.right=o,this.fixAfterInsertion(o),this.size_++,null}},{key:"fixAfterInsertion",value:function(t){var e;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)Oe(t)===Me(Oe(Oe(t)))?1===Re(e=De(Oe(Oe(t))))?(Ae(Oe(t),0),Ae(e,0),Ae(Oe(Oe(t)),1),t=Oe(Oe(t))):(t===De(Oe(t))&&(t=Oe(t),this.rotateLeft(t)),Ae(Oe(t),0),Ae(Oe(Oe(t)),1),this.rotateRight(Oe(Oe(t)))):1===Re(e=Me(Oe(Oe(t))))?(Ae(Oe(t),0),Ae(e,0),Ae(Oe(Oe(t)),1),t=Oe(Oe(t))):(t===Me(Oe(t))&&(t=Oe(t),this.rotateRight(t)),Ae(Oe(t),0),Ae(Oe(Oe(t)),1),this.rotateLeft(Oe(Oe(t))));this.root_.color=0}},{key:"values",value:function(){var t=new gt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=s.successor(e));)t.add(e.value);return t}},{key:"entrySet",value:function(){var t=new W,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=s.successor(e));)t.add(e);return t}},{key:"rotateLeft",value:function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}}},{key:"rotateRight",value:function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}}},{key:"getFirstEntry",value:function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return!0;e=e.right}}return!1}}],[{key:"successor",value:function(t){var e;if(null===t)return null;if(null!==t.right){for(e=t.right;null!==e.left;)e=e.left;return e}e=t.parent;for(var n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e}}]),s}(Ce),qe=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"find",value:function(t){return this.nodeMap.get(t)}},{key:"addNode",value:function(){if(arguments[0]instanceof U){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Le){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}}},{key:"print",value:function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(t){for(var e=new gt,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===X.BOUNDARY&&e.add(i)}return e}},{key:"add",value:function(t){var e=t.getCoordinate();this.addNode(e).add(t)}}],[{key:"constructor_",value:function(){this.nodeMap=new Pe,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}}]),e}(),Fe=function(){function e(){t(this,e)}return n(e,null,[{key:"isNorthern",value:function(t){return t===e.NE||t===e.NW}},{key:"isOpposite",value:function(t,e){return t!==e&&2==(t-e+4)%4}},{key:"commonHalfPlane",value:function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n}},{key:"isInHalfPlane",value:function(t,n){return n===e.SE?t===e.SE||t===e.SW:t===n||t===n+1}},{key:"quadrant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];if(0===t&&0===n)throw new m("Cannot compute the quadrant for point ( "+t+", "+n+" )");return t>=0?n>=0?e.NE:e.SE:n>=0?e.NW:e.SW}if(arguments[0]instanceof U&&arguments[1]instanceof U){var i=arguments[0],r=arguments[1];if(r.x===i.x&&r.y===i.y)throw new m("Cannot compute the quadrant for two identical points "+i);return r.x>=i.x?r.y>=i.y?e.NE:e.SE:r.y>=i.y?e.NW:e.SW}}}]),e}();Fe.NE=0,Fe.NW=1,Fe.SW=2,Fe.SE=3;var Ge=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"compareDirection",value:function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:lt.index(t._p0,t._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(t){this._node=t}},{key:"print",value:function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)}},{key:"compareTo",value:function(t){var e=t;return this.compareDirection(e)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label}},{key:"computeLabel",value:function(t){}},{key:"init",value:function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Fe.quadrant(this._dx,this._dy),P.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];e.constructor_.call(this,n,i,r,null)}else if(4===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2],u=arguments[3];e.constructor_.call(this,s),this.init(o,a),this._label=u}}}]),e}(),Ue=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(t){return this._depth[t]}},{key:"setVisited",value:function(t){this._isVisited=t}},{key:"computeDirectedLabel",value:function(){this._label=new be(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new ht("assigned depths do not match",this.getCoordinate());this._depth[t]=e}},{key:"isInteriorAreaEdge",value:function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,J.LEFT)===X.INTERIOR&&this._label.getLocation(e,J.RIGHT)===X.INTERIOR||(t=!1);return t}},{key:"setNextMin",value:function(t){this._nextMin=t}},{key:"print",value:function(t){h(r(o.prototype),"print",this).call(this,t),t.print(" "+this._depth[J.LEFT]+"/"+this._depth[J.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")}},{key:"setMinEdgeRing",value:function(t){this._minEdgeRing=t}},{key:"isLineEdge",value:function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,X.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,X.EXTERIOR);return t&&e&&n}},{key:"setEdgeRing",value:function(t){this._edgeRing=t}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t}},{key:"setInResult",value:function(t){this._isInResult=t}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)}},{key:"setSym",value:function(t){this._sym=t}},{key:"setVisitedEdge",value:function(t){this.setVisited(t),this._sym.setVisited(t)}},{key:"setEdgeDepths",value:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===J.LEFT&&(i=-1);var r=J.opposite(t),s=e+n*i;this.setDepth(t,e),this.setDepth(r,s)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(t){this._next=t}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(Ge.constructor_.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(t,e){return t===X.EXTERIOR&&e===X.INTERIOR?1:t===X.INTERIOR&&e===X.EXTERIOR?-1:0}}]),o}(Ge),Be=function(){function e(){t(this,e)}return n(e,[{key:"createNode",value:function(t){return new Le(t,null)}}]),e}(),Ye=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"printEdges",value:function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}}},{key:"find",value:function(t){return this._nodes.find(t)}},{key:"addNode",value:function(){if(arguments[0]instanceof Le){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof U){var e=arguments[0];return this._nodes.addNode(e)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(t){yt.out.println(t)}},{key:"isBoundaryNode",value:function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===X.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(t,e,n,i){return!!t.equals(n)&&lt.index(t,e,i)===lt.COLLINEAR&&Fe.quadrant(t,e)===Fe.quadrant(n,i)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(t){yt.out.print(t)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null}},{key:"insertEdge",value:function(t){this._edges.add(t)}},{key:"findEdgeEnd",value:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null}},{key:"addEdges",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new Ue(n,!0),r=new Ue(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}}},{key:"add",value:function(t){this._nodes.add(t),this._edgeEndList.add(t)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null}}],[{key:"constructor_",value:function(){if(this._edges=new gt,this._nodes=null,this._edgeEndList=new gt,0===arguments.length)this._nodes=new qe(new Be);else if(1===arguments.length){var t=arguments[0];this._nodes=new qe(t)}}},{key:"linkResultDirectedEdges",value:function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}}]),e}(),ze=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"sortShellsAndHoles",value:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}}},{key:"computePolygons",value:function(t){for(var e=new gt,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e}},{key:"placeFreeHoles",value:function(t,n){for(var i=n.iterator();i.hasNext();){var r=i.next();if(null===r.getShell()){var s=e.findEdgeRingContaining(r,t);if(null===s)throw new ht("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(s)}}}},{key:"buildMinimalEdgeRings",value:function(t,e,n){for(var i=new gt,r=t.iterator();r.hasNext();){var s=r.next();if(s.getMaxNodeDegree()>2){s.linkDirectedEdgesForMinimalEdgeRings();var o=s.buildMinimalRings(),a=this.findShell(o);null!==a?(this.placePolygonHoles(a,o),e.add(a)):n.addAll(o)}else i.add(s)}return i}},{key:"buildMaximalEdgeRings",value:function(t){for(var e=new gt,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new Se(i,this._geometryFactory);e.add(r),r.setInResult()}}return e}},{key:"placePolygonHoles",value:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return P.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n}},{key:"add",value:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Ye.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new gt,s=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(s,this._shellList,r),this.placeFreeHoles(this._shellList,r)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new gt;var t=arguments[0];this._geometryFactory=t}},{key:"findEdgeRingContaining",value:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),s=null,o=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();if(!c.equals(i)&&c.contains(i)){r=Ht.ptNotInList(n.getCoordinates(),l.getCoordinates());var h=!1;Ee.isInRing(r,l.getCoordinates())&&(h=!0),h&&(null===s||o.contains(c))&&(o=(s=u).getLinearRing().getEnvelopeInternal())}}return s}}]),e}(),Xe=function(){function e(){t(this,e)}return n(e,[{key:"getBounds",value:function(){}}]),e}(),Ve=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Xe,E]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e}}]),e}(),He=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"poll",value:function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return 0===this._size}},{key:"add",value:function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new gt,this._items.add(null)}}]),e}(),je=function(){function e(){t(this,e)}return n(e,[{key:"insert",value:function(t,e){}},{key:"remove",value:function(t,e){}},{key:"query",value:function(){}}]),e}(),Ze=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(t){P.isTrue(null===this._bounds),this._childBoundables.add(t)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Xe,E]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new gt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}}}]),e}(),We={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return We.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?Ot.sort(n,e):Ot.sort(n);for(var i=t.iterator(),r=0,s=n.length;r<s;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new gt;return e.add(t),e}},Ke=function(){function e(){t(this,e)}return n(e,null,[{key:"maxDistance",value:function(t,n,i,r,s,o,a,u){var l=e.distance(t,n,s,o);return l=Math.max(l,e.distance(t,n,a,u)),l=Math.max(l,e.distance(i,r,s,o)),Math.max(l,e.distance(i,r,a,u))}},{key:"distance",value:function(t,e,n,i){var r=n-t,s=i-e;return Math.sqrt(r*r+s*s)}},{key:"maximumDistance",value:function(t,n){var i=Math.min(t.getMinX(),n.getMinX()),r=Math.min(t.getMinY(),n.getMinY()),s=Math.max(t.getMaxX(),n.getMaxX()),o=Math.max(t.getMaxY(),n.getMaxY());return e.distance(i,r,s,o)}},{key:"minMaxDistance",value:function(t,n){var i=t.getMinX(),r=t.getMinY(),s=t.getMaxX(),o=t.getMaxY(),a=n.getMinX(),u=n.getMinY(),l=n.getMaxX(),c=n.getMaxY(),h=e.maxDistance(i,r,i,o,a,u,a,c);return h=Math.min(h,e.maxDistance(i,r,i,o,a,u,l,u)),h=Math.min(h,e.maxDistance(i,r,i,o,l,c,a,c)),h=Math.min(h,e.maxDistance(i,r,i,o,l,c,l,u)),h=Math.min(h,e.maxDistance(i,r,s,r,a,u,a,c)),h=Math.min(h,e.maxDistance(i,r,s,r,a,u,l,u)),h=Math.min(h,e.maxDistance(i,r,s,r,l,c,a,c)),h=Math.min(h,e.maxDistance(i,r,s,r,l,c,l,u)),h=Math.min(h,e.maxDistance(s,o,i,o,a,u,a,c)),h=Math.min(h,e.maxDistance(s,o,i,o,a,u,l,u)),h=Math.min(h,e.maxDistance(s,o,i,o,l,c,a,c)),h=Math.min(h,e.maxDistance(s,o,i,o,l,c,l,u)),h=Math.min(h,e.maxDistance(s,o,s,r,a,u,a,c)),h=Math.min(h,e.maxDistance(s,o,s,r,a,u,l,u)),h=Math.min(h,e.maxDistance(s,o,s,r,l,c,a,c)),Math.min(h,e.maxDistance(s,o,s,r,l,c,l,u))}}]),e}(),Je=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"maximumDistance",value:function(){return Ke.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(t,n){var i=e.isComposite(this._boundable1),r=e.isComposite(this._boundable2);if(i&&r)return e.area(this._boundable1)>e.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,t,n),null):(this.expand(this._boundable2,this._boundable1,!0,t,n),null);if(i)return this.expand(this._boundable1,this._boundable2,!1,t,n),null;if(r)return this.expand(this._boundable2,this._boundable1,!0,t,n),null;throw new m("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(e.isComposite(this._boundable1)||e.isComposite(this._boundable2))}},{key:"compareTo",value:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0}},{key:"expand",value:function(t,n,i,r,s){for(var o=t.getChildBoundables().iterator();o.hasNext();){var a=o.next(),u=null;(u=i?new e(n,a,this._itemDistance):new e(a,n,this._itemDistance)).getDistance()<s&&r.add(u)}}},{key:"getBoundable",value:function(t){return 0===t?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()}},{key:"area",value:function(t){return t.getBounds().getArea()}},{key:"isComposite",value:function(t){return t instanceof Ze}}]),e}(),Qe=function(){function e(){t(this,e)}return n(e,[{key:"visitItem",value:function(t){}}]),e}(),$e=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"queryInternal",value:function(){if(nt(arguments[2],Qe)&&arguments[0]instanceof Object&&arguments[1]instanceof Ze)for(var t=arguments[0],e=arguments[2],n=arguments[1].getChildBoundables(),i=0;i<n.size();i++){var r=n.get(i);this.getIntersectsOp().intersects(r.getBounds(),t)&&(r instanceof Ze?this.queryInternal(t,r,e):r instanceof Ve?e.visitItem(r.getItem()):P.shouldNeverReachHere())}else if(nt(arguments[2],tt)&&arguments[0]instanceof Object&&arguments[1]instanceof Ze)for(var s=arguments[0],o=arguments[2],a=arguments[1].getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),s)&&(l instanceof Ze?this.queryInternal(s,l,o):l instanceof Ve?o.add(l.getItem()):P.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(t){return t.get(t.size()-1)}},{key:"size",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Ze?t+=this.size(n):n instanceof Ve&&(t+=1)}return t}}},{key:"removeItem",value:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof Ve&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)}},{key:"itemsTree",value:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new gt:t}if(1===arguments.length){for(var e=arguments[0],n=new gt,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Ze){var s=this.itemsTree(r);null!==s&&n.add(s)}else r instanceof Ve?n.add(r.getItem()):P.shouldNeverReachHere()}return n.size()<=0?null:n}}},{key:"insert",value:function(t,e){P.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Ve(t,e))}},{key:"boundablesAtLevel",value:function(){if(1===arguments.length){var t=arguments[0],e=new gt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(P.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var s=i.getChildBoundables().iterator();s.hasNext();){var o=s.next();o instanceof Ze?this.boundablesAtLevel(n,o,r):(P.isTrue(o instanceof Ve),-1===n&&r.add(o))}return null}}},{key:"query",value:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new gt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.queryInternal(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,i)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],s=this.removeItem(i,r);if(s)return!0;for(var o=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Ze&&(s=this.remove(n,u,r))){o=u;break}}return null!==o&&o.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(o),s}}},{key:"createHigherLevels",value:function(t,e){P.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)}},{key:"depth",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Ze){var i=this.depth(n);i>t&&(t=i)}}return t+1}}},{key:"createParentBoundables",value:function(t,e){P.isTrue(!t.isEmpty());var n=new gt;n.add(this.createNode(e));var i=new gt(t);We.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var s=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(s)}return n}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[E]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new gt,this._nodeCapacity=null,0===arguments.length)e.constructor_.call(this,e.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];P.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}}},{key:"compareDoubles",value:function(t,e){return t>e?1:t<e?-1:0}}]),e}();$e.IntersectsOp=function(){},$e.DEFAULT_NODE_CAPACITY=10;var tn=function(){function e(){t(this,e)}return n(e,[{key:"distance",value:function(t,e){}}]),e}(),en=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"createParentBoundablesFromVerticalSlices",value:function(t,e){P.isTrue(t.length>0);for(var n=new gt,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n}},{key:"nearestNeighbourK",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.nearestNeighbourK(t,O.POSITIVE_INFINITY,e)}if(3===arguments.length){var n=arguments[0],i=arguments[2],r=arguments[1],s=new He;s.add(n);for(var a=new He;!s.isEmpty()&&r>=0;){var u=s.poll(),l=u.getDistance();if(l>=r)break;u.isLeaves()?a.size()<i?a.add(u):(a.peek().getDistance()>l&&(a.poll(),a.add(u)),r=a.peek().getDistance()):u.expandToQueue(s,r)}return o.getItems(a)}}},{key:"createNode",value:function(t){return new nn(t)}},{key:"size",value:function(){return 0===arguments.length?h(r(o.prototype),"size",this).call(this):h(r(o.prototype),"size",this).apply(this,arguments)}},{key:"insert",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof Y))return h(r(o.prototype),"insert",this).apply(this,arguments);var t=arguments[0],e=arguments[1];if(t.isNull())return null;h(r(o.prototype),"insert",this).call(this,t,e)}},{key:"getIntersectsOp",value:function(){return o.intersectsOp}},{key:"verticalSlices",value:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),s=0;s<e;s++){i[s]=new gt;for(var o=0;r.hasNext()&&o<n;){var a=r.next();i[s].add(a),o++}}return i}},{key:"query",value:function(){if(1===arguments.length){var t=arguments[0];return h(r(o.prototype),"query",this).call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];h(r(o.prototype),"query",this).call(this,e,n)}}},{key:"getComparator",value:function(){return o.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(t,e){return h(r(o.prototype),"createParentBoundables",this).call(this,t,e)}},{key:"remove",value:function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof Y){var t=arguments[0],e=arguments[1];return h(r(o.prototype),"remove",this).call(this,t,e)}return h(r(o.prototype),"remove",this).apply(this,arguments)}},{key:"depth",value:function(){return 0===arguments.length?h(r(o.prototype),"depth",this).call(this):h(r(o.prototype),"depth",this).apply(this,arguments)}},{key:"createParentBoundables",value:function(t,e){P.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new gt(t);We.sort(i,o.xComparator);var r=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(r,e)}},{key:"nearestNeighbour",value:function(){if(1===arguments.length){if(nt(arguments[0],tn)){var t=arguments[0];if(this.isEmpty())return null;var e=new Je(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof Je){var n=arguments[0],i=O.POSITIVE_INFINITY,r=null,s=new He;for(s.add(n);!s.isEmpty()&&i>0;){var o=s.poll(),a=o.getDistance();if(a>=i)break;o.isLeaves()?(i=a,r=o):o.expandToQueue(s,i)}return null===r?null:[r.getBoundable(0).getItem(),r.getBoundable(1).getItem()]}}else{if(2===arguments.length){var u=arguments[0],l=arguments[1];if(this.isEmpty()||u.isEmpty())return null;var c=new Je(this.getRoot(),u.getRoot(),l);return this.nearestNeighbour(c)}if(3===arguments.length){var h=arguments[2],f=new Ve(arguments[0],arguments[1]),g=new Je(this.getRoot(),f,h);return this.nearestNeighbour(g)[0]}if(4===arguments.length){var d=arguments[2],p=arguments[3],v=new Ve(arguments[0],arguments[1]),y=new Je(this.getRoot(),v,d);return this.nearestNeighbourK(y,p)}}}},{key:"isWithinDistance",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=O.POSITIVE_INFINITY,i=new He;for(i.add(t);!i.isEmpty();){var r=i.poll(),s=r.getDistance();if(s>e)return!1;if(r.maximumDistance()<=e)return!0;if(r.isLeaves()){if((n=s)<=e)return!0}else r.expandToQueue(i,n)}return!1}if(3===arguments.length){var o=arguments[0],a=arguments[1],u=arguments[2],l=new Je(this.getRoot(),o.getRoot(),a);return this.isWithinDistance(l,u)}}},{key:"interfaces_",get:function(){return[je,E]}}],[{key:"constructor_",value:function(){if(0===arguments.length)o.constructor_.call(this,o.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];$e.constructor_.call(this,t)}}},{key:"centreX",value:function(t){return o.avg(t.getMinX(),t.getMaxX())}},{key:"avg",value:function(t,e){return(t+e)/2}},{key:"getItems",value:function(t){for(var e=new Array(t.size()).fill(null),n=0;!t.isEmpty();){var i=t.poll();e[n]=i.getBoundable(0).getItem(),n++}return e}},{key:"centreY",value:function(t){return o.avg(t.getMinY(),t.getMaxY())}}]),o}($e),nn=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),e=r.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"computeBounds",value:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Y(n.getBounds()):t.expandToInclude(n.getBounds())}return t}}],[{key:"constructor_",value:function(){var t=arguments[0];Ze.constructor_.call(this,t)}}]),s}(Ze);en.STRtreeNode=nn,en.xComparator=new(function(){function e(){t(this,e)}return n(e,[{key:"interfaces_",get:function(){return[A]}},{key:"compare",value:function(t,e){return $e.compareDoubles(en.centreX(t.getBounds()),en.centreX(e.getBounds()))}}]),e}()),en.yComparator=new(function(){function e(){t(this,e)}return n(e,[{key:"interfaces_",get:function(){return[A]}},{key:"compare",value:function(t,e){return $e.compareDoubles(en.centreY(t.getBounds()),en.centreY(e.getBounds()))}}]),e}()),en.intersectsOp=new(function(){function e(){t(this,e)}return n(e,[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(t,e){return t.intersects(e)}}]),e}()),en.DEFAULT_NODE_CAPACITY=10;var rn=function(){function e(){t(this,e)}return n(e,null,[{key:"relativeSign",value:function(t,e){return t<e?-1:t>e?1:0}},{key:"compare",value:function(t,n,i){if(n.equals2D(i))return 0;var r=e.relativeSign(n.x,i.x),s=e.relativeSign(n.y,i.y);switch(t){case 0:return e.compareValue(r,s);case 1:return e.compareValue(s,r);case 2:return e.compareValue(s,-r);case 3:return e.compareValue(-r,s);case 4:return e.compareValue(-r,-s);case 5:return e.compareValue(-s,-r);case 6:return e.compareValue(-s,r);case 7:return e.compareValue(r,-s)}return P.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0}}]),e}(),sn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:this._isInterior?e._isInterior?rn.compare(this._segmentOctant,this.coord,e.coord):1:-1}},{key:"isEndPoint",value:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new U(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}}]),e}(),on=function(){function e(){t(this,e)}return n(e,[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}]),e}(),an=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getSplitCoordinates",value:function(){var t=new Vt;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var t=new gt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}}},{key:"createSplitEdgePts",value:function(t,e){var n=e.segmentIndex-t.segmentIndex+2;if(2===n)return[new U(t.coord),new U(e.coord)];var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var s=new Array(n).fill(null),o=0;s[o++]=new U(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)s[o++]=this._edge.getCoordinate(a);return r&&(s[o]=new U(e.coord)),s}},{key:"print",value:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"findCollapsesFromExistingVertices",value:function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e);this._edge.getCoordinate(e+1);var i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(rt.valueOf(e+1))}}},{key:"addEdgeCoordinates",value:function(t,e,n){var i=this.createSplitEdgePts(t,e);n.add(i,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}}},{key:"findCollapseIndex",value:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(rt.valueOf(e[0])),i=r}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)}},{key:"createSplitEdge",value:function(t,e){var n=this.createSplitEdgePts(t,e);return new hn(n,this._edge.getData())}},{key:"add",value:function(t,e){var n=new sn(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(P.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)}},{key:"checkSplitEdgesCorrectness",value:function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new M("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new M("bad split edge end point at "+r)}}],[{key:"constructor_",value:function(){this._nodeMap=new Pe,this._edge=null;var t=arguments[0];this._edge=t}}]),e}(),un=function(){function e(){t(this,e)}return n(e,null,[{key:"octant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];if(0===t&&0===n)throw new m("Cannot compute the octant for point ( "+t+", "+n+" )");var i=Math.abs(t),r=Math.abs(n);return t>=0?n>=0?i>=r?0:1:i>=r?7:6:n>=0?i>=r?3:2:i>=r?4:5}if(arguments[0]instanceof U&&arguments[1]instanceof U){var s=arguments[0],o=arguments[1],a=o.x-s.x,u=o.y-s.y;if(0===a&&0===u)throw new m("Cannot compute the octant for two identical points "+s);return e.octant(a,u)}}}]),e}(),ln=function(){function e(){t(this,e)}return n(e,[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(t){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(t){}},{key:"getData",value:function(){}}]),e}(),cn=function(){function e(){t(this,e)}return n(e,[{key:"addIntersection",value:function(t,e){}},{key:"interfaces_",get:function(){return[ln]}}]),e}(),hn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(t){return this._pts[t]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))}},{key:"setData",value:function(t){this._data=t}},{key:"safeOctant",value:function(t,e){return t.equals2D(e)?0:un.octant(t,e)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[1],i=arguments[3],r=new U(arguments[0].getIntersection(i));this.addIntersection(r,n)}}},{key:"toString",value:function(){return me.toLineString(new Kt(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)}},{key:"addIntersections",value:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)}},{key:"interfaces_",get:function(){return[cn]}}],[{key:"constructor_",value:function(){this._nodeList=new an(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}},{key:"getNodedSubstrings",value:function(){if(1===arguments.length){var t=arguments[0],n=new gt;return e.getNodedSubstrings(t,n),n}if(2===arguments.length)for(var i=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(i)}}]),e}(),fn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof e){var t=arguments[0],n=lt.index(this.p0,this.p1,t.p0),i=lt.index(this.p0,this.p1,t.p1);return n>=0&&i>=0||n<=0&&i<=0?Math.max(n,i):0}if(arguments[0]instanceof U){var r=arguments[0];return lt.index(this.p0,this.p1,r)}}},{key:"toGeometry",value:function(t){return t.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(t){if(!(t instanceof e))return!1;var n=t;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)}},{key:"intersection",value:function(t){var e=new ke;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof U){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new U(t);var n=this.projectionFactor(t),i=new U;return i.x=this.p0.x+n*(this.p1.x-this.p0.x),i.y=this.p0.y+n*(this.p1.y-this.p0.y),i}if(arguments[0]instanceof e){var r=arguments[0],s=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(s>=1&&o>=1)return null;if(s<=0&&o<=0)return null;var a=this.project(r.p0);s<0&&(a=this.p0),s>1&&(a=this.p1);var u=this.project(r.p1);return o<0&&(u=this.p0),o>1&&(u=this.p1),new e(a,u)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(t){return 0===t?this.p0:this.p1}},{key:"distancePerpendicular",value:function(t){return _t.pointToLinePerpendicular(t,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return e.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?O.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i}},{key:"closestPoints",value:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=O.MAX_VALUE,r=null,s=this.closestPoint(t.p0);i=s.distance(t.p0),n[0]=s,n[1]=t.p0;var o=this.closestPoint(t.p1);(r=o.distance(t.p1))<i&&(i=r,n[0]=o,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(r=u.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=u),n}},{key:"closestPoint",value:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)}},{key:"reverse",value:function(){var t=this.p0;this.p0=this.p1,this.p1=t}},{key:"equalsTopo",value:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)}},{key:"lineIntersection",value:function(t){return vt.intersection(this.p0,this.p1,t.p0,t.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,o=Math.sqrt(r*r+s*s),a=0,u=0;if(0!==e){if(o<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*r/o,u=e*s/o}return new U(n-u,i+a)}},{key:"setCoordinates",value:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}}},{key:"segmentFraction",value:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||O.isNaN(e))&&(e=1),e}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(t){var e=this.p1.getY()-this.p0.getY(),n=this.p0.getX()-this.p1.getX(),i=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),r=e*e+n*n,s=e*e-n*n,o=t.getX(),a=t.getY();return new U((-s*o-2*e*n*a-2*e*i)/r,(s*a-2*e*n*o-2*n*i)/r)}},{key:"distance",value:function(){if(arguments[0]instanceof e){var t=arguments[0];return _t.segmentToSegment(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof U){var n=arguments[0];return _t.pointToSegment(n,this.p0,this.p1)}}},{key:"pointAlong",value:function(t){var e=new U;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e}},{key:"hashCode",value:function(){var t=O.doubleToLongBits(this.p0.x);t^=31*O.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=O.doubleToLongBits(this.p1.x);return n^=31*O.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)}},{key:"interfaces_",get:function(){return[k,E]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,0===arguments.length)e.constructor_.call(this,new U,new U);else if(1===arguments.length){var t=arguments[0];e.constructor_.call(this,t.p0,t.p1)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.p0=n,this.p1=i}else if(4===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];e.constructor_.call(this,new U(r,s),new U(o,a))}}},{key:"midPoint",value:function(t,e){return new U((t.x+e.x)/2,(t.y+e.y)/2)}}]),e}(),gn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"overlap",value:function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new fn,this._overlapSeg2=new fn}}]),e}(),dn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getLineSegment",value:function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]}},{key:"computeSelect",value:function(t,e,n,i){var r=this._pts[e],s=this._pts[n];if(n-e==1)return i.select(this,e),null;if(!t.intersects(r,s))return null;var o=Math.trunc((e+n)/2);e<o&&this.computeSelect(t,e,o,i),o<n&&this.computeSelect(t,o,n,i)}},{key:"getCoordinates",value:function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t}},{key:"computeOverlaps",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.computeOverlaps(this._start,this._end,t,t._start,t._end,e)}else if(6===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],s=arguments[3],o=arguments[4],a=arguments[5];if(i-n==1&&o-s==1)return a.overlap(this,n,r,s),null;if(!this.overlaps(n,i,r,s,o))return null;var u=Math.trunc((n+i)/2),l=Math.trunc((s+o)/2);n<u&&(s<l&&this.computeOverlaps(n,u,r,s,l,a),l<o&&this.computeOverlaps(n,u,r,l,o,a)),u<i&&(s<l&&this.computeOverlaps(u,i,r,s,l,a),l<o&&this.computeOverlaps(u,i,r,l,o,a))}}},{key:"setId",value:function(t){this._id=t}},{key:"select",value:function(t,e){this.computeSelect(t,this._start,this._end,e)}},{key:"getEnvelope",value:function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Y(t,e)}return this._env}},{key:"overlaps",value:function(t,e,n,i,r){return Y.intersects(this._pts[t],this._pts[e],n._pts[i],n._pts[r])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i}}]),e}(),pn=function(){function e(){t(this,e)}return n(e,null,[{key:"findChainEnd",value:function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=Fe.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||Fe.quadrant(t[r-1],t[r])===i);)r++;return r-1}},{key:"getChains",value:function(){if(1===arguments.length){var t=arguments[0];return e.getChains(t,null)}if(2===arguments.length){var n=arguments[0],i=arguments[1],r=new gt,s=0;do{var o=e.findChainEnd(n,s),a=new dn(n,s,o,i);r.add(a),s=o}while(s<n.length-1);return r}}}]),e}(),vn=function(){function e(){t(this,e)}return n(e,[{key:"computeNodes",value:function(t){}},{key:"getNodedSubstrings",value:function(){}}]),e}(),yn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"setSegmentIntersector",value:function(t){this._segInt=t}},{key:"interfaces_",get:function(){return[vn]}}],[{key:"constructor_",value:function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}}]),e}(),mn=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),e=r.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return hn.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(t){for(var e=pn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}}},{key:"computeNodes",value:function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var t=new _n(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new gt,this._index=new en,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];yn.constructor_.call(this,t)}}}]),s}(yn),_n=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"overlap",value:function(){if(4!==arguments.length)return h(r(o.prototype),"overlap",this).apply(this,arguments);var t=arguments[1],e=arguments[2],n=arguments[3],i=arguments[0].getContext(),s=e.getContext();this._si.processIntersections(i,t,s,n)}}],[{key:"constructor_",value:function(){this._si=null;var t=arguments[0];this._si=t}}]),o}(gn);mn.SegmentOverlapAction=_n;var kn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"isDeletable",value:function(t,e,n,i){var r=this._inputLine[t],s=this._inputLine[e],o=this._inputLine[n];return!!this.isConcave(r,s,o)&&!!this.isShallow(r,s,o,i)&&this.isShallowSampled(r,s,t,n,i)}},{key:"deleteShallowConcavities",value:function(){for(var t=1,n=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(n),r=!1;i<this._inputLine.length;){var s=!1;this.isDeletable(t,n,i,this._distanceTol)&&(this._isDeleted[n]=e.DELETE,s=!0,r=!0),t=s?i:n,n=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(n)}return r}},{key:"isShallowConcavity",value:function(t,e,n,i){return lt.index(t,e,n)===this._angleOrientation&&_t.pointToSegment(e,t,n)<i}},{key:"isShallowSampled",value:function(t,n,i,r,s){var o=Math.trunc((r-i)/e.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=i;a<r;a+=o)if(!this.isShallow(t,n,this._inputLine[a],s))return!1;return!0}},{key:"isConcave",value:function(t,e,n){return lt.index(t,e,n)===this._angleOrientation}},{key:"simplify",value:function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=lt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(t){for(var n=t+1;n<this._inputLine.length&&this._isDeleted[n]===e.DELETE;)n++;return n}},{key:"isShallow",value:function(t,e,n,i){return _t.pointToSegment(e,t,n)<i}},{key:"collapseLine",value:function(){for(var t=new Vt,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==e.DELETE&&t.add(this._inputLine[n]);return t.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=lt.COUNTERCLOCKWISE;var t=arguments[0];this._inputLine=t}},{key:"simplify",value:function(t,n){return new e(t).simplify(n)}}]),e}();kn.INIT=0,kn.DELETE=1,kn.KEEP=1,kn.NUM_PTS_TO_CHECK=10;var xn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getCoordinates",value:function(){return this._ptList.toArray(e.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(t){this._precisionModel=t}},{key:"addPt",value:function(t){var e=new U(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])}},{key:"isRedundant",value:function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance}},{key:"toString",value:function(){return(new re).createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var t=new U(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)}},{key:"setMinimumVertexDistance",value:function(t){this._minimimVertexDistance=t}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new gt}}]),e}();xn.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var En=function(){function e(){t(this,e)}return n(e,null,[{key:"toDegrees",value:function(t){return 180*t/Math.PI}},{key:"normalize",value:function(t){for(;t>Math.PI;)t-=e.PI_TIMES_2;for(;t<=-Math.PI;)t+=e.PI_TIMES_2;return t}},{key:"angle",value:function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}}},{key:"isAcute",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0}},{key:"isObtuse",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0}},{key:"interiorAngle",value:function(t,n,i){var r=e.angle(n,t),s=e.angle(n,i);return Math.abs(s-r)}},{key:"normalizePositive",value:function(t){if(t<0){for(;t<0;)t+=e.PI_TIMES_2;t>=e.PI_TIMES_2&&(t=0)}else{for(;t>=e.PI_TIMES_2;)t-=e.PI_TIMES_2;t<0&&(t=0)}return t}},{key:"angleBetween",value:function(t,n,i){var r=e.angle(n,t),s=e.angle(n,i);return e.diff(r,s)}},{key:"diff",value:function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n}},{key:"toRadians",value:function(t){return t*Math.PI/180}},{key:"getTurn",value:function(t,n){var i=Math.sin(n-t);return i>0?e.COUNTERCLOCKWISE:i<0?e.CLOCKWISE:e.NONE}},{key:"angleBetweenOriented",value:function(t,n,i){var r=e.angle(n,t),s=e.angle(n,i)-r;return s<=-Math.PI?s+e.PI_TIMES_2:s>Math.PI?s-e.PI_TIMES_2:s}}]),e}();En.PI_TIMES_2=2*Math.PI,En.PI_OVER_2=Math.PI/2,En.PI_OVER_4=Math.PI/4,En.COUNTERCLOCKWISE=lt.COUNTERCLOCKWISE,En.CLOCKWISE=lt.CLOCKWISE,En.NONE=lt.COLLINEAR;var Nn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"addNextSegment",value:function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=lt.index(this._s0,this._s1,this._s2),i=n===lt.CLOCKWISE&&this._side===J.LEFT||n===lt.COUNTERCLOCKWISE&&this._side===J.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)}},{key:"addLineEndCap",value:function(t,e){var n=new fn(t,e),i=new fn;this.computeOffsetSegment(n,J.LEFT,this._distance,i);var r=new fn;this.computeOffsetSegment(n,J.RIGHT,this._distance,r);var s=e.x-t.x,o=e.y-t.y,a=Math.atan2(o,s);switch(this._bufParams.getEndCapStyle()){case v.CAP_ROUND:this._segList.addPt(i.p1),this.addDirectedFillet(e,a+Math.PI/2,a-Math.PI/2,lt.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case v.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case v.CAP_SQUARE:var u=new U;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new U(i.p1.x+u.x,i.p1.y+u.y),c=new U(r.p1.x+u.x,r.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(t,e,n,i){var r=vt.intersection(e.p0,e.p1,n.p0,n.p1);if(null!==r&&(i<=0?1:r.distance(t)/Math.abs(i))<=this._bufParams.getMitreLimit())return this._segList.addPt(r),null;this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(t,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*e.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===v.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===v.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(t){this._segList.addPt(new U(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new U(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new U(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new U(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(t,e){this._segList.addPts(t,e)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(t,e,n,i,r){var s=e.x-t.x,o=e.y-t.y,a=Math.atan2(o,s),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);i===lt.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addDirectedFillet(t,a,c,i,r),this._segList.addPt(n)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(t,e,n,i){var r=this._seg0.p1,s=En.angle(r,this._seg0.p0),o=En.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=En.normalize(s+o),u=En.normalize(a+Math.PI),l=i*n,c=n-l*Math.abs(Math.sin(o)),h=r.x+l*Math.cos(u),f=r.y+l*Math.sin(u),g=new U(h,f),d=new fn(r,g),p=d.pointAlongOffset(1,c),v=d.pointAlongOffset(1,-c);this._side===J.LEFT?(this._segList.addPt(p),this._segList.addPt(v)):(this._segList.addPt(v),this._segList.addPt(p))}},{key:"addDirectedFillet",value:function(t,e,n,i,r){var s=i===lt.CLOCKWISE?-1:1,o=Math.abs(e-n),a=Math.trunc(o/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=o/a,l=new U,c=0;c<a;c++){var h=e+s*c*u;l.x=t.x+r*Math.cos(h),l.y=t.y+r*Math.sin(h),this._segList.addPt(l)}}},{key:"computeOffsetSegment",value:function(t,e,n,i){var r=e===J.LEFT?1:-1,s=t.p1.x-t.p0.x,o=t.p1.y-t.p0.y,a=Math.sqrt(s*s+o*o),u=r*n*s/a,l=r*n*o/a;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u}},{key:"addInsideTurn",value:function(t,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*e.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new U((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var r=new U((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(t){var e=new U(t.x+this._distance,t.y);this._segList.addPt(e),this.addDirectedFillet(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)}},{key:"init",value:function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new xn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*e.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===v.JOIN_BEVEL||this._bufParams.getJoinStyle()===v.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,lt.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new fn,this._seg1=new fn,this._offset0=new fn,this._offset1=new fn,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new ke,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===v.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)}}]),e}();Nn.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Nn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Nn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Nn.MAX_CLOSING_SEG_LEN_FACTOR=80;var bn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getOffsetCurve",value:function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var s=r.getCoordinates();return n&&Ht.reverse(s),s}},{key:"computeSingleSidedBufferCurve",value:function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=kn.simplify(t,-i),s=r.length-1;n.initSideSegments(r[s],r[s-1],J.LEFT),n.addFirstSegment();for(var o=s-2;o>=0;o--)n.addNextSegment(r[o],!0)}else{n.addSegments(t,!1);var a=kn.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],J.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()}},{key:"computeRingBufferCurve",value:function(t,e,n){var i=this.simplifyTolerance(this._distance);e===J.RIGHT&&(i=-i);var r=kn.simplify(t,i),s=r.length-1;n.initSideSegments(r[s-1],r[0],e);for(var o=1;o<=s;o++){var a=1!==o;n.addNextSegment(r[o],a)}n.closeRing()}},{key:"computeLineBufferCurve",value:function(t,e){var n=this.simplifyTolerance(this._distance),i=kn.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],J.LEFT);for(var s=2;s<=r;s++)e.addNextSegment(i[s],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var o=kn.simplify(t,-n),a=o.length-1;e.initSideSegments(o[a],o[a-1],J.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(o[u],!0);e.addLastSegment(),e.addLineEndCap(o[1],o[0]),e.closeRing()}},{key:"computePointCurve",value:function(t,e){switch(this._bufParams.getEndCapStyle()){case v.CAP_ROUND:e.createCircle(t);break;case v.CAP_SQUARE:e.createSquare(t)}}},{key:"getLineCurve",value:function(t,e){if(this._distance=e,this.isLineOffsetEmpty(e))return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(t){return t*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(t,n,i){if(this._distance=i,t.length<=2)return this.getLineCurve(t,i);if(0===i)return e.copyCoordinates(t);var r=this.getSegGen(i);return this.computeRingBufferCurve(t,n,r),r.getCoordinates()}},{key:"computeOffsetCurve",value:function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=kn.simplify(t,-i),s=r.length-1;n.initSideSegments(r[s],r[s-1],J.LEFT),n.addFirstSegment();for(var o=s-2;o>=0;o--)n.addNextSegment(r[o],!0)}else{var a=kn.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],J.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(t){return 0===t||t<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(t){return new Nn(this._precisionModel,this._bufParams,t)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e}},{key:"copyCoordinates",value:function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new U(t[n]);return e}}]),e}(),In=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"findStabbedSegments",value:function(){if(1===arguments.length){for(var t=arguments[0],e=new gt,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(nt(arguments[2],tt)&&arguments[0]instanceof U&&arguments[1]instanceof Ue){for(var s=arguments[0],o=arguments[1],a=arguments[2],u=o.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<s.x||this._seg.isHorizontal()||s.y<this._seg.p0.y||s.y>this._seg.p1.y||lt.index(this._seg.p0,this._seg.p1,s)===lt.RIGHT)){var c=o.getDepth(J.LEFT);this._seg.p0.equals(u[l])||(c=o.getDepth(J.RIGHT));var h=new wn(this._seg,c);a.add(h)}}else if(nt(arguments[2],tt)&&arguments[0]instanceof U&&nt(arguments[1],tt))for(var f=arguments[0],g=arguments[2],d=arguments[1].iterator();d.hasNext();){var p=d.next();p.isForward()&&this.findStabbedSegments(f,p,g)}}},{key:"getDepth",value:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:We.min(e)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new fn;var t=arguments[0];this._subgraphs=t}}]),e}(),wn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"compareTo",value:function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)}},{key:"compareX",value:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new fn(t),this._leftDepth=e}}]),e}();In.DepthSegment=wn;var Sn=function(e){i(s,e);var r=c(s);function s(){var e;return t(this,s),e=r.call(this),s.constructor_.apply(l(e),arguments),e}return n(s,null,[{key:"constructor_",value:function(){y.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}]),s}(y),Tn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getY",value:function(){var t=this.y/this.w;if(O.isNaN(t)||O.isInfinite(t))throw new Sn;return t}},{key:"getX",value:function(){var t=this.x/this.w;if(O.isNaN(t)||O.isInfinite(t))throw new Sn;return t}},{key:"getCoordinate",value:function(){var t=new U;return t.x=this.getX(),t.y=this.getY(),t}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var r=arguments[0],s=arguments[1];this.x=r.y*s.w-s.y*r.w,this.y=s.x*r.w-r.x*s.w,this.w=r.x*s.y-s.x*r.y}else if(arguments[0]instanceof U&&arguments[1]instanceof U){var o=arguments[0],a=arguments[1];this.x=o.y-a.y,this.y=a.x-o.x,this.w=o.x*a.y-a.x*o.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var h=arguments[0],f=arguments[1],g=arguments[2],d=arguments[3],p=h.y-f.y,v=f.x-h.x,y=h.x*f.y-f.x*h.y,m=g.y-d.y,_=d.x-g.x,k=g.x*d.y-d.x*g.y;this.x=v*k-_*y,this.y=m*y-p*k,this.w=p*_-m*v}}}]),e}(),Ln=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"area",value:function(){return e.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return e.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(t){if(null===t)throw new m("Supplied point is null.");return e.interpolateZ(t,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return e.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return e.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return e.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return e.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return e.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return e.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}},{key:"area",value:function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)}},{key:"signedArea",value:function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2}},{key:"det",value:function(t,e,n,i){return t*i-e*n}},{key:"interpolateZ",value:function(t,e,n,i){var r=e.x,s=e.y,o=n.x-r,a=i.x-r,u=n.y-s,l=i.y-s,c=o*l-a*u,h=t.x-r,f=t.y-s,g=(l*h-a*f)/c,d=(-u*h+o*f)/c;return e.getZ()+g*(n.getZ()-e.getZ())+d*(i.getZ()-e.getZ())}},{key:"longestSideLength",value:function(t,e,n){var i=t.distance(e),r=e.distance(n),s=n.distance(t),o=i;return r>o&&(o=r),s>o&&(o=s),o}},{key:"circumcentreDD",value:function(t,e,n){var i=ot.valueOf(t.x).subtract(n.x),r=ot.valueOf(t.y).subtract(n.y),s=ot.valueOf(e.x).subtract(n.x),o=ot.valueOf(e.y).subtract(n.y),a=ot.determinant(i,r,s,o).multiply(2),u=i.sqr().add(r.sqr()),l=s.sqr().add(o.sqr()),c=ot.determinant(r,u,o,l),h=ot.determinant(i,u,s,l),f=ot.valueOf(n.x).subtract(c.divide(a)).doubleValue(),g=ot.valueOf(n.y).add(h.divide(a)).doubleValue();return new U(f,g)}},{key:"isAcute",value:function(t,e,n){return!!En.isAcute(t,e,n)&&!!En.isAcute(e,n,t)&&!!En.isAcute(n,t,e)}},{key:"circumcentre",value:function(t,n,i){var r=i.x,s=i.y,o=t.x-r,a=t.y-s,u=n.x-r,l=n.y-s,c=2*e.det(o,a,u,l),h=e.det(a,o*o+a*a,l,u*u+l*l),f=e.det(o,o*o+a*a,u,u*u+l*l);return new U(r-h/c,s+f/c)}},{key:"perpendicularBisector",value:function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new Tn(t.x+n/2,t.y+i/2,1),s=new Tn(t.x-i+n/2,t.y+n+i/2,1);return new Tn(r,s)}},{key:"angleBisector",value:function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),s=n.x-t.x,o=n.y-t.y;return new U(t.x+r*s,t.y+r*o)}},{key:"area3D",value:function(t,e,n){var i=e.x-t.x,r=e.y-t.y,s=e.getZ()-t.getZ(),o=n.x-t.x,a=n.y-t.y,u=n.getZ()-t.getZ(),l=r*u-s*a,c=s*o-i*u,h=i*a-r*o,f=l*l+c*c+h*h;return Math.sqrt(f)/2}},{key:"centroid",value:function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new U(i,r)}},{key:"inCentre",value:function(t,e,n){var i=e.distance(n),r=t.distance(n),s=t.distance(e),o=i+r+s,a=(i*t.x+r*e.x+s*n.x)/o,u=(i*t.y+r*e.y+s*n.y)/o;return new U(a,u)}}]),e}(),Cn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"addRingSide",value:function(t,e,n,i,r){if(0===e&&t.length<Ut.MINIMUM_VALID_SIZE)return null;var s=i,o=r;t.length>=Ut.MINIMUM_VALID_SIZE&&lt.isCCW(t)&&(s=r,o=i,n=J.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,s,o)}},{key:"addRingBothSides",value:function(t,e){this.addRingSide(t,e,J.LEFT,X.EXTERIOR,X.INTERIOR),this.addRingSide(t,e,J.RIGHT,X.INTERIOR,X.EXTERIOR)}},{key:"addPoint",value:function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,X.EXTERIOR,X.INTERIOR)}},{key:"addPolygon",value:function(t){var e=this._distance,n=J.LEFT;this._distance<0&&(e=-this._distance,n=J.RIGHT);var i=t.getExteriorRing(),r=Ht.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addRingSide(r,e,n,X.EXTERIOR,X.INTERIOR);for(var s=0;s<t.getNumInteriorRing();s++){var o=t.getInteriorRingN(s),a=Ht.removeRepeatedPoints(o.getCoordinates());this._distance>0&&this.isErodedCompletely(o,-this._distance)||this.addRingSide(a,e,J.opposite(n),X.INTERIOR,X.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(t,e){var n=new Ln(t[0],t[1],t[2]),i=n.inCentre();return _t.pointToSegment(i,n.p0,n.p1)<Math.abs(e)}},{key:"addLineString",value:function(t){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var e=Ht.removeRepeatedPoints(t.getCoordinates());if(Ht.isRing(e)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(e,this._distance);else{var n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,X.EXTERIOR,X.INTERIOR)}}},{key:"addCurve",value:function(t,e,n){if(null===t||t.length<2)return null;var i=new hn(t,new be(0,X.BOUNDARY,e,n));this._curveList.add(i)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(t){if(t.isEmpty())return null;if(t instanceof Mt)this.addPolygon(t);else if(t instanceof Tt)this.addLineString(t);else if(t instanceof Ct)this.addPoint(t);else if(t instanceof Gt)this.addCollection(t);else if(t instanceof ie)this.addCollection(t);else if(t instanceof Qt)this.addCollection(t);else{if(!(t instanceof Ft))throw new j(t.getGeometryType());this.addCollection(t)}}},{key:"isErodedCompletely",value:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r}},{key:"addCollection",value:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new gt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n}}]),e}(),Rn=function(){function e(){t(this,e)}return n(e,[{key:"locate",value:function(t){}}]),e}(),On=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,e.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new H;var t=this._parent.getGeometryN(this._index++);return t instanceof Ft?(this._subcollectionIterator=new e(t),this._subcollectionIterator.next()):t}},{key:"remove",value:function(){throw new j(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[on]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}},{key:"isAtomic",value:function(t){return!(t instanceof Ft)}}]),e}(),An=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"locate",value:function(t){return e.locate(t,this._geom)}},{key:"interfaces_",get:function(){return[Rn]}}],[{key:"constructor_",value:function(){this._geom=null;var t=arguments[0];this._geom=t}},{key:"locatePointInPolygon",value:function(t,n){if(n.isEmpty())return X.EXTERIOR;var i=n.getExteriorRing(),r=e.locatePointInRing(t,i);if(r!==X.INTERIOR)return r;for(var s=0;s<n.getNumInteriorRing();s++){var o=n.getInteriorRingN(s),a=e.locatePointInRing(t,o);if(a===X.BOUNDARY)return X.BOUNDARY;if(a===X.INTERIOR)return X.EXTERIOR}return X.INTERIOR}},{key:"locatePointInRing",value:function(t,e){return e.getEnvelopeInternal().intersects(t)?Ee.locateInRing(t,e.getCoordinates()):X.EXTERIOR}},{key:"containsPointInPolygon",value:function(t,n){return X.EXTERIOR!==e.locatePointInPolygon(t,n)}},{key:"locateInGeometry",value:function(t,n){if(n instanceof Mt)return e.locatePointInPolygon(t,n);if(n instanceof Ft)for(var i=new On(n);i.hasNext();){var r=i.next();if(r!==n){var s=e.locateInGeometry(t,r);if(s!==X.EXTERIOR)return s}}return X.EXTERIOR}},{key:"isContained",value:function(t,n){return X.EXTERIOR!==e.locate(t,n)}},{key:"locate",value:function(t,n){return n.isEmpty()?X.EXTERIOR:n.getEnvelopeInternal().intersects(t)?e.locateInGeometry(t,n):X.EXTERIOR}}]),e}(),Mn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getNextCW",value:function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)}},{key:"propagateSideLabels",value:function(t){for(var e=X.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,J.LEFT)!==X.NONE&&(e=i.getLocation(t,J.LEFT))}if(e===X.NONE)return null;for(var r=e,s=this.iterator();s.hasNext();){var o=s.next(),a=o.getLabel();if(a.getLocation(t,J.ON)===X.NONE&&a.setLocation(t,J.ON,r),a.isArea(t)){var u=a.getLocation(t,J.LEFT),l=a.getLocation(t,J.RIGHT);if(l!==X.NONE){if(l!==r)throw new ht("side location conflict",o.getCoordinate());u===X.NONE&&P.shouldNeverReachHere("found single null side (at "+o.getCoordinate()+")"),r=u}else P.isTrue(a.getLocation(t,J.LEFT)===X.NONE,"found single null side"),a.setLocation(t,J.RIGHT,r),a.setLocation(t,J.LEFT,r)}}}},{key:"getCoordinate",value:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null}},{key:"print",value:function(t){yt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"isAreaLabelsConsistent",value:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,J.LEFT);P.isTrue(i!==X.NONE,"Found unlabelled area edge");for(var r=i,s=this.iterator();s.hasNext();){var o=s.next().getLabel();P.isTrue(o.isArea(t),"Found non-area edge");var a=o.getLocation(t,J.LEFT),u=o.getLocation(t,J.RIGHT);if(a===u)return!1;if(u!==r)return!1;r=a}return!0}},{key:"findIndex",value:function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return null===this._edgeList&&(this._edgeList=new gt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(t,e,n){return this._ptInAreaLocation[t]===X.NONE&&(this._ptInAreaLocation[t]=An.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]}},{key:"toString",value:function(){var t=new it;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()}},{key:"computeEdgeEndLabels",value:function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)}},{key:"computeLabelling",value:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===X.BOUNDARY&&(e[r]=!0);for(var s=this.iterator();s.hasNext();)for(var o=s.next(),a=o.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=X.NONE;if(e[u])l=X.EXTERIOR;else{var c=o.getCoordinate();l=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,l)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(t,e){this._edgeMap.put(t,e),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Pe,this._edgeList=null,this._ptInAreaLocation=[X.NONE,X.NONE]}}]),e}(),Dn=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),s=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!s.isInResult())continue;e=s,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new ht("no outgoing dirEdge found",this.getCoordinate());P.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}}},{key:"insert",value:function(t){var e=t;this.insertEdgeEnd(e,e)}},{key:"getRightmostEdge",value:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),s=i.getQuadrant();return Fe.isNorthern(r)&&Fe.isNorthern(s)?n:Fe.isNorthern(r)||Fe.isNorthern(s)?0!==n.getDy()?n:0!==i.getDy()?i:(P.shouldNeverReachHere("found two horizontal edges incident on node"),null):i}},{key:"print",value:function(t){yt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}}},{key:"getResultAreaEdges",value:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new gt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)}},{key:"computeDepths",value:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(J.LEFT),i=t.getDepth(J.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new ht("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[1],o=arguments[2],a=arguments[0];a<s;a++){var u=this._edgeList.get(a);u.setEdgeDepths(J.RIGHT,o),o=u.getDepth(J.LEFT)}return o}}},{key:"mergeSymLabels",value:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var s=this._resultAreaEdgeList.get(r),o=s.getSym();switch(null===e&&s.getEdgeRing()===t&&(e=s),i){case this._SCANNING_FOR_INCOMING:if(o.getEdgeRing()!==t)continue;n=o,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(s.getEdgeRing()!==t)continue;n.setNextMin(s),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(P.isTrue(null!==e,"found null for first outgoing dirEdge"),P.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))}},{key:"getOutgoingDegree",value:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var t=X.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=X.INTERIOR;break}if(i.isInResult()){t=X.EXTERIOR;break}}}if(t===X.NONE)return null;for(var r=t,s=this.iterator();s.hasNext();){var o=s.next(),a=o.getSym();o.isLineEdge()?o.getEdge().setCovered(r===X.INTERIOR):(o.isInResult()&&(r=X.EXTERIOR),a.isInResult()&&(r=X.INTERIOR))}}},{key:"computeLabelling",value:function(t){h(r(o.prototype),"computeLabelling",this).call(this,t),this._label=new be(X.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),i=0;i<2;i++){var s=n.getLocation(i);s!==X.INTERIOR&&s!==X.BOUNDARY||this._label.setLocation(i,X.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}]),o}(Mn),Pn=function(e){i(s,e);var r=c(s);function s(){return t(this,s),r.call(this)}return n(s,[{key:"createNode",value:function(t){return new Le(t,new Dn)}}]),s}(Be),qn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"compareTo",value:function(t){var n=t;return e.compareOriented(this._pts,this._orientation,n._pts,n._orientation)}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)}},{key:"orientation",value:function(t){return 1===Ht.increasingDirection(t)}},{key:"compareOriented",value:function(t,e,n,i){for(var r=e?1:-1,s=i?1:-1,o=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=r)===o,f=(l+=s)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}}}]),e}(),Fn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"print",value:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")}},{key:"addAll",value:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())}},{key:"findEdgeIndex",value:function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(t){return this._edges.get(t)}},{key:"findEqualEdge",value:function(t){var e=new qn(t.getCoordinates());return this._ocaMap.get(e)}},{key:"add",value:function(t){this._edges.add(t);var e=new qn(t.getCoordinates());this._ocaMap.put(e,t)}}],[{key:"constructor_",value:function(){this._edges=new gt,this._ocaMap=new Pe}}]),e}(),Gn=function(){function e(){t(this,e)}return n(e,[{key:"processIntersections",value:function(t,e,n,i){}},{key:"isDone",value:function(){}}]),e}(),Un=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"isTrivialIntersection",value:function(t,n,i,r){if(t===i&&1===this._li.getIntersectionNum()){if(e.isAdjacentSegments(n,r))return!0;if(t.isClosed()){var s=t.size()-1;if(0===n&&r===s||0===r&&n===s)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],s=t.getCoordinates()[e+1],o=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,s,o,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Gn]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t}},{key:"isAdjacentSegments",value:function(t,e){return 1===Math.abs(t-e)}}]),e}(),Bn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)}},{key:"compareTo",value:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)}},{key:"isEndPoint",value:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new U(t),this.segmentIndex=e,this.dist=n}}]),e}(),Yn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"print",value:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}}},{key:"addEndpoints",value:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)}},{key:"createSplitEdge",value:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var s=new Array(n).fill(null),o=0;s[o++]=new U(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)s[o++]=this.edge.pts[a];return r&&(s[o]=e.coord),new Zn(s,new be(this.edge._label))}},{key:"add",value:function(t,e,n){var i=new Bn(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)}},{key:"isIntersection",value:function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Pe,this.edge=null;var t=arguments[0];this.edge=t}}]),e}(),zn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(e.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])||e.isTrue(this._matrix[X.INTERIOR][X.BOUNDARY])||e.isTrue(this._matrix[X.BOUNDARY][X.INTERIOR])||e.isTrue(this._matrix[X.BOUNDARY][X.BOUNDARY]))&&this._matrix[X.EXTERIOR][X.INTERIOR]===It.FALSE&&this._matrix[X.EXTERIOR][X.BOUNDARY]===It.FALSE}},{key:"isCoveredBy",value:function(){return(e.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])||e.isTrue(this._matrix[X.INTERIOR][X.BOUNDARY])||e.isTrue(this._matrix[X.BOUNDARY][X.INTERIOR])||e.isTrue(this._matrix[X.BOUNDARY][X.BOUNDARY]))&&this._matrix[X.INTERIOR][X.EXTERIOR]===It.FALSE&&this._matrix[X.BOUNDARY][X.EXTERIOR]===It.FALSE}},{key:"set",value:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this._matrix[n][i]=It.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this._matrix[r][s]=o}}},{key:"isContains",value:function(){return e.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&this._matrix[X.EXTERIOR][X.INTERIOR]===It.FALSE&&this._matrix[X.EXTERIOR][X.BOUNDARY]===It.FALSE}},{key:"setAtLeast",value:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.setAtLeast(n,i,It.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this._matrix[r][s]<o&&(this._matrix[r][s]=o)}}},{key:"setAtLeastIfValid",value:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)}},{key:"isWithin",value:function(){return e.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&this._matrix[X.INTERIOR][X.EXTERIOR]===It.FALSE&&this._matrix[X.BOUNDARY][X.EXTERIOR]===It.FALSE}},{key:"isTouches",value:function(t,n){return t>n?this.isTouches(n,t):(t===It.A&&n===It.A||t===It.L&&n===It.L||t===It.L&&n===It.A||t===It.P&&n===It.A||t===It.P&&n===It.L)&&this._matrix[X.INTERIOR][X.INTERIOR]===It.FALSE&&(e.isTrue(this._matrix[X.INTERIOR][X.BOUNDARY])||e.isTrue(this._matrix[X.BOUNDARY][X.INTERIOR])||e.isTrue(this._matrix[X.BOUNDARY][X.BOUNDARY]))}},{key:"isOverlaps",value:function(t,n){return t===It.P&&n===It.P||t===It.A&&n===It.A?e.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&e.isTrue(this._matrix[X.INTERIOR][X.EXTERIOR])&&e.isTrue(this._matrix[X.EXTERIOR][X.INTERIOR]):t===It.L&&n===It.L&&1===this._matrix[X.INTERIOR][X.INTERIOR]&&e.isTrue(this._matrix[X.INTERIOR][X.EXTERIOR])&&e.isTrue(this._matrix[X.EXTERIOR][X.INTERIOR])}},{key:"isEquals",value:function(t,n){return t===n&&e.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&this._matrix[X.INTERIOR][X.EXTERIOR]===It.FALSE&&this._matrix[X.BOUNDARY][X.EXTERIOR]===It.FALSE&&this._matrix[X.EXTERIOR][X.INTERIOR]===It.FALSE&&this._matrix[X.EXTERIOR][X.BOUNDARY]===It.FALSE}},{key:"toString",value:function(){for(var t=new Wt("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,It.toDimensionSymbol(this._matrix[e][n]));return t.toString()}},{key:"setAll",value:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this._matrix[e][n]=t}},{key:"get",value:function(t,e){return this._matrix[t][e]}},{key:"transpose",value:function(){var t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this}},{key:"matches",value:function(t){if(9!==t.length)throw new m("Should be length 9: "+t);for(var n=0;n<3;n++)for(var i=0;i<3;i++)if(!e.matches(this._matrix[n][i],t.charAt(3*n+i)))return!1;return!0}},{key:"add",value:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))}},{key:"isDisjoint",value:function(){return this._matrix[X.INTERIOR][X.INTERIOR]===It.FALSE&&this._matrix[X.INTERIOR][X.BOUNDARY]===It.FALSE&&this._matrix[X.BOUNDARY][X.INTERIOR]===It.FALSE&&this._matrix[X.BOUNDARY][X.BOUNDARY]===It.FALSE}},{key:"isCrosses",value:function(t,n){return t===It.P&&n===It.L||t===It.P&&n===It.A||t===It.L&&n===It.A?e.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&e.isTrue(this._matrix[X.INTERIOR][X.EXTERIOR]):t===It.L&&n===It.P||t===It.A&&n===It.P||t===It.A&&n===It.L?e.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&e.isTrue(this._matrix[X.EXTERIOR][X.INTERIOR]):t===It.L&&n===It.L&&0===this._matrix[X.INTERIOR][X.INTERIOR]}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(It.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];e.constructor_.call(this),this.set(t)}else if(arguments[0]instanceof e){var n=arguments[0];e.constructor_.call(this),this._matrix[X.INTERIOR][X.INTERIOR]=n._matrix[X.INTERIOR][X.INTERIOR],this._matrix[X.INTERIOR][X.BOUNDARY]=n._matrix[X.INTERIOR][X.BOUNDARY],this._matrix[X.INTERIOR][X.EXTERIOR]=n._matrix[X.INTERIOR][X.EXTERIOR],this._matrix[X.BOUNDARY][X.INTERIOR]=n._matrix[X.BOUNDARY][X.INTERIOR],this._matrix[X.BOUNDARY][X.BOUNDARY]=n._matrix[X.BOUNDARY][X.BOUNDARY],this._matrix[X.BOUNDARY][X.EXTERIOR]=n._matrix[X.BOUNDARY][X.EXTERIOR],this._matrix[X.EXTERIOR][X.INTERIOR]=n._matrix[X.EXTERIOR][X.INTERIOR],this._matrix[X.EXTERIOR][X.BOUNDARY]=n._matrix[X.EXTERIOR][X.BOUNDARY],this._matrix[X.EXTERIOR][X.EXTERIOR]=n._matrix[X.EXTERIOR][X.EXTERIOR]}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],n=arguments[1];return n===It.SYM_DONTCARE||n===It.SYM_TRUE&&(t>=0||t===It.TRUE)||n===It.SYM_FALSE&&t===It.FALSE||n===It.SYM_P&&t===It.P||n===It.SYM_L&&t===It.L||n===It.SYM_A&&t===It.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var i=arguments[1];return new e(arguments[0]).matches(i)}}},{key:"isTrue",value:function(t){return t>=0||t===It.TRUE}}]),e}(),Xn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(t){return null===t||0===t.length?null:(this.ensureCapacity(this._size+t.length),yt.arraycopy(t,0,this._data,this._size,t.length),void(this._size+=t.length))}},{key:"ensureCapacity",value:function(t){if(t<=this._data.length)return null;var e=Math.max(t,2*this._data.length);this._data=Ot.copyOf(this._data,e)}},{key:"toArray",value:function(){var t=new Array(this._size).fill(null);return yt.arraycopy(this._data,0,t,0,this._size),t}},{key:"add",value:function(t){this.ensureCapacity(this._size+1),this._data[this._size]=t,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,0===arguments.length)e.constructor_.call(this,10);else if(1===arguments.length){var t=arguments[0];this._data=new Array(t).fill(null)}}}]),e}(),Vn=function(){function e(){t(this,e)}return n(e,[{key:"getChainStartIndices",value:function(t){var e=0,n=new Xn(Math.trunc(t.length/2));n.add(e);do{var i=this.findChainEnd(t,e);n.add(i),e=i}while(e<t.length-1);return n.toArray()}},{key:"findChainEnd",value:function(t,e){for(var n=Fe.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&Fe.quadrant(t[i-1],t[i])===n;)i++;return i-1}},{key:"OLDgetChainStartIndices",value:function(t){var n=0,i=new gt;i.add(n);do{var r=this.findChainEnd(t,n);i.add(r),n=r}while(n<t.length-1);return e.toIntArray(i)}}],[{key:"toIntArray",value:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e}}]),e}(),Hn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n}},{key:"getMinX",value:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n}},{key:"computeIntersectsForChain",value:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5];if(s-r==1&&u-a==1)return l.addIntersections(this.e,r,o.e,a),null;if(!this.overlaps(r,s,o,a,u))return null;var c=Math.trunc((r+s)/2),h=Math.trunc((a+u)/2);r<c&&(a<h&&this.computeIntersectsForChain(r,c,o,a,h,l),h<u&&this.computeIntersectsForChain(r,c,o,h,u,l)),c<s&&(a<h&&this.computeIntersectsForChain(c,s,o,a,h,l),h<u&&this.computeIntersectsForChain(c,s,o,h,u,l))}}},{key:"overlaps",value:function(t,e,n,i,r){return Y.intersects(this.pts[t],this.pts[e],n.pts[i],n.pts[r])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Vn;this.startIndex=e.getChainStartIndices(this.pts)}}]),e}(),jn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"getDepth",value:function(t,e){return this._depth[t][e]}},{key:"setDepth",value:function(t,e,n){this._depth[t][e]=n}},{key:"isNull",value:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var n=0;n<3;n++)if(this._depth[t][n]!==e.NULL_VALUE)return!1;return!0}if(1===arguments.length){var i=arguments[0];return this._depth[i][1]===e.NULL_VALUE}if(2===arguments.length){var r=arguments[0],s=arguments[1];return this._depth[r][s]===e.NULL_VALUE}}},{key:"normalize",value:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}}},{key:"getDelta",value:function(t){return this._depth[t][J.RIGHT]-this._depth[t][J.LEFT]}},{key:"getLocation",value:function(t,e){return this._depth[t][e]<=0?X.EXTERIOR:X.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(1===arguments.length)for(var t=arguments[0],n=0;n<2;n++)for(var i=1;i<3;i++){var r=t.getLocation(n,i);r!==X.EXTERIOR&&r!==X.INTERIOR||(this.isNull(n,i)?this._depth[n][i]=e.depthAtLocation(r):this._depth[n][i]+=e.depthAtLocation(r))}else if(3===arguments.length){var s=arguments[0],o=arguments[1];arguments[2]===X.INTERIOR&&this._depth[s][o]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var n=0;n<3;n++)this._depth[t][n]=e.NULL_VALUE}},{key:"depthAtLocation",value:function(t){return t===X.EXTERIOR?0:t===X.INTERIOR?1:e.NULL_VALUE}}]),e}();jn.NULL_VALUE=-1;var Zn=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new o(t,be.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(t){this._isIsolated=t}},{key:"setName",value:function(t){this._name=t}},{key:"equals",value:function(t){if(!(t instanceof o))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,i=!0,r=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(e.pts[s])||(n=!1),this.pts[s].equals2D(e.pts[--r])||(i=!1),!n&&!i)return!1;return!0}},{key:"getCoordinate",value:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}}},{key:"print",value:function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(t){o.updateIM(this._label,t)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")}},{key:"getMonotoneChainEdge",value:function(){return null===this._mce&&(this._mce=new Hn(this)),this._mce}},{key:"getEnvelope",value:function(){if(null===this._env){this._env=new Y;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env}},{key:"addIntersection",value:function(t,e,n,i){var r=new U(t.getIntersection(i)),s=e,o=t.getEdgeDistance(n,i),a=s+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(s=a,o=0)}this.eiList.add(r,s,o)}},{key:"toString",value:function(){var t=new Wt;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()}},{key:"isPointwiseEqual",value:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0}},{key:"setDepthDelta",value:function(t){this._depthDelta=t}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Yn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new jn,this._depthDelta=0,1===arguments.length){var t=arguments[0];o.constructor_.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this._label=n}}},{key:"updateIM",value:function(){if(!(2===arguments.length&&arguments[1]instanceof zn&&arguments[0]instanceof be))return h(r(o),"updateIM",this).apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,J.ON),t.getLocation(1,J.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,J.LEFT),t.getLocation(1,J.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,J.RIGHT),t.getLocation(1,J.RIGHT),2))}}]),o}(Te),Wn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"setWorkingPrecisionModel",value:function(t){this._workingPrecisionModel=t}},{key:"insertUniqueEdge",value:function(t){var n=this._edgeList.findEqualEdge(t);if(null!==n){var i=n.getLabel(),r=t.getLabel();n.isPointwiseEqual(t)||(r=new be(t.getLabel())).flip(),i.merge(r);var s=e.depthDelta(r),o=n.getDepthDelta()+s;n.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(e.depthDelta(t.getLabel()))}},{key:"buildSubgraphs",value:function(t,e){for(var n=new gt,i=t.iterator();i.hasNext();){var r=i.next(),s=r.getRightmostCoordinate(),o=new In(n).getDepth(s);r.computeDepth(o),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}}},{key:"createSubgraphs",value:function(t){for(var e=new gt,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new pt;r.create(i),e.add(r)}}return We.sort(e,We.reverseOrder()),e}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new mn,n=new ke;return n.setPrecisionModel(t),e.setSegmentIntersector(new Un(n)),e}},{key:"buffer",value:function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new bn(n,this._bufParams),r=new Cn(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new Ye(new Pn),this._graph.addEdges(this._edgeList.getEdges());var s=this.createSubgraphs(this._graph),o=new ze(this._geomFact);this.buildSubgraphs(s,o);var a=o.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)}},{key:"computeNodedEdges",value:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),s=r.getCoordinates();if(2!==s.length||!s[0].equals2D(s[1])){var o=r.getData(),a=new Zn(r.getCoordinates(),new be(o));this.insertUniqueEdge(a)}}}},{key:"setNoder",value:function(t){this._workingNoder=t}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Fn;var t=arguments[0];this._bufParams=t}},{key:"depthDelta",value:function(t){var e=t.getLocation(0,J.LEFT),n=t.getLocation(0,J.RIGHT);return e===X.INTERIOR&&n===X.EXTERIOR?1:e===X.EXTERIOR&&n===X.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(t){for(var e=new re,n=new gt;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)}}]),e}(),Kn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"rescale",value:function(){if(nt(arguments[0],V))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&yt.out.println(n)}}},{key:"scale",value:function(){if(nt(arguments[0],V)){for(var t=arguments[0],e=new gt(t.size()),n=t.iterator();n.hasNext();){var i=n.next();e.add(new hn(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],s=new Array(r.length).fill(null),o=0;o<r.length;o++)s[o]=new U(Math.round((r[o].x-this._offsetX)*this._scaleFactor),Math.round((r[o].y-this._offsetY)*this._scaleFactor),r[o].getZ());return Ht.removeRepeatedPoints(s)}}},{key:"isIntegerPrecision",value:function(){return 1===this._scaleFactor}},{key:"getNodedSubstrings",value:function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t}},{key:"computeNodes",value:function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)}},{key:"interfaces_",get:function(){return[vn]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],n=arguments[1];e.constructor_.call(this,t,n,0,0)}else if(4===arguments.length){var i=arguments[0],r=arguments[1];this._noder=i,this._scaleFactor=r,this._isScaled=!this.isIntegerPrecision()}}}]),e}(),Jn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"checkEndPtVertexIntersections",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),s=1;s<r.length-1;s++)if(r[s].equals(n))throw new M("found endpt/interior pt intersection at index "+s+" :pt "+n)}},{key:"checkInteriorIntersections",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],s=arguments[1],o=r.getCoordinates(),a=s.getCoordinates(),u=0;u<o.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(r,u,s,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],g=arguments[3];if(c===f&&h===g)return null;var d=c.getCoordinates()[h],p=c.getCoordinates()[h+1],v=f.getCoordinates()[g],y=f.getCoordinates()[g+1];if(this._li.computeIntersection(d,p,v,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,p)||this.hasInteriorIntersection(this._li,v,y)))throw new M("found non-noded intersection at "+d+"-"+p+" and "+v+"-"+y)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])}},{key:"hasInteriorIntersection",value:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1}},{key:"checkCollapse",value:function(t,n,i){if(t.equals(i))throw new M("found non-noded collapse at "+e.fact.createLineString([t,n,i]))}}],[{key:"constructor_",value:function(){this._li=new ke,this._segStrings=null;var t=arguments[0];this._segStrings=t}}]),e}();Jn.fact=new re;var Qn=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"intersectsScaled",value:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),s=Math.max(t.y,e.y),o=this._maxx<n||this._minx>i||this._maxy<r||this._miny>s;if(o)return!1;var a=this.intersectsToleranceSquare(t,e);return P.isTrue(!(o&&a),"Found bad envelope test"),a}},{key:"initCorners",value:function(t){var e=.5;this._minx=t.x-e,this._maxx=t.x+e,this._miny=t.y-e,this._maxy=t.y+e,this._corner[0]=new U(this._maxx,this._maxy),this._corner[1]=new U(this._minx,this._maxy),this._corner[2]=new U(this._minx,this._miny),this._corner[3]=new U(this._maxx,this._miny)}},{key:"intersects",value:function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(t){return Math.round(t*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)}},{key:"getSafeEnvelope",value:function(){if(null===this._safeEnv){var t=e.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Y(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))}},{key:"intersectsToleranceSquare",value:function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&i||t.equals(this._pt)||e.equals(this._pt)))))}},{key:"addSnappedNode",value:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new m("Scale factor must be non-zero");1!==e&&(this._pt=new U(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new U,this._p1Scaled=new U),this.initCorners(this._pt)}}]),e}();Qn.SAFE_ENV_EXPANSION_FACTOR=.75;var $n=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"select",value:function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new fn}}]),e}(),ti=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"snap",value:function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2],o=i.getSafeEnvelope(),a=new ei(i,r,s);return this._index.query(o,new(function(){function e(){t(this,e)}return n(e,[{key:"interfaces_",get:function(){return[Qe]}},{key:"visitItem",value:function(t){t.select(o,a)}}]),e}())),a.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var t=arguments[0];this._index=t}}]),e}(),ei=function(e){i(o,e);var s=c(o);function o(){var e;return t(this,o),e=s.call(this),o.constructor_.apply(l(e),arguments),e}return n(o,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof dn))return h(r(o.prototype),"select",this).apply(this,arguments);var t=arguments[1],e=arguments[0].getContext();if(this._parentEdge===e&&(t===this._hotPixelVertexIndex||t+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(e,t)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=n}}]),o}($n);ti.HotPixelSnapAction=ei;var ni=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"processIntersections",value:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],s=t.getCoordinates()[e+1],o=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,s,o,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Gn]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new gt}}]),e}(),ii=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"checkCorrectness",value:function(t){var e=hn.getNodedSubstrings(t),n=new Jn(e);try{n.checkValid()}catch(t){if(!(t instanceof y))throw t;t.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return hn.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)}},{key:"findInteriorIntersections",value:function(t,e){var n=new ni(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(nt(arguments[0],V))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof hn)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var s=new Qn(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(s,n,r)&&n.addIntersection(i[r],r)}}},{key:"computeNodes",value:function(t){this._nodedSegStrings=t,this._noder=new mn,this._pointSnapper=new ti(this._noder.getIndex()),this.snapRound(t,this._li)}},{key:"computeIntersectionSnaps",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new Qn(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}}},{key:"interfaces_",get:function(){return[vn]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new ke,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()}}]),e}(),ri=function(){function e(){t(this,e),e.constructor_.apply(this,arguments)}return n(e,[{key:"bufferFixedPrecision",value:function(t){var e=new Kn(new ii(new ee(1)),t.getScale()),n=new Wn(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(0===arguments.length){for(var t=e.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof ht))throw t;this._saveException=t}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=e.precisionScaleFactor(this._argGeom,this._distance,n),r=new ee(i);this.bufferFixedPrecision(r)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===ee.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(t){this._bufParams.setQuadrantSegments(t)}},{key:"bufferOriginalPrecision",value:function(){try{var t=new Wn(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof M))throw t;this._saveException=t}}},{key:"getResultGeometry",value:function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(t){this._bufParams.setEndCapStyle(t)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new v,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}}},{key:"bufferOp",value:function(){if(2===arguments.length){var t=arguments[1];return new e(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof z&&"number"==typeof arguments[1]){var n=arguments[1],i=arguments[2],r=new e(arguments[0]);return r.setQuadrantSegments(i),r.getResultGeometry(n)}if(arguments[2]instanceof v&&arguments[0]instanceof z&&"number"==typeof arguments[1]){var s=arguments[1];return new e(arguments[0],arguments[2]).getResultGeometry(s)}}else if(4===arguments.length){var o=arguments[1],a=arguments[2],u=arguments[3],l=new e(arguments[0]);return l.setQuadrantSegments(a),l.setEndCapStyle(u),l.getResultGeometry(o)}}},{key:"precisionScaleFactor",value:function(t,e,n){var i=t.getEnvelopeInternal(),r=mt.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),s=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,s)}}]),e}();ri.CAP_ROUND=v.CAP_ROUND,ri.CAP_BUTT=v.CAP_FLAT,ri.CAP_FLAT=v.CAP_FLAT,ri.CAP_SQUARE=v.CAP_SQUARE,ri.MAX_PRECISION_DIGITS=12;var si=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],oi=function(){function e(n){t(this,e),this.geometryFactory=n||new re}return n(e,[{key:"read",value:function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!ai[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==si.indexOf(n)?ai[n].call(this,e.coordinates):"GeometryCollection"===n?ai[n].call(this,e.geometries):ai[n].call(this,e)}},{key:"write",value:function(t){var e=t.getGeometryType();if(!ui[e])throw new Error("Geometry is not supported");return ui[e].call(this,t)}}]),e}(),ai={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!ai[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=ai.bbox.call(this,t.bbox)),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.call(this,t.bbox)),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(a(U,f(i)))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new U(t[0],t[1]),new U(t[2],t[1]),new U(t[2],t[3]),new U(t[0],t[3]),new U(t[0],t[1])])},Point:function(t){var e=a(U,f(t));return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ai.Point.call(this,t[n]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=ai.coordinates.call(this,t);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ai.LineString.call(this,t[n]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=ai.coordinates.call(this,t[0]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var s=t[r],o=ai.coordinates.call(this,s),a=this.geometryFactory.createLinearRing(o);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(ai.Polygon.call(this,i))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},ui={coordinate:function(t){var e=[t.x,t.y];return t.z&&e.push(t.z),t.m&&e.push(t.m),e},Point:function(t){return{type:"Point",coordinates:ui.coordinate.call(this,t.getCoordinate())}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=ui.Point.call(this,i);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(ui.coordinate.call(this,r))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=ui.LineString.call(this,i);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=ui.LineString.call(this,t._shell);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],s=ui.LineString.call(this,r);e.push(s.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=ui.Polygon.call(this,i);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(ui[r].call(this,i))}return{type:"GeometryCollection",geometries:e}}};return{BufferOp:ri,GeoJSONReader:function(){function e(n){t(this,e),this.parser=new oi(n||new re)}return n(e,[{key:"read",value:function(t){return this.parser.read(t)}}]),e}(),GeoJSONWriter:function(){function e(){t(this,e),this.parser=new oi(this.geometryFactory)}return n(e,[{key:"write",value:function(t){return this.parser.write(t)}}]),e}()}}()},45750:(t,e,n)=>{"use strict";n.d(e,{B:()=>s});var i=n(20299),r=n(28697);function s(t,e={}){return(0,r.OQ)(t,((t,n)=>{const r=n.geometry.coordinates;return t+(0,i.I)(r[0],r[1],e)}),0)}},4803:(t,e,n)=>{"use strict";n.d(e,{F:()=>o});var i=n(73610),r=n(35008),s=n(74739);function o(t,e,n,o,u={}){const l=u.steps||64,c=a(n),h=a(o),f=Array.isArray(t)||"Feature"!==t.type?{}:t.properties;if(c===h)return(0,s.wi)((0,i.n)(t,e,u).geometry.coordinates[0],f);const g=c,d=c<h?h:h+360;let p=g;const v=[];let y=0;const m=(d-g)/l;for(;p<=d;)v.push((0,r.j)(t,e,p,u).geometry.coordinates),y++,p=g+y*m;return(0,s.wi)(v,f)}function a(t){let e=t%360;return e<0&&(e+=360),e}},40712:(t,e,n)=>{"use strict";n.d(e,{W:()=>c});var i=n(45750),r=n(3270),s=n(20299),o=n(35008),a=n(74739);function u(t,e,n,i){if(i=i||{},!(0,a.Gv)(i))throw new Error("options is invalid");var u,l=[];if("Feature"===t.type)u=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");u=t.coordinates}for(var c,h,f,g=u.length,d=0,p=0;p<u.length&&!(e>=d&&p===u.length-1);p++){if(d>e&&0===l.length){if(!(c=e-d))return l.push(u[p]),(0,a.wi)(l);h=(0,r.d)(u[p],u[p-1])-180,f=(0,o.j)(u[p],c,h,i),l.push(f.geometry.coordinates)}if(d>=n)return(c=n-d)?(h=(0,r.d)(u[p],u[p-1])-180,f=(0,o.j)(u[p],c,h,i),l.push(f.geometry.coordinates),(0,a.wi)(l)):(l.push(u[p]),(0,a.wi)(l));if(d>=e&&l.push(u[p]),p===u.length-1)return(0,a.wi)(l);d+=(0,s.I)(u[p],u[p+1],i)}if(d<e&&u.length===g)throw new Error("Start position is beyond line");var v=u[u.length-1];return(0,a.wi)([v,v])}var l=n(28697);function c(t,e,n){if(n=n||{},!(0,a.Gv)(n))throw new Error("options is invalid");var r=n.units,s=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return(0,l.iw)(t,(function(t){s&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var s=(0,i.B)(t,{units:n});if(s<=e)return r(t);var o=s/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++)r(u(t,e*a,e*(a+1),{units:n}))}(t,e,r,(function(t){o.push(t)}))})),(0,a.Lr)(o)}},88874:(t,e,n)=>{"use strict";n.d(e,{u:()=>u});var i=n(28697),r=n(56608),s=n(74739);function o(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function a(t,e){return t[0]*e[1]-e[0]*t[1]}function u(t,e,n){if(n=n||{},!(0,s.Gv)(n))throw new Error("options is invalid");var o=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var a=(0,r.Pw)(t),u=t.properties;switch(a){case"LineString":return l(t,e,o);case"MultiLineString":var c=[];return(0,i.iw)(t,(function(t){c.push(l(t,e,o).geometry.coordinates)})),(0,s.NU)(c,u);default:throw new Error("geometry "+a+" is not supported")}}function l(t,e,n){var i=[],u=(0,s.vl)(e,n),l=(0,r.$R)(t),c=[];return l.forEach((function(t,e){if(e!==l.length-1){var n=(g=t,d=l[e+1],p=u,v=Math.sqrt((g[0]-d[0])*(g[0]-d[0])+(g[1]-d[1])*(g[1]-d[1])),y=g[0]+p*(d[1]-g[1])/v,m=d[0]+p*(d[1]-g[1])/v,[[y,g[1]+p*(g[0]-d[0])/v],[m,d[1]+p*(g[0]-d[0])/v]]);if(i.push(n),e>0){var r=i[e-1],s=!function(t,e){return 0===a(o(t),o(e))}(h=n,f=r)&&function(t,e){var n,i,r=t[0],s=o(t),u=e[0],l=o(e),c=a(s,l);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(r,function(t,e){return[t*e[0],t*e[1]]}(a((i=r,[(n=u)[0]-i[0],n[1]-i[1]]),l)/c,s))}(h,f);!1!==s&&(r[1]=s,n[0]=s),c.push(r[0]),e===l.length-2&&(c.push(n[0]),c.push(n[1]))}2===l.length&&(c.push(n[0]),c.push(n[1]))}var h,f,g,d,p,v,y,m})),(0,s.wi)(c,t.properties)}},28697:(t,e,n)=>{"use strict";n.d(e,{Fh:()=>r,OQ:()=>l,iw:()=>u,jE:()=>a,kX:()=>o,us:()=>s});var i=n(74739);function r(t,e,n){if(null!==t)for(var i,s,o,a,u,l,c,h,f=0,g=0,d=t.type,p="FeatureCollection"===d,v="Feature"===d,y=p?t.features.length:1,m=0;m<y;m++){u=(h=!!(c=p?t.features[m].geometry:v?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var _=0;_<u;_++){var k=0,x=0;if(null!==(a=h?c.geometries[_]:c)){l=a.coordinates;var E=a.type;switch(f=!n||"Polygon"!==E&&"MultiPolygon"!==E?0:1,E){case null:break;case"Point":if(!1===e(l,g,m,k,x))return!1;g++,k++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===e(l[i],g,m,k,x))return!1;g++,"MultiPoint"===E&&k++}"LineString"===E&&k++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(s=0;s<l[i].length-f;s++){if(!1===e(l[i][s],g,m,k,x))return!1;g++}"MultiLineString"===E&&k++,"Polygon"===E&&x++}"Polygon"===E&&k++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(x=0,s=0;s<l[i].length;s++){for(o=0;o<l[i][s].length-f;o++){if(!1===e(l[i][s][o],g,m,k,x))return!1;g++}x++}k++}break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)if(!1===r(a.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function o(t,e){var n,i,r,s,o,a,u,l,c,h,f=0,g="FeatureCollection"===t.type,d="Feature"===t.type,p=g?t.features.length:1;for(n=0;n<p;n++){for(a=g?t.features[n].geometry:d?t.geometry:t,l=g?t.features[n].properties:d?t.properties:{},c=g?t.features[n].bbox:d?t.bbox:void 0,h=g?t.features[n].id:d?t.id:void 0,o=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<o;r++)if(null!==(s=u?a.geometries[r]:a))switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(s,f,l,c,h))return!1;break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===e(s.geometries[i],f,l,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,l,c,h))return!1;f++}}function a(t,e,n){var i=n;return o(t,(function(t,r,s,o,a){i=0===r&&void 0===n?t:e(i,t,r,s,o,a)})),i}function u(t,e){o(t,(function(t,n,r,s,o){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e((0,i.N4)(t,r,{bbox:s,id:o}),n,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<t.coordinates.length;l++){var c={type:a,coordinates:t.coordinates[l]};if(!1===e((0,i.N4)(c,r),n,l))return!1}}))}function l(t,e,n){var s=n,o=!1;return function(t,e){u(t,(function(t,n,s){var o=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var u,l=0,c=0,h=0;return!1!==r(t,(function(r,a,f,g,d){if(void 0===u||n>l||g>c||d>h)return u=r,l=n,c=g,h=d,void(o=0);var p=(0,i.wi)([u,r],t.properties);if(!1===e(p,n,s,d,o))return!1;o++,u=r}))&&void 0}}}))}(t,(function(t,i,r,a,u){s=!1===o&&void 0===n?t:e(s,t,i,r,a,u),o=!0})),s}},44582:(t,e)=>{"use strict";function n(t,e){return void 0===e&&(e=Object),e&&"function"==typeof e.freeze?e.freeze(t):t}var i=n({HTML:"text/html",isHTML:function(t){return t===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});e.assign=function(t,e){if(null===t||"object"!=typeof t)throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},e.find=function(t,e,n){if(void 0===n&&(n=Array.prototype),t&&"function"==typeof n.find)return n.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if(e.call(void 0,r,i,t))return r}},e.freeze=n,e.MIME_TYPE=i,e.NAMESPACE=r},15752:(t,e,n)=>{var i=n(44582),r=n(84722),s=(n(56559),n(64466)),o=r.DOMImplementation,a=(i.NAMESPACE,s.ParseError);s.XMLReader;function u(){this.cdata=!1}function l(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function c(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function h(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function f(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}u.prototype={startDocument:function(){this.doc=(new o).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,s=r.createElementNS(t,n||e),o=i.length;f(this,s),this.currentElement=s,this.locator&&l(this.locator,s);for(var a=0;a<o;a++){t=i.getURI(a);var u=i.getValue(a),c=(n=i.getQName(a),r.createAttributeNS(t,n));this.locator&&l(i.getLocator(a),c),c.value=c.nodeValue=u,s.setAttributeNode(c)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&l(this.locator,n),f(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=h.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(t);else i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&l(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=h.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&l(this.locator,i),f(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&l(this.locator,r),f(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]\t"+t,c(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,c(this.locator))},fatalError:function(t){throw new a(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){u.prototype[t]=function(){return null}}))},84722:(t,e,n)=>{var i=n(44582),r=i.find,s=i.NAMESPACE;function o(t){return""!==t}function a(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function u(t){if(!t)return[];var e=function(t){return t?t.split(/[\t\n\f\r ]+/).filter(o):[]}(t);return Object.keys(e.reduce(a,{}))}function l(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function c(t,e){var n=t.prototype;if(!(n instanceof e)){function i(){}i.prototype=e.prototype,l(n,i=new i),t.prototype=n=i}n.constructor!=t&&("function"!=typeof t&&console.error("unknown Class:"+t),n.constructor=t)}var h={},f=h.ELEMENT_NODE=1,g=h.ATTRIBUTE_NODE=2,d=h.TEXT_NODE=3,p=h.CDATA_SECTION_NODE=4,v=h.ENTITY_REFERENCE_NODE=5,y=h.ENTITY_NODE=6,m=h.PROCESSING_INSTRUCTION_NODE=7,_=h.COMMENT_NODE=8,k=h.DOCUMENT_NODE=9,x=h.DOCUMENT_TYPE_NODE=10,E=h.DOCUMENT_FRAGMENT_NODE=11,N=h.NOTATION_NODE=12,b={},I={},w=(b.INDEX_SIZE_ERR=(I[1]="Index size error",1),b.DOMSTRING_SIZE_ERR=(I[2]="DOMString size error",2),b.HIERARCHY_REQUEST_ERR=(I[3]="Hierarchy request error",3)),S=(b.WRONG_DOCUMENT_ERR=(I[4]="Wrong document",4),b.INVALID_CHARACTER_ERR=(I[5]="Invalid character",5),b.NO_DATA_ALLOWED_ERR=(I[6]="No data allowed",6),b.NO_MODIFICATION_ALLOWED_ERR=(I[7]="No modification allowed",7),b.NOT_FOUND_ERR=(I[8]="Not found",8)),T=(b.NOT_SUPPORTED_ERR=(I[9]="Not supported",9),b.INUSE_ATTRIBUTE_ERR=(I[10]="Attribute in use",10));function L(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,I[t]),this.message=I[t],Error.captureStackTrace&&Error.captureStackTrace(this,L);return n.code=t,e&&(this.message=this.message+": "+e),n}function C(){}function R(t,e){this._node=t,this._refresh=e,O(this)}function O(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(mt(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var i=n.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];l(n,t),t._inc=e}}function A(){}function M(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function D(t,e,n,i){if(i?e[M(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&Y(r,t,i),function(t,e,n){t&&t._inc++,n.namespaceURI===s.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}(r,t,n))}}function P(t,e,n){var i=M(e,n);if(!(i>=0))throw new L(S,new Error(t.tagName+"@"+n));for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var s=t.ownerDocument;s&&(Y(s,t,n),n.ownerElement=null)}}function q(){}function F(){}function G(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function U(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(U(t,e))return!0}while(t=t.nextSibling)}function B(){this.ownerDocument=this}function Y(t,e,n,i){t&&t._inc++,n.namespaceURI===s.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function z(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,s=0;r;)i[s++]=r,r=r.nextSibling;i.length=s,delete i[i.length]}}}function X(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,z(t.ownerDocument,t),e}function V(t){return t&&t.nodeType===F.DOCUMENT_TYPE_NODE}function H(t){return t&&t.nodeType===F.ELEMENT_NODE}function j(t){return t&&t.nodeType===F.TEXT_NODE}function Z(t,e){var n=t.childNodes||[];if(r(n,H)||V(e))return!1;var i=r(n,V);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function W(t,e){var n=t.childNodes||[];if(r(n,(function(t){return H(t)&&t!==e})))return!1;var i=r(n,V);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function K(t,e,n){var i=t.childNodes||[],s=e.childNodes||[];if(e.nodeType===F.DOCUMENT_FRAGMENT_NODE){var o=s.filter(H);if(o.length>1||r(s,j))throw new L(w,"More than one element or text in fragment");if(1===o.length&&!Z(t,n))throw new L(w,"Element in fragment can not be inserted before doctype")}if(H(e)&&!Z(t,n))throw new L(w,"Only one element can be added and only after doctype");if(V(e)){if(r(i,V))throw new L(w,"Only one doctype is allowed");var a=r(i,H);if(n&&i.indexOf(a)<i.indexOf(n))throw new L(w,"Doctype can only be inserted before an element");if(!n&&a)throw new L(w,"Doctype can not be appended since element is present")}}function J(t,e,n){var i=t.childNodes||[],s=e.childNodes||[];if(e.nodeType===F.DOCUMENT_FRAGMENT_NODE){var o=s.filter(H);if(o.length>1||r(s,j))throw new L(w,"More than one element or text in fragment");if(1===o.length&&!W(t,n))throw new L(w,"Element in fragment can not be inserted before doctype")}if(H(e)&&!W(t,n))throw new L(w,"Only one element can be added and only after doctype");if(V(e)){if(r(i,(function(t){return V(t)&&t!==n})))throw new L(w,"Only one doctype is allowed");var a=r(i,H);if(n&&i.indexOf(a)<i.indexOf(n))throw new L(w,"Doctype can only be inserted before an element")}}function Q(t,e,n,i){(function(t,e,n){if(!function(t){return t&&(t.nodeType===F.DOCUMENT_NODE||t.nodeType===F.DOCUMENT_FRAGMENT_NODE||t.nodeType===F.ELEMENT_NODE)}(t))throw new L(w,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new L(S,"child not in parent");if(!function(t){return t&&(H(t)||j(t)||V(t)||t.nodeType===F.DOCUMENT_FRAGMENT_NODE||t.nodeType===F.COMMENT_NODE||t.nodeType===F.PROCESSING_INSTRUCTION_NODE)}(e)||V(e)&&t.nodeType!==F.DOCUMENT_NODE)throw new L(w,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)})(t,e,n),t.nodeType===F.DOCUMENT_NODE&&(i||K)(t,e,n);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===E){var s=e.firstChild;if(null==s)return e;var o=e.lastChild}else s=o=e;var a=n?n.previousSibling:t.lastChild;s.previousSibling=a,o.nextSibling=n,a?a.nextSibling=s:t.firstChild=s,null==n?t.lastChild=o:n.previousSibling=o;do{s.parentNode=t}while(s!==o&&(s=s.nextSibling));return z(t.ownerDocument||t,t),e.nodeType==E&&(e.firstChild=e.lastChild=null),e}function $(){this._nsMap={}}function tt(){}function et(){}function nt(){}function it(){}function rt(){}function st(){}function ot(){}function at(){}function ut(){}function lt(){}function ct(){}function ht(){}function ft(t,e){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,s=i.namespaceURI;if(s&&null==r&&null==(r=i.lookupPrefix(s)))var o=[{namespace:s,prefix:null}];return pt(this,n,t,e,o),n.join("")}function gt(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r)return!1;if("xml"===i&&r===s.XML||r===s.XMLNS)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix===i)return a.namespace!==r}return!0}function dt(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,G),'"')}function pt(t,e,n,i,r){if(r||(r=[]),i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case f:var o=t.attributes,a=o.length,u=t.firstChild,l=t.tagName,c=l;if(!(n=s.isHTML(t.namespaceURI)||n)&&!t.prefix&&t.namespaceURI){for(var h,y=0;y<o.length;y++)if("xmlns"===o.item(y).name){h=o.item(y).value;break}if(!h)for(var N=r.length-1;N>=0;N--)if(""===(b=r[N]).prefix&&b.namespace===t.namespaceURI){h=b.namespace;break}if(h!==t.namespaceURI)for(N=r.length-1;N>=0;N--){var b;if((b=r[N]).namespace===t.namespaceURI){b.prefix&&(c=b.prefix+":"+l);break}}}e.push("<",c);for(var I=0;I<a;I++)"xmlns"==(w=o.item(I)).prefix?r.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&r.push({prefix:"",namespace:w.value});for(I=0;I<a;I++){var w,S,T;gt(w=o.item(I),0,r)&&(dt(e,(S=w.prefix||"")?"xmlns:"+S:"xmlns",T=w.namespaceURI),r.push({prefix:S,namespace:T})),pt(w,e,n,i,r)}if(l===c&&gt(t,0,r)&&(dt(e,(S=t.prefix||"")?"xmlns:"+S:"xmlns",T=t.namespaceURI),r.push({prefix:S,namespace:T})),u||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),n&&/^script$/i.test(l))for(;u;)u.data?e.push(u.data):pt(u,e,n,i,r.slice()),u=u.nextSibling;else for(;u;)pt(u,e,n,i,r.slice()),u=u.nextSibling;e.push("</",c,">")}else e.push("/>");return;case k:case E:for(u=t.firstChild;u;)pt(u,e,n,i,r.slice()),u=u.nextSibling;return;case g:return dt(e,t.name,t.value);case d:return e.push(t.data.replace(/[<&>]/g,G));case p:return e.push("<![CDATA[",t.data,"]]>");case _:return e.push("\x3c!--",t.data,"--\x3e");case x:var L=t.publicId,C=t.systemId;if(e.push("<!DOCTYPE ",t.name),L)e.push(" PUBLIC ",L),C&&"."!=C&&e.push(" ",C),e.push(">");else if(C&&"."!=C)e.push(" SYSTEM ",C,">");else{var R=t.internalSubset;R&&e.push(" [",R,"]"),e.push(">")}return;case m:return e.push("<?",t.target," ",t.data,"?>");case v:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function vt(t,e,n){var i;switch(e.nodeType){case f:(i=e.cloneNode(!1)).ownerDocument=t;case E:break;case g:n=!0}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(vt(t,r,n)),r=r.nextSibling;return i}function yt(t,e,n){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];"object"!=typeof s&&s!=i[r]&&(i[r]=s)}switch(e.childNodes&&(i.childNodes=new C),i.ownerDocument=t,i.nodeType){case f:var o=e.attributes,a=i.attributes=new A,u=o.length;a._ownerElement=i;for(var l=0;l<u;l++)i.setAttributeNode(yt(t,o.item(l),!0));break;case g:n=!0}if(n)for(var c=e.firstChild;c;)i.appendChild(yt(t,c,n)),c=c.nextSibling;return i}function mt(t,e,n){t[e]=n}b.INVALID_STATE_ERR=(I[11]="Invalid state",11),b.SYNTAX_ERR=(I[12]="Syntax error",12),b.INVALID_MODIFICATION_ERR=(I[13]="Invalid modification",13),b.NAMESPACE_ERR=(I[14]="Invalid namespace",14),b.INVALID_ACCESS_ERR=(I[15]="Invalid access",15),L.prototype=Error.prototype,l(b,L),C.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)pt(this[i],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}},R.prototype.item=function(t){return O(this),this[t]||null},c(R,C),A.prototype={length:0,item:C.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new L(T);var n=this.getNamedItem(t.nodeName);return D(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new L(T);return e=this.getNamedItemNS(t.namespaceURI,t.localName),D(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return P(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return P(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}},q.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new B;if(i.implementation=this,i.childNodes=new C,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new st;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}},F.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Q(this,t,e)},replaceChild:function(t,e){Q(this,t,e,J),e&&this.removeChild(e)},removeChild:function(t){return X(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return yt(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==d&&t.nodeType==d?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===t)return i;e=e.nodeType==g?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==g?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},l(h,F),l(h,F.prototype),B.prototype={nodeName:"#document",nodeType:k,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==E){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return Q(this,t,e),t.ownerDocument=this,null===this.documentElement&&t.nodeType===f&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),X(this,t)},replaceChild:function(t,e){Q(this,t,e,J),t.ownerDocument=this,e&&this.removeChild(e),H(t)&&(this.documentElement=t)},importNode:function(t,e){return vt(this,t,e)},getElementById:function(t){var e=null;return U(this.documentElement,(function(n){if(n.nodeType==f&&n.getAttribute("id")==t)return e=n,!0})),e},getElementsByClassName:function(t){var e=u(t);return new R(this,(function(n){var i=[];return e.length>0&&U(n.documentElement,(function(r){if(r!==n&&r.nodeType===f){var s=r.getAttribute("class");if(s){var o=t===s;if(!o){var a=u(s);o=e.every((l=a,function(t){return l&&-1!==l.indexOf(t)}))}o&&i.push(r)}}var l})),i}))},createElement:function(t){var e=new $;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new C,(e.attributes=new A)._ownerElement=e,e},createDocumentFragment:function(){var t=new lt;return t.ownerDocument=this,t.childNodes=new C,t},createTextNode:function(t){var e=new nt;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new it;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new rt;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new ct;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new tt;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new ut;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new $,i=e.split(":"),r=n.attributes=new A;return n.childNodes=new C,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new tt,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}},c(B,F),$.prototype={nodeType:f,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===E?this.insertBefore(t,null):function(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,z(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new R(this,(function(e){var n=[];return U(e,(function(i){i===e||i.nodeType!=f||"*"!==t&&i.tagName!=t||n.push(i)})),n}))},getElementsByTagNameNS:function(t,e){return new R(this,(function(n){var i=[];return U(n,(function(r){r===n||r.nodeType!==f||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||i.push(r)})),i}))}},B.prototype.getElementsByTagName=$.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=$.prototype.getElementsByTagNameNS,c($,F),tt.prototype.nodeType=g,c(tt,F),et.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(I[w])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},c(et,F),nt.prototype={nodeName:"#text",nodeType:d,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},c(nt,et),it.prototype={nodeName:"#comment",nodeType:_},c(it,et),rt.prototype={nodeName:"#cdata-section",nodeType:p},c(rt,et),st.prototype.nodeType=x,c(st,F),ot.prototype.nodeType=N,c(ot,F),at.prototype.nodeType=y,c(at,F),ut.prototype.nodeType=v,c(ut,F),lt.prototype.nodeName="#document-fragment",lt.prototype.nodeType=E,c(lt,F),ct.prototype.nodeType=m,c(ct,F),ht.prototype.serializeToString=function(t,e,n){return ft.call(t,e,n)},F.prototype.toString=ft;try{if(Object.defineProperty){function _t(t){switch(t.nodeType){case f:case E:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(_t(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}Object.defineProperty(R.prototype,"length",{get:function(){return O(this),this.$$length}}),Object.defineProperty(F.prototype,"textContent",{get:function(){return _t(this)},set:function(t){switch(this.nodeType){case f:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),mt=function(t,e,n){t["$$"+e]=n}}}catch(kt){}e.DocumentType=st,e.DOMException=L,e.DOMImplementation=q,e.Element=$,e.Node=F,e.NodeList=C,e.XMLSerializer=ht},56559:(t,e,n)=>{"use strict";var i=n(44582).freeze;e.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=i({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES},28978:(t,e,n)=>{var i=n(84722);i.DOMImplementation,e.e=i.XMLSerializer,n(15752)},64466:(t,e,n)=>{var i=n(44582).NAMESPACE,r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,s=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+r.source+s.source+"*(?::"+r.source+s.source+"*)?$");function a(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function u(){}function l(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function c(t,e,n,r,s,o){function a(t,e,i){n.attributeNames.hasOwnProperty(t)&&o.fatalError("Attribute "+t+" redefined"),n.addValue(t,e.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),i)}for(var u,l=++e,c=0;;){var h=t.charAt(l);switch(h){case"=":if(1===c)u=t.slice(e,l),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(o.warning('attribute value must after "="'),u=t.slice(e,l)),e=l+1,!((l=t.indexOf(h,e))>0))throw new Error("attribute value no end '"+h+"' match");a(u,f=t.slice(e,l),e-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');a(u,f=t.slice(e,l),e),o.warning('attribute "'+u+'" missed start quot('+h+")!!"),e=l+1,c=5}break;case"/":switch(c){case 0:n.setTagName(t.slice(e,l));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==c&&n.setTagName(t.slice(e,l)),l;case">":switch(c){case 0:n.setTagName(t.slice(e,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(f=t.slice(e,l)).slice(-1)&&(n.closed=!0,f=f.slice(0,-1));case 2:2===c&&(f=u),4==c?(o.warning('attribute "'+f+'" missed quot(")!'),a(u,f,e)):(i.isHTML(r[""])&&f.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),a(f,f,e));break;case 3:throw new Error("attribute value missed!!")}return l;case"":h=" ";default:if(h<=" ")switch(c){case 0:n.setTagName(t.slice(e,l)),c=6;break;case 1:u=t.slice(e,l),c=2;break;case 4:var f=t.slice(e,l);o.warning('attribute "'+f+'" missed quot(")!!'),a(u,f,e);case 5:c=6}else switch(c){case 2:n.tagName,i.isHTML(r[""])&&u.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),a(u,u,e),e=l,c=1;break;case 5:o.warning('attribute space is required"'+u+'"!!');case 6:c=1,e=l;break;case 3:c=4,e=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function h(t,e,n){for(var r=t.tagName,s=null,o=t.length;o--;){var a=t[o],u=a.qName,l=a.value;if((g=u.indexOf(":"))>0)var c=a.prefix=u.slice(0,g),h=u.slice(g+1),f="xmlns"===c&&h;else h=u,c=null,f="xmlns"===u&&"";a.localName=h,!1!==f&&(null==s&&(s={},d(n,n={})),n[f]=s[f]=l,a.uri=i.XMLNS,e.startPrefixMapping(f,l))}for(o=t.length;o--;)(c=(a=t[o]).prefix)&&("xml"===c&&(a.uri=i.XML),"xmlns"!==c&&(a.uri=n[c||""]));var g;(g=r.indexOf(":"))>0?(c=t.prefix=r.slice(0,g),h=t.localName=r.slice(g+1)):(c=null,h=t.localName=r);var p=t.uri=n[c||""];if(e.startElement(p,h,r,t),!t.closed)return t.currentNSMap=n,t.localNSMap=s,!0;if(e.endElement(p,h,r),s)for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&e.endPrefixMapping(c)}function f(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(r.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,i),r.characters(o,0,o.length),s)}return e+1}function g(t,e,n,i){var r=i[n];return null==r&&((r=t.lastIndexOf("</"+n+">"))<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function d(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function p(t,e,n,i){if("-"===t.charAt(e+2))return"-"===t.charAt(e+3)?(r=t.indexOf("--\x3e",e+4))>e?(n.comment(t,e+4,r-e-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==t.substr(e+3,6)){var r=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,r-e-9),n.endCDATA(),r+3}var s=function(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var a=s[1][0],u=!1,l=!1;o>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],l=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(l=s[3][0]));var c=s[o-1];return n.startDTD(a,u,l),n.endDTD(),c.index+c[0].length}return-1}function v(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function y(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,u.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),d(e,e={}),function(t,e,n,r,s){function o(t){var e=t.slice(1,-1);return Object.hasOwnProperty.call(n,e)?n[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(s.error("entity not found:"+t),t)}function u(e){if(e>b){var n=t.substring(b,e).replace(/&#?\w+;/g,o);x&&d(b),r.characters(n,0,e-b),b=e}}function d(e,n){for(;e>=_&&(n=k.exec(t));)m=n.index,_=m+n[0].length,x.lineNumber++;x.columnNumber=e-m+1}for(var m=0,_=0,k=/.*(?:\r\n?|\n)|.*$/g,x=r.locator,E=[{currentNSMap:e}],N={},b=0;;){try{var I=t.indexOf("<",b);if(I<0){if(!t.substr(b).match(/^\s*$/)){var w=r.doc,S=w.createTextNode(t.substr(b));w.appendChild(S),r.currentElement=S}return}switch(I>b&&u(I),t.charAt(I+1)){case"/":var T=t.indexOf(">",I+3),L=t.substring(I+2,T).replace(/[ \t\n\r]+$/g,""),C=E.pop();T<0?(L=t.substring(I+2).replace(/[\s<].*/,""),s.error("end tag name: "+L+" is not complete:"+C.tagName),T=I+1+L.length):L.match(/\s</)&&(L=L.replace(/[\s<].*/,""),s.error("end tag name: "+L+" maybe not complete"),T=I+1+L.length);var R=C.localNSMap,O=C.tagName==L;if(O||C.tagName&&C.tagName.toLowerCase()==L.toLowerCase()){if(r.endElement(C.uri,C.localName,L),R)for(var A in R)Object.prototype.hasOwnProperty.call(R,A)&&r.endPrefixMapping(A);O||s.fatalError("end tag name: "+L+" is not match the current start tagName:"+C.tagName)}else E.push(C);T++;break;case"?":x&&d(I),T=v(t,I,r);break;case"!":x&&d(I),T=p(t,I,r,s);break;default:x&&d(I);var M=new y,D=E[E.length-1].currentNSMap,P=(T=c(t,I,M,D,o,s),M.length);if(!M.closed&&g(t,T,M.tagName,N)&&(M.closed=!0,n.nbsp||s.warning("unclosed xml attribute")),x&&P){for(var q=l(x,{}),F=0;F<P;F++){var G=M[F];d(G.offset),G.locator=l(x,{})}r.locator=q,h(M,r,D)&&E.push(M),r.locator=x}else h(M,r,D)&&E.push(M);i.isHTML(M.uri)&&!M.closed?T=f(t,T,M.tagName,o,r):T++}}catch(t){if(t instanceof a)throw t;s.error("element parse error: "+t),T=-1}T>b?b=T:u(Math.max(I,b)+1)}}(t,e,n,r,this.errorHandler),r.endDocument()}},y.prototype={setTagName:function(t){if(!o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!o.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=u,e.ParseError=a},90689:(t,e,n)=>{"use strict";n.d(e,{IO:()=>h,LU:()=>u,MS:()=>i,Sv:()=>c,XZ:()=>a,YK:()=>o,j:()=>s,vd:()=>r,yE:()=>l});var i="-ms-",r="-moz-",s="-webkit-",o="comm",a="rule",u="decl",l="@import",c="@keyframes",h="@layer"},74332:(t,e,n)=>{"use strict";n.d(e,{MY:()=>s,r1:()=>r});var i=n(12838);function r(t){var e=(0,i.FK)(t);return function(n,i,r,s){for(var o="",a=0;a<e;a++)o+=t[a](n,i,r,s)||"";return o}}function s(t){return function(e){e.root||(e=e.return)&&t(e)}}},50775:(t,e,n)=>{"use strict";n.d(e,{wE:()=>o});var i=n(90689),r=n(12838),s=n(56659);function o(t){return(0,s.VF)(a("",null,null,null,[""],t=(0,s.c4)(t),0,[0],t))}function a(t,e,n,i,o,h,f,g,d){for(var p=0,v=0,y=f,m=0,_=0,k=0,x=1,E=1,N=1,b=0,I="",w=o,S=h,T=i,L=I;E;)switch(k=b,b=(0,s.K2)()){case 40:if(108!=k&&58==(0,r.wN)(L,y-1)){-1!=(0,r.K5)(L+=(0,r.HC)((0,s.Tb)(b),"&","&\f"),"&\f")&&(N=-1);break}case 34:case 39:case 91:L+=(0,s.Tb)(b);break;case 9:case 10:case 13:case 32:L+=(0,s.mw)(k);break;case 92:L+=(0,s.Nc)((0,s.OW)()-1,7);continue;case 47:switch((0,s.se)()){case 42:case 47:(0,r.BC)(l((0,s.nf)((0,s.K2)(),(0,s.OW)()),e,n),d);break;default:L+="/"}break;case 123*x:g[p++]=(0,r.b2)(L)*N;case 125*x:case 59:case 0:switch(b){case 0:case 125:E=0;case 59+v:-1==N&&(L=(0,r.HC)(L,/\f/g,"")),_>0&&(0,r.b2)(L)-y&&(0,r.BC)(_>32?c(L+";",i,n,y-1):c((0,r.HC)(L," ","")+";",i,n,y-2),d);break;case 59:L+=";";default:if((0,r.BC)(T=u(L,e,n,p,v,o,g,I,w=[],S=[],y),h),123===b)if(0===v)a(L,e,T,T,w,h,y,g,S);else switch(99===m&&110===(0,r.wN)(L,3)?100:m){case 100:case 108:case 109:case 115:a(t,T,T,i&&(0,r.BC)(u(t,T,T,0,0,o,g,I,o,w=[],y),S),o,S,y,g,i?w:S);break;default:a(L,T,T,T,[""],S,0,g,S)}}p=v=_=0,x=N=1,I=L="",y=f;break;case 58:y=1+(0,r.b2)(L),_=k;default:if(x<1)if(123==b)--x;else if(125==b&&0==x++&&125==(0,s.YL)())continue;switch(L+=(0,r.HT)(b),b*x){case 38:N=v>0?1:(L+="\f",-1);break;case 44:g[p++]=((0,r.b2)(L)-1)*N,N=1;break;case 64:45===(0,s.se)()&&(L+=(0,s.Tb)((0,s.K2)())),m=(0,s.se)(),v=y=(0,r.b2)(I=L+=(0,s.Cv)((0,s.OW)())),b++;break;case 45:45===k&&2==(0,r.b2)(L)&&(x=0)}}return h}function u(t,e,n,o,a,u,l,c,h,f,g){for(var d=a-1,p=0===a?u:[""],v=(0,r.FK)(p),y=0,m=0,_=0;y<o;++y)for(var k=0,x=(0,r.c1)(t,d+1,d=(0,r.tn)(m=l[y])),E=t;k<v;++k)(E=(0,r.Bq)(m>0?p[k]+" "+x:(0,r.HC)(x,/&\f/g,p[k])))&&(h[_++]=E);return(0,s.rH)(t,e,n,0===a?i.XZ:c,h,f,g)}function l(t,e,n){return(0,s.rH)(t,e,n,i.YK,(0,r.HT)((0,s.Tp)()),(0,r.c1)(t,2,-2),0)}function c(t,e,n,o){return(0,s.rH)(t,e,n,i.LU,(0,r.c1)(t,0,o),(0,r.c1)(t,o+1,-1),o)}},87899:(t,e,n)=>{"use strict";n.d(e,{A:()=>o,l:()=>s});var i=n(90689),r=n(12838);function s(t,e){for(var n="",i=(0,r.FK)(t),s=0;s<i;s++)n+=e(t[s],s,t,e)||"";return n}function o(t,e,n,o){switch(t.type){case i.IO:if(t.children.length)break;case i.yE:case i.LU:return t.return=t.return||t.value;case i.YK:return"";case i.Sv:return t.return=t.value+"{"+s(t.children,o)+"}";case i.XZ:t.value=t.props.join(",")}return(0,r.b2)(n=s(t.children,o))?t.return=t.value+"{"+n+"}":""}},56659:(t,e,n)=>{"use strict";n.d(e,{C:()=>h,Cv:()=>w,G1:()=>a,K2:()=>d,Nc:()=>N,OW:()=>v,Sh:()=>m,Tb:()=>x,Tp:()=>f,VF:()=>k,YL:()=>g,c4:()=>_,di:()=>y,mw:()=>E,nf:()=>I,rH:()=>c,se:()=>p});var i=n(12838),r=1,s=1,o=0,a=0,u=0,l="";function c(t,e,n,i,o,a,u){return{value:t,root:e,parent:n,type:i,props:o,children:a,line:r,column:s,length:u,return:""}}function h(t,e){return(0,i.kp)(c("",null,null,"",null,null,0),t,{length:-t.length},e)}function f(){return u}function g(){return u=a>0?(0,i.wN)(l,--a):0,s--,10===u&&(s=1,r--),u}function d(){return u=a<o?(0,i.wN)(l,a++):0,s++,10===u&&(s=1,r++),u}function p(){return(0,i.wN)(l,a)}function v(){return a}function y(t,e){return(0,i.c1)(l,t,e)}function m(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _(t){return r=s=1,o=(0,i.b2)(l=t),a=0,[]}function k(t){return l="",t}function x(t){return(0,i.Bq)(y(a-1,b(91===t?t+2:40===t?t+1:t)))}function E(t){for(;(u=p())&&u<33;)d();return m(t)>2||m(u)>3?"":" "}function N(t,e){for(;--e&&d()&&!(u<48||u>102||u>57&&u<65||u>70&&u<97););return y(t,v()+(e<6&&32==p()&&32==d()))}function b(t){for(;d();)switch(u){case t:return a;case 34:case 39:34!==t&&39!==t&&b(u);break;case 40:41===t&&b(t);break;case 92:d()}return a}function I(t,e){for(;d()&&t+u!==57&&(t+u!==84||47!==p()););return"/*"+y(e,a-1)+"*"+(0,i.HT)(47===t?t:d())}function w(t){for(;!m(p());)d();return y(t,a)}},12838:(t,e,n)=>{"use strict";n.d(e,{BC:()=>p,Bq:()=>a,FK:()=>d,HC:()=>l,HT:()=>r,K5:()=>c,YW:()=>u,b2:()=>g,c1:()=>f,kg:()=>v,kp:()=>s,tW:()=>o,tn:()=>i,wN:()=>h});var i=Math.abs,r=String.fromCharCode,s=Object.assign;function o(t,e){return 45^h(t,0)?(((e<<2^h(t,0))<<2^h(t,1))<<2^h(t,2))<<2^h(t,3):0}function a(t){return t.trim()}function u(t,e){return(t=e.exec(t))?t[0]:t}function l(t,e,n){return t.replace(e,n)}function c(t,e){return t.indexOf(e)}function h(t,e){return 0|t.charCodeAt(e)}function f(t,e,n){return t.slice(e,n)}function g(t){return t.length}function d(t){return t.length}function p(t,e){return e.push(t),t}function v(t,e){return t.map(e).join("")}},3377:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}n.d(e,{A:()=>o});var r=/^\s+/,s=/\s+$/;function o(t,e){if(e=e||{},(t=t||"")instanceof o)return t;if(!(this instanceof o))return new o(t,e);var n=function(t){var e,n,o,a={r:0,g:0,b:0},u=1,l=null,c=null,h=null,f=!1,g=!1;return"string"==typeof t&&(t=function(t){t=t.replace(r,"").replace(s,"").toLowerCase();var e,n=!1;if(N[t])t=N[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=P.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=P.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=P.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=P.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=P.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=P.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=P.hex8.exec(t))?{r:T(e[1]),g:T(e[2]),b:T(e[3]),a:O(e[4]),format:n?"name":"hex8"}:(e=P.hex6.exec(t))?{r:T(e[1]),g:T(e[2]),b:T(e[3]),format:n?"name":"hex"}:(e=P.hex4.exec(t))?{r:T(e[1]+""+e[1]),g:T(e[2]+""+e[2]),b:T(e[3]+""+e[3]),a:O(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=P.hex3.exec(t))&&{r:T(e[1]+""+e[1]),g:T(e[2]+""+e[2]),b:T(e[3]+""+e[3]),format:n?"name":"hex"}}(t)),"object"==i(t)&&(q(t.r)&&q(t.g)&&q(t.b)?(e=t.r,n=t.g,o=t.b,a={r:255*w(e,255),g:255*w(n,255),b:255*w(o,255)},f=!0,g="%"===String(t.r).substr(-1)?"prgb":"rgb"):q(t.h)&&q(t.s)&&q(t.v)?(l=C(t.s),c=C(t.v),a=function(t,e,n){t=6*w(t,360),e=w(e,100),n=w(n,100);var i=Math.floor(t),r=t-i,s=n*(1-e),o=n*(1-r*e),a=n*(1-(1-r)*e),u=i%6;return{r:255*[n,o,s,s,a,n][u],g:255*[a,n,n,o,s,s][u],b:255*[s,s,a,n,n,o][u]}}(t.h,l,c),f=!0,g="hsv"):q(t.h)&&q(t.s)&&q(t.l)&&(l=C(t.s),h=C(t.l),a=function(t,e,n){var i,r,s;function o(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=w(t,360),e=w(e,100),n=w(n,100),0===e)i=r=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;i=o(u,a,t+1/3),r=o(u,a,t),s=o(u,a,t-1/3)}return{r:255*i,g:255*r,b:255*s}}(t.h,l,h),f=!0,g="hsl"),t.hasOwnProperty("a")&&(u=t.a)),u=I(u),{ok:f,format:t.format||g,r:Math.min(255,Math.max(a.r,0)),g:Math.min(255,Math.max(a.g,0)),b:Math.min(255,Math.max(a.b,0)),a:u}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function a(t,e,n){t=w(t,255),e=w(e,255),n=w(n,255);var i,r,s=Math.max(t,e,n),o=Math.min(t,e,n),a=(s+o)/2;if(s==o)i=r=0;else{var u=s-o;switch(r=a>.5?u/(2-s-o):u/(s+o),s){case t:i=(e-n)/u+(e<n?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,l:a}}function u(t,e,n){t=w(t,255),e=w(e,255),n=w(n,255);var i,r,s=Math.max(t,e,n),o=Math.min(t,e,n),a=s,u=s-o;if(r=0===s?0:u/s,s==o)i=0;else{switch(s){case t:i=(e-n)/u+(e<n?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,v:a}}function l(t,e,n,i){var r=[L(Math.round(t).toString(16)),L(Math.round(e).toString(16)),L(Math.round(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function c(t,e,n,i){return[L(R(i)),L(Math.round(t).toString(16)),L(Math.round(e).toString(16)),L(Math.round(n).toString(16))].join("")}function h(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s-=e/100,n.s=S(n.s),o(n)}function f(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s+=e/100,n.s=S(n.s),o(n)}function g(t){return o(t).desaturate(100)}function d(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l+=e/100,n.l=S(n.l),o(n)}function p(t,e){e=0===e?0:e||10;var n=o(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),o(n)}function v(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l-=e/100,n.l=S(n.l),o(n)}function y(t,e){var n=o(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,o(n)}function m(t){var e=o(t).toHsl();return e.h=(e.h+180)%360,o(e)}function _(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=o(t).toHsl(),i=[o(t)],r=360/e,s=1;s<e;s++)i.push(o({h:(n.h+s*r)%360,s:n.s,l:n.l}));return i}function k(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+72)%360,s:e.s,l:e.l}),o({h:(n+216)%360,s:e.s,l:e.l})]}function x(t,e,n){e=e||6,n=n||30;var i=o(t).toHsl(),r=360/n,s=[o(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(o(i));return s}function E(t,e){e=e||6;for(var n=o(t).toHsv(),i=n.h,r=n.s,s=n.v,a=[],u=1/e;e--;)a.push(o({h:i,s:r,v:s})),s=(s+u)%1;return a}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,i=this.toRgb();return t=i.r/255,e=i.g/255,n=i.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=I(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=u(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return l(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,i,r){var s=[L(Math.round(t).toString(16)),L(Math.round(e).toString(16)),L(Math.round(n).toString(16)),L(R(i))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*w(this._r,255))+"%",g:Math.round(100*w(this._g,255))+"%",b:Math.round(100*w(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*w(this._r,255))+"%, "+Math.round(100*w(this._g,255))+"%, "+Math.round(100*w(this._b,255))+"%)":"rgba("+Math.round(100*w(this._r,255))+"%, "+Math.round(100*w(this._g,255))+"%, "+Math.round(100*w(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(b[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+c(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=o(t);n="#"+c(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(_,[3])},tetrad:function(){return this._applyCombination(_,[4])}},o.fromRatio=function(t,e){if("object"==i(t)){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:C(t[r]));t=n}return o(t,e)},o.equals=function(t,e){return!(!t||!e)&&o(t).toRgbString()==o(e).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},o.mix=function(t,e,n){n=0===n?0:n||50;var i=o(t).toRgb(),r=o(e).toRgb(),s=n/100;return o({r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a})},o.readability=function(t,e){var n=o(t),i=o(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)},o.isReadable=function(t,e,n){var i,r,s,a,u,l=o.readability(t,e);switch(r=!1,(s=n,"AA"!==(a=((s=s||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(u=(s.size||"small").toLowerCase())&&"large"!==u&&(u="small"),i={level:a,size:u}).level+i.size){case"AAsmall":case"AAAlarge":r=l>=4.5;break;case"AAlarge":r=l>=3;break;case"AAAsmall":r=l>=7}return r},o.mostReadable=function(t,e,n){var i,r,s,a,u=null,l=0;r=(n=n||{}).includeFallbackColors,s=n.level,a=n.size;for(var c=0;c<e.length;c++)(i=o.readability(t,e[c]))>l&&(l=i,u=o(e[c]));return o.isReadable(t,u,{level:s,size:a})||!r?u:(n.includeFallbackColors=!1,o.mostReadable(t,["#fff","#000"],n))};var N=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},b=o.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(N);function I(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function w(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function S(t){return Math.min(1,Math.max(0,t))}function T(t){return parseInt(t,16)}function L(t){return 1==t.length?"0"+t:""+t}function C(t){return t<=1&&(t=100*t+"%"),t}function R(t){return Math.round(255*parseFloat(t)).toString(16)}function O(t){return T(t)/255}var A,M,D,P=(M="[\\s|\\(]+("+(A="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+A+")[,|\\s]+("+A+")\\s*\\)?",D="[\\s|\\(]+("+A+")[,|\\s]+("+A+")[,|\\s]+("+A+")[,|\\s]+("+A+")\\s*\\)?",{CSS_UNIT:new RegExp(A),rgb:new RegExp("rgb"+M),rgba:new RegExp("rgba"+D),hsl:new RegExp("hsl"+M),hsla:new RegExp("hsla"+D),hsv:new RegExp("hsv"+M),hsva:new RegExp("hsva"+D),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function q(t){return!!P.CSS_UNIT.exec(t)}},44262:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});class i{constructor(t=[],e=r){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:n}=this,i=e[t];for(;t>0;){const r=t-1>>1,s=e[r];if(n(i,s)>=0)break;e[t]=s,t=r}e[t]=i}_down(t){const{data:e,compare:n}=this,i=this.length>>1,r=e[t];for(;t<i;){let i=1+(t<<1),s=e[i];const o=i+1;if(o<this.length&&n(e[o],s)<0&&(i=o,s=e[o]),n(s,r)>=0)break;e[t]=s,t=i}e[t]=r}}function r(t,e){return t<e?-1:t>e?1:0}},51796:(t,e,n)=>{"use strict";function i(t){return t}function r(t,e){return"string"==typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return s(t,e)}))}:s(t,e)}function s(t,e){var n=e.id,r=e.bbox,s=null==e.properties?{}:e.properties,o=function(t,e){var n=function(t){if(null==t)return i;var e,n,r=t.scale[0],s=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,i){i||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*s+a;u<l;)c[u]=t[u],++u;return c}}(t.transform),r=t.arcs;function s(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],s=0,o=i.length;s<o;++s)e.push(n(i[s],s));t<0&&function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}(e,o)}function o(t){return n(t)}function a(t){for(var e=[],n=0,i=t.length;n<i;++n)s(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(u)}return function t(e){var n,i=e.type;switch(i){case"GeometryCollection":return{type:i,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:i,coordinates:n}}(e)}(t,e);return null==n&&null==r?{type:"Feature",properties:s,geometry:o}:null==r?{type:"Feature",id:n,properties:s,geometry:o}:{type:"Feature",id:n,bbox:r,properties:s,geometry:o}}n.d(e,{A:()=>r})},77154:(t,e,n)=>{"use strict";var i=n(96540),r="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},s=i.useSyncExternalStore,o=i.useRef,a=i.useEffect,u=i.useMemo,l=i.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,i,c){var h=o(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=u((function(){function t(t){if(!a){if(a=!0,s=t,t=i(t),void 0!==c&&f.hasValue){var e=f.value;if(c(e,t))return o=e}return o=t}if(e=o,r(s,t))return e;var n=i(t);return void 0!==c&&c(e,n)?e:(s=t,o=n)}var s,o,a=!1,u=void 0===n?null:n;return[function(){return t(e())},null===u?void 0:function(){return t(u())}]}),[e,n,i,c]);var g=s(t,h[0],h[1]);return a((function(){f.hasValue=!0,f.value=g}),[g]),l(g),g}},78418:(t,e,n)=>{"use strict";t.exports=n(77154)},55847:(t,e,n)=>{"use strict";n.d(e,{A:()=>H});var i=t=>void 0!==t,r=(t,e,n)=>e in t?t[e]:t[e]=n;const s={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};class o{constructor(t){this._parser=new t}toDocument(t){return this._parser.parseFromString(t,"application/xml")}getAllTextContent(t,e){return a(t,e).join("")}}function a(t,e){return u(t,e,[]).join("")}function u(t,e,n){var i;if(t.nodeType===s.CDATA_SECTION||t.nodeType===s.TEXT)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(i=t.firstChild;i;i=i.nextSibling)u(i,e,n);return n}function l(t){let e=t.nextElementSibling||t.nextSibling;for(;e&&e.nodeType!==s.ELEMENT;)e=e.nextSibling;return e}function c(t,e,n){return function(t,e,n){var r,s,o=i(n)?n:{};for(r=0,s=t.length;r<s;++r)o[t[r]]=e;return o}(t,e,n)}function h(t,e){return function(n,r){var s=t.call(i(e)?e:this,n,r);i(s)&&r[r.length-1].push(s)}}function f(t,e,n,r,o){return r.push(t),function(t,e,n,r){for(var o=function(t){let e=t.firstElementChild||t.firstChild;for(;e&&e.nodeType!==s.ELEMENT;)e=e.nextSibling;return e}(e);o;o=l(o)){var a=t[o.namespaceURI||null];if(i(a)){var u=a[o.localName];i(u)&&u.call(r,o,n)}}}(e,n,r,o),r.pop()}function g(t,e,n){return function(r,s){let o=t.call(i(n)?n:this,r,s);i(o)&&(s[s.length-1][i(e)?e:r.localName]=o)}}function d(t,e,n){return function(s,o){var a=t.call(i(n)?n:this,s,o);if(i(a)){var u=o[o.length-1],l=i(e)?e:s.localName;r(u,l,[]).push(a)}}}const p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function v(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?i(e[1])||!1:void 0}function y(t){return m(a(t,!1))}function m(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function _(t){return k(a(t,!1))}function k(t){const e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function x(t){return a(t,!1).replace(p,"")}function E(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function N(t){return[m(t.getAttribute("minx")),m(t.getAttribute("miny")),m(t.getAttribute("maxx")),m(t.getAttribute("maxy"))]}function b(t,e){return f({},X,t,e)}function I(t,e){return f({},U,t,e)}function w(t,e){var n=b(t,e);if(i(n)){const e=[k(t.getAttribute("width")),k(t.getAttribute("height"))];return n.size=e,n}}function S(t,e){return f([],V,t,e)}const T=[null,"http://www.opengis.net/wms"],L=c(T,{Service:g((function(t,e){return f({},R,t,e)})),Capability:g((function(t,e){return f({},C,t,e)}))}),C=c(T,{Request:g((function(t,e){return f({},G,t,e)})),Exception:g((function(t,e){return f([],D,t,e)})),Layer:g((function(t,e){const n=v(t.getAttribute("queryable"));return f({queryable:!!i(n)&&n},P,t,e)}))}),R=c(T,{Name:g(x),Title:g(x),Abstract:g(x),KeywordList:g(S),OnlineResource:g(E),ContactInformation:g((function(t,e){return f({},O,t,e)})),Fees:g(x),AccessConstraints:g(x),LayerLimit:g(_),MaxWidth:g(_),MaxHeight:g(_)}),O=c(T,{ContactPersonPrimary:g((function(t,e){return f({},A,t,e)})),ContactPosition:g(x),ContactAddress:g((function(t,e){return f({},M,t,e)})),ContactVoiceTelephone:g(x),ContactFacsimileTelephone:g(x),ContactElectronicMailAddress:g(x)}),A=c(T,{ContactPerson:g(x),ContactOrganization:g(x)}),M=c(T,{AddressType:g(x),Address:g(x),City:g(x),StateOrProvince:g(x),PostCode:g(x),Country:g(x)}),D=c(T,{Format:h(x)}),P=c(T,{Name:g(x),Title:g(x),Abstract:g(x),KeywordList:g(S),CRS:d(x),SRS:d(x),EX_GeographicBoundingBox:g((function(t,e){const n=f({},F,t,e);if(!i(n))return;const r=n.westBoundLongitude,s=n.southBoundLatitude,o=n.eastBoundLongitude,a=n.northBoundLatitude;return i(r)&&i(s)&&i(o)&&i(a)?[r,s,o,a]:void 0})),LatLonBoundingBox:g((function(t,e){const n=N(t);if(i(n[0])&&i(n[1])&&i(n[2])&&i(n[3]))return n})),BoundingBox:d((function(t,e){const n=N(t),i=[m(t.getAttribute("resx")),m(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS")||t.getAttribute("SRS"),extent:n,res:i}})),Dimension:d((function(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:v(t.getAttribute("multipleValues")),nearestValue:v(t.getAttribute("nearestValue")),current:v(t.getAttribute("current")),values:x(t)}})),Attribution:g((function(t,e){return f({},q,t,e)})),AuthorityURL:d((function(t,e){var n=b(t,e);if(i(n))return n.name=t.getAttribute("name"),n})),Identifier:d(x),MetadataURL:d((function(t,e){var n=b(t,e);if(i(n))return n.type=t.getAttribute("type"),n})),DataURL:d(b),FeatureListURL:d(b),Style:d((function(t,e){return f({},z,t,e)})),MinScaleDenominator:g(y),MaxScaleDenominator:g(y),ScaleHint:g((function(t,e){return{min:parseFloat(t.getAttribute("min")),max:parseFloat(t.getAttribute("max"))}})),Layer:d((function(t,e){var n=e[e.length-1];const s=f({},P,t,e);if(!i(s))return;let o=v(t.getAttribute("queryable"));i(o)||(o=n.queryable),s.queryable=!!i(o)&&o;let a=k(t.getAttribute("cascaded"));i(a)||(a=n.cascaded),s.cascaded=a;let u=v(t.getAttribute("opaque"));i(u)||(u=n.opaque),s.opaque=!!i(u)&&u;let l=v(t.getAttribute("noSubsets"));i(l)||(l=n.noSubsets),s.noSubsets=!!i(l)&&l;let c=m(t.getAttribute("fixedWidth"));i(c)||(c=n.fixedWidth),s.fixedWidth=c;let h=m(t.getAttribute("fixedHeight"));i(h)||(h=n.fixedHeight),s.fixedHeight=h;const g=["Style","CRS","AuthorityURL"];for(let t=0,e=g.length;t<e;t++){const e=g[t],o=n[e];if(i(o)){let t=r(s,e,[]);t=t.concat(o),s[e]=t}}const d=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let t=0,e=d.length;t<e;t++){const e=d[t],r=s[e];if(!i(r)){const t=n[e];s[e]=t}}return s}))}),q=c(T,{Title:g(x),OnlineResource:g(E),LogoURL:g(w)}),F=c(T,{westBoundLongitude:g(y),eastBoundLongitude:g(y),southBoundLatitude:g(y),northBoundLatitude:g(y)}),G=c(T,{GetCapabilities:g(I),GetMap:g(I),GetFeatureInfo:g(I)}),U=c(T,{Format:d(x),DCPType:d((function(t,e){return f({},B,t,e)}))}),B=c(T,{HTTP:g((function(t,e){return f({},Y,t,e)}))}),Y=c(T,{Get:g(b),Post:g(b)}),z=c(T,{Name:g(x),Title:g(x),Abstract:g(x),LegendURL:d(w),StyleSheetURL:g(b),StyleURL:g(b)}),X=c(T,{Format:g(x),OnlineResource:g(E)}),V=c(T,{Keyword:h(x)});class H{constructor(t,e){e||"undefined"==typeof window||(e=window.DOMParser),this.version=void 0,this._parser=new o(e),this._data=t}data(t){return this._data=t,this}toJSON(t){return t=t||this._data,this.parse(t)}parse(t){return this.readFromDocument(this._parser.toDocument(t))}readFromDocument(t){for(let e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==s.ELEMENT)return this.readFromNode(e);return null}readFromNode(t){return this.version=t.getAttribute("version"),f({version:this.version},L,t,[])||null}}}}]);