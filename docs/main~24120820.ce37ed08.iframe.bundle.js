!function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={4:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+""+({}[e]||e)+"."+{0:"079e052e",1:"03b7ea0a",2:"8ed0792b",3:"e1322cd6",17:"c3c088e1",18:"78b29cea",19:"611ecc71",20:"926324fa",21:"e2ebeb07",22:"8635e84b"}[e]+".iframe.bundle.js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(c);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,r[1](l)}a[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([682,6,7,9,16,13,5,15,12,10,11,14,8]),r()}({1e3:function(e,t,r){var n={"./components/MapLibreMap/MapLibreMap.stories.js":1001,"./components/MlCenterPosition/MlCenterPosition.stories.js":1009,"./components/MlComponentTemplate/MlComponentTemplate.stories.js":1028,"./components/MlCreatePdfButton/MlCreatePdfButton.stories.js":1029,"./components/MlCreatePdfForm/MlCreatePdfForm.stories.tsx":1064,"./components/MlFeatureEditor/MlFeatureEditor.stories.js":1034,"./components/MlFillExtrusionLayer/MlFillExtrusionLayer.stories.js":1035,"./components/MlFollowGps/MlFollowGps.stories.js":1036,"./components/MlGPXViewer/MlGPXViewer.stories.js":1037,"./components/MlGeoJsonLayer/MlGeoJsonLayer.stories.js":1038,"./components/MlGeojsonLayerWithSource/MlGeojsonLayerWithSource.stories.js":1039,"./components/MlImageMarkerLayer/MlImageMarkerLayer.stories.js":1040,"./components/MlLayer/MlLayer.stories.js":1041,"./components/MlLayerMagnify/MlLayerMagnify.stories.js":1042,"./components/MlLayerSwipe/MlLayerSwipe.stories.js":1043,"./components/MlLayerSwitcher/MlLayerSwitcher.stories.js":1068,"./components/MlMarker/MlMarker.stories.js":1051,"./components/MlMeasureTool/MlMeasureTool.stories.js":1052,"./components/MlNavigationCompass/MlNavigationCompass.stories.js":1053,"./components/MlNavigationTools/MlNavigationTools.stories.js":1077,"./components/MlScaleReference/MlScaleReference.stories.js":1054,"./components/MlShareMapState/MlShareMapState.stories.js":1078,"./components/MlSpatialElevationProfile/MlSpatialElevationProfile.stories.js":1055,"./components/MlThreeJsLayer/MlThreeJsLayer.stories.js":1069,"./components/MlTransitionGeoJsonLayer/MlTransitionGeoJsonLayer.stories.js":1056,"./components/MlUseMapDebugger/MlUseMapDebugger.stories.js":1079,"./components/MlVectorTileLayer/MlVectorTileLayer.stories.js":1057,"./components/MlWmsFeatureInfoPopup/MlWmsFeatureInfoPopup.stories.js":1080,"./components/MlWmsLayer/MlWmsLayer.stories.js":1058,"./components/MlWmsLoader/MlWmsLoader.stories.js":1081,"./hooks/useMapState.stories.js":1061,"./hooks/useSources.stories.js":1062};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=1e3},1001:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return h})),r.d(t,"StyleChangeConfig",(function(){return b}));var n=r(0),a=r.n(n),o=r(75),i=r(36),s=r(45),l=r(128),c=r(70),u=r(192);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g={title:"Core/MapLibreMap",component:o.a,argTypes:{options:{control:{type:"object"}}}};t.default=g;var h=function(e){return a.a.createElement(i.a,null,a.a.createElement(o.a,{options:e.options,style:{position:"absolute",height:"100vh",width:"100vw",top:0,right:0,left:0,bottom:0,zIndex:100}}))}.bind({});h.args={options:{style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[8.607,53.1409349],zoom:14}};var b=function(e){var t=m(Object(n.useState)("https://wms.wheregroup.com/tileserver/style/osm-fiord-color.json"),2),r=t[0],p=t[1];return a.a.createElement(i.a,null,a.a.createElement(c.a,null,a.a.createElement(l.a,{onClick:function(){return p("https://wms.wheregroup.com/tileserver/style/osm-bright.json")}},"OSM-Bright"),a.a.createElement(l.a,{onClick:function(){return p("https://wms.wheregroup.com/tileserver/style/osm-fiord-color.json")}},"OSM-Fiord-Color")),a.a.createElement(o.a,{options:d(d({},e.options),{},{style:r}),style:{position:"absolute",height:"100vh",width:"100vw",top:0,right:0,left:0,bottom:0,zIndex:100}}),a.a.createElement(s.a,{type:"line",geojson:u}))}.bind({});b.args={options:{zoom:14.5,center:[7.0851268,50.73884]}},b.parameters={},h.parameters=d({storySource:{source:'(args) => {\n\treturn (\n\t\t<MapComponentsProvider>\n\t\t\t<MapLibreMap\n\t\t\t\toptions={args.options}\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "absolute",\n\t\t\t\t\theight: "100vh",\n\t\t\t\t\twidth: "100vw",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tzIndex: 100,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</MapComponentsProvider>\n\t);\n}'}},h.parameters),b.parameters=d({storySource:{source:'(args) => {\n\tconst [activeStyle, setActiveStyle] = useState(\n\t\t"https://wms.wheregroup.com/tileserver/style/osm-fiord-color.json"\n\t);\n\n\treturn (\n\t\t<MapComponentsProvider>\n\t\t\t<TopToolbar>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetActiveStyle("https://wms.wheregroup.com/tileserver/style/osm-bright.json")\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\tOSM-Bright\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetActiveStyle("https://wms.wheregroup.com/tileserver/style/osm-fiord-color.json")\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\tOSM-Fiord-Color\n\t\t\t\t</Button>\n\t\t\t</TopToolbar>\n\t\t\t<MapLibreMap\n\t\t\t\toptions={{ ...args.options, style: activeStyle }}\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "absolute",\n\t\t\t\t\theight: "100vh",\n\t\t\t\t\twidth: "100vw",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tzIndex: 100,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<MlGeoJsonLayer type="line" geojson={sample_geojson_1} />\n\t\t</MapComponentsProvider>\n\t);\n}'}},b.parameters)},1009:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return u}));var n=r(0),a=r.n(n),o=r(242),i=r(19);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={title:"MapComponents/MlCenterPosition",component:o.a,argTypes:{},decorators:i.a,parameters:{docs:{source:{type:"code"}}}};t.default=c;var u=function(e){return a.a.createElement(o.a,null)}.bind({});u.parameters={},u.args={},u.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(args) => <MlCenterPosition />"}},u.parameters)},101:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(128),i=r(1106),s=r(580),l=r.n(s),c=r(581),u=r.n(c),p=r(419),d=r(155),f=r(154),m=r(250),y=r(18),g=r(242),h=["color"],b=["color"];function v(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=function(e){var t=Object(y.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=I(Object(n.useState)(0),2),s=r[0],c=r[1],O=Object(m.a)("(max-width:900px)"),w={minWidth:"20px",minHeight:"20px",width:O?"50px":"30px",height:O?"50px":"30px",backgroundColor:"#414141",borderRadius:"23%",margin:.15,fontSize:O?"1.4em":"1.2em",":hover":{backgroundColor:"#515151"},color:"#ececec"},x={fontSize:w.fontSize};Object(n.useEffect)((function(){t.map&&(t.map.on("pitchend",(function(){t.map&&c(t.map.map.getPitch())}),t.componentId),c(t.map.map.getPitch()))}),[t.map,e.mapId]);var S,C;return a.a.createElement(p.a,{sx:j(j({zIndex:501,position:"absolute",display:"flex",flexDirection:"column"},O?{margin:"20px 10px 20px 10px"}:{}),e.sx)},a.a.createElement(d.a,{style:{width:"31px",position:"relative",height:O?"55px":"45px",marginLeft:O?"3px":"-5px",transform:O?"scale(1.6)":"scale(1)"},backgroundStyle:{boxShadow:"0px 0px 18px rgba(0,0,0,.5)"}}),e.show3DButton&&a.a.createElement(o.a,{sx:j(j({},w),{},{fontSize:O?"1.4em":"1em",fontWeight:600}),onClick:function(){if(t.map){var e=60;0!==t.map.map.getPitch()&&(e=0),t.map.map.easeTo({pitch:e})}}},s?"2D":"3D"),e.showFollowGpsButton&&a.a.createElement(f.a,{buttonSx:j({},(C=w,v(C,h)))}),e.showCenterLocationButton&&a.a.createElement(g.a,{style:j({},(S=w,v(S,b)))}),a.a.createElement(i.a,{orientation:"vertical",sx:{width:"50px",border:"none",Button:{minWidth:"20px !important",border:"none",padding:0},"Button:hover":{border:"none"}}},e.showZoomButtons&&a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,{sx:j({},w),onClick:function(){t.map&&t.map.map.transform._zoom+.5<=t.map.map.transform._maxZoom&&t.map.map.easeTo({zoom:t.map.map.transform._zoom+.5})}},a.a.createElement(l.a,{sx:j({},x)})),a.a.createElement(o.a,{sx:j({},w),onClick:function(){t.map&&t.map.map.transform._zoom-.5>=t.map.map.transform._minZoom&&t.map.map.easeTo({zoom:t.map.map.transform._zoom-.5})}},a.a.createElement(u.a,{sx:j({},x)})))),e.children&&a.a.cloneElement(e.children,{sx:j({},w)}))};S.defaultProps={mapId:void 0,show3DButton:!0,showFollowGpsButton:!0,showCenterLocationButton:!1,showZoomButtons:!0,sx:{right:"5px",bottom:"20px"}},t.a=S;try{S.displayName="MlNavigationTools",S.__docgenInfo={description:"",displayName:"MlNavigationTools",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'The layerId of an existing layer this layer should be rendered visually beneath\nhttps://maplibre.org/maplibre-gl-js-docs/api/map/#map#addlayer - see "beforeId" property',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},show3DButton:{defaultValue:{value:"true"},description:"Show 3D button",name:"show3DButton",required:!1,type:{name:"boolean | undefined"}},showZoomButtons:{defaultValue:{value:"true"},description:"Show zoom button",name:"showZoomButtons",required:!1,type:{name:"boolean | undefined"}},showFollowGpsButton:{defaultValue:{value:"true"},description:"Show follow GPS button",name:"showFollowGpsButton",required:!1,type:{name:"boolean | undefined"}},showCenterLocationButton:{defaultValue:{value:"false"},description:"Show center on current position button",name:"showCenterLocationButton",required:!1,type:{name:"boolean | undefined"}},children:{defaultValue:null,description:"Additional JSX Elements to be rendered below MlNavigationTools buttons",name:"children",required:!1,type:{name:"Element | undefined"}},sx:{defaultValue:{value:'{\n\t\tright: "5px",\n\t\tbottom: "20px",\n\t}'},description:"Style attribute for NavigationTools container",name:"sx",required:!1,type:{name:"SxProps<{}> | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlNavigationTools/MlNavigationTools.tsx#MlNavigationTools"]={docgenInfo:S.__docgenInfo,name:"MlNavigationTools",path:"src/components/MlNavigationTools/MlNavigationTools.tsx#MlNavigationTools"})}catch(e){}},1010:function(e,t,r){var n=r(120),a=r(1011);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},1011:function(e,t,r){(t=r(121)(!1)).push([e.i,"",""]),e.exports=t},1020:function(e,t,r){var n=r(120),a=r(1021);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},1021:function(e,t,r){(t=r(121)(!1)).push([e.i,".mapboxgl-compare {\n  background-color:#fff;\n  position:absolute;\n  width:2px;\n  height:100%;\n  z-index:110;\n  top: 0;\n  margin-left:0;\n  left:0;\n}\n.mapboxgl-compare .compare-swiper-vertical {\n  z-index:120;\n  background-color:#3887be;\n  box-shadow:inset 0 0 0 2px #fff;\n  display:inline-block;\n  border-radius:50%;\n  position:absolute;\n  width:60px;\n  height:60px;\n  top:50%;\n  left:-30px;\n  margin:-30px 1px 0;\n  color: #fff;\n  cursor:ew-resize;\n\tbackground-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiICAgd2lkdGg9IjYwIiAgIGhlaWdodD0iNjAiICAgdmVyc2lvbj0iMS4xIiAgIHZpZXdCb3g9IjAgMCA2MCA2MCIgICBpZD0ic3ZnNTQzNCIgICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxK2RldmVsK29zeG1lbnUgcjEyOTExIiAgIHNvZGlwb2RpOmRvY25hbWU9Imwtci5zdmciPiAgPG1ldGFkYXRhICAgICBpZD0ibWV0YWRhdGE1NDQ0Ij4gICAgPHJkZjpSREY+ICAgICAgPGNjOldvcmsgICAgICAgICByZGY6YWJvdXQ9IiI+ICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4gICAgICAgIDxkYzp0eXBlICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+ICAgICAgPC9jYzpXb3JrPiAgICA8L3JkZjpSREY+ICA8L21ldGFkYXRhPiAgPGRlZnMgICAgIGlkPSJkZWZzNTQ0MiIgLz4gIDxzb2RpcG9kaTpuYW1lZHZpZXcgICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIgICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IiAgICAgYm9yZGVyb3BhY2l0eT0iMSIgICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiICAgICBncmlkdG9sZXJhbmNlPSIxMCIgICAgIGd1aWRldG9sZXJhbmNlPSIxMCIgICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIgICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTI4NiIgICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijc1MSIgICAgIGlkPSJuYW1lZHZpZXc1NDQwIiAgICAgc2hvd2dyaWQ9InRydWUiICAgICBpbmtzY2FwZTp6b29tPSI0IiAgICAgaW5rc2NhcGU6Y3g9IjI1Ljg4OTgzMSIgICAgIGlua3NjYXBlOmN5PSIzNC4zODE4MzMiICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIgICAgIGlua3NjYXBlOndpbmRvdy15PSIyMyIgICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmc1NDM0IiAgICAgaW5rc2NhcGU6b2JqZWN0LW5vZGVzPSJ0cnVlIiAgICAgaW5rc2NhcGU6c25hcC1zbW9vdGgtbm9kZXM9InRydWUiPiAgICA8aW5rc2NhcGU6Z3JpZCAgICAgICB0eXBlPSJ4eWdyaWQiICAgICAgIGlkPSJncmlkNTk4OSIgLz4gIDwvc29kaXBvZGk6bmFtZWR2aWV3PiAgPHBhdGggICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIiAgICAgZD0iTSAyNSAyNCBMIDE2IDMwIEwgMjUgMzYgTCAyNSAyNCB6IE0gMzUgMjQgTCAzNSAzNiBMIDQ0IDMwIEwgMzUgMjQgeiAiICAgICBpZD0icGF0aDU5OTUiIC8+PC9zdmc+);\n  }\n\n.mapboxgl-compare-horizontal {\n  position:relative;\n  width:100%;\n  height:2px;\n}\n.mapboxgl-compare .compare-swiper-horizontal {\n  background-color:#3887be;\n  box-shadow:inset 0 0 0 2px #fff;\n  display:inline-block;\n  border-radius:50%;\n  position:absolute;\n  width:60px;\n  height:60px;\n  top:50%;\n  left:50%;\n  margin:-30px 1px 0;\n  color: #fff;\n  cursor:ns-resize;\n  background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiICAgd2lkdGg9IjYwIiAgIGhlaWdodD0iNjAiICAgdmVyc2lvbj0iMS4xIiAgIHZpZXdCb3g9IjAgMCA2MCA2MCIgICBpZD0ic3ZnNTQzNCIgICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxK2RldmVsK29zeG1lbnUgcjEyOTExIiAgIHNvZGlwb2RpOmRvY25hbWU9Imwtci5zdmciPiAgPG1ldGFkYXRhICAgICBpZD0ibWV0YWRhdGE1NDQ0Ij4gICAgPHJkZjpSREY+ICAgICAgPGNjOldvcmsgICAgICAgICByZGY6YWJvdXQ9IiI+ICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4gICAgICAgIDxkYzp0eXBlICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+ICAgICAgPC9jYzpXb3JrPiAgICA8L3JkZjpSREY+ICA8L21ldGFkYXRhPiAgPGRlZnMgICAgIGlkPSJkZWZzNTQ0MiIgLz4gIDxzb2RpcG9kaTpuYW1lZHZpZXcgICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIgICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IiAgICAgYm9yZGVyb3BhY2l0eT0iMSIgICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiICAgICBncmlkdG9sZXJhbmNlPSIxMCIgICAgIGd1aWRldG9sZXJhbmNlPSIxMCIgICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIgICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTI4NiIgICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijc1MSIgICAgIGlkPSJuYW1lZHZpZXc1NDQwIiAgICAgc2hvd2dyaWQ9InRydWUiICAgICBpbmtzY2FwZTp6b29tPSI0IiAgICAgaW5rc2NhcGU6Y3g9IjI1Ljg4OTgzMSIgICAgIGlua3NjYXBlOmN5PSIzNC4zODE4MzMiICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIgICAgIGlua3NjYXBlOndpbmRvdy15PSIyMyIgICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmc1NDM0IiAgICAgaW5rc2NhcGU6b2JqZWN0LW5vZGVzPSJ0cnVlIiAgICAgaW5rc2NhcGU6c25hcC1zbW9vdGgtbm9kZXM9InRydWUiPiAgICA8aW5rc2NhcGU6Z3JpZCAgICAgICB0eXBlPSJ4eWdyaWQiICAgICAgIGlkPSJncmlkNTk4OSIgLz4gIDwvc29kaXBvZGk6bmFtZWR2aWV3PiAgPHBhdGggICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIiAgICAgZD0iTSAyNSAyNCBMIDE2IDMwIEwgMjUgMzYgTCAyNSAyNCB6IE0gMzUgMjQgTCAzNSAzNiBMIDQ0IDMwIEwgMzUgMjQgeiAiICAgICBpZD0icGF0aDU5OTUiIC8+PC9zdmc+);\n  transform: rotate(90deg)\n}\n",""]),e.exports=t},1022:function(e,t,r){var n=r(120),a=r(1023);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},1023:function(e,t,r){(t=r(121)(!1)).push([e.i,".mapboxgl-compare {\n  background-color:#fff;\n  position:absolute;\n  width:2px;\n  height:100%;\n  z-index:110;\n  top: 0;\n  margin-left:0;\n  left:0;\n}\n.mapboxgl-compare .compare-swiper-vertical {\n  z-index:120;\n  background-color:#3887be;\n  box-shadow:inset 0 0 0 2px #fff;\n  display:inline-block;\n  border-radius:50%;\n  position:absolute;\n  width:60px;\n  height:60px;\n  top:50%;\n  left:-30px;\n  margin:-30px 1px 0;\n  color: #fff;\n  cursor:ew-resize;\n\tbackground-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiICAgd2lkdGg9IjYwIiAgIGhlaWdodD0iNjAiICAgdmVyc2lvbj0iMS4xIiAgIHZpZXdCb3g9IjAgMCA2MCA2MCIgICBpZD0ic3ZnNTQzNCIgICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxK2RldmVsK29zeG1lbnUgcjEyOTExIiAgIHNvZGlwb2RpOmRvY25hbWU9Imwtci5zdmciPiAgPG1ldGFkYXRhICAgICBpZD0ibWV0YWRhdGE1NDQ0Ij4gICAgPHJkZjpSREY+ICAgICAgPGNjOldvcmsgICAgICAgICByZGY6YWJvdXQ9IiI+ICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4gICAgICAgIDxkYzp0eXBlICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+ICAgICAgPC9jYzpXb3JrPiAgICA8L3JkZjpSREY+ICA8L21ldGFkYXRhPiAgPGRlZnMgICAgIGlkPSJkZWZzNTQ0MiIgLz4gIDxzb2RpcG9kaTpuYW1lZHZpZXcgICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIgICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IiAgICAgYm9yZGVyb3BhY2l0eT0iMSIgICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiICAgICBncmlkdG9sZXJhbmNlPSIxMCIgICAgIGd1aWRldG9sZXJhbmNlPSIxMCIgICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIgICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTI4NiIgICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijc1MSIgICAgIGlkPSJuYW1lZHZpZXc1NDQwIiAgICAgc2hvd2dyaWQ9InRydWUiICAgICBpbmtzY2FwZTp6b29tPSI0IiAgICAgaW5rc2NhcGU6Y3g9IjI1Ljg4OTgzMSIgICAgIGlua3NjYXBlOmN5PSIzNC4zODE4MzMiICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIgICAgIGlua3NjYXBlOndpbmRvdy15PSIyMyIgICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmc1NDM0IiAgICAgaW5rc2NhcGU6b2JqZWN0LW5vZGVzPSJ0cnVlIiAgICAgaW5rc2NhcGU6c25hcC1zbW9vdGgtbm9kZXM9InRydWUiPiAgICA8aW5rc2NhcGU6Z3JpZCAgICAgICB0eXBlPSJ4eWdyaWQiICAgICAgIGlkPSJncmlkNTk4OSIgLz4gIDwvc29kaXBvZGk6bmFtZWR2aWV3PiAgPHBhdGggICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIiAgICAgZD0iTSAyNSAyNCBMIDE2IDMwIEwgMjUgMzYgTCAyNSAyNCB6IE0gMzUgMjQgTCAzNSAzNiBMIDQ0IDMwIEwgMzUgMjQgeiAiICAgICBpZD0icGF0aDU5OTUiIC8+PC9zdmc+);\n  }\n\n.mapboxgl-compare-horizontal {\n  position:relative;\n  width:100%;\n  height:2px;\n}\n.mapboxgl-compare .compare-swiper-horizontal {\n  background-color:#3887be;\n  box-shadow:inset 0 0 0 2px #fff;\n  display:inline-block;\n  border-radius:50%;\n  position:absolute;\n  width:60px;\n  height:60px;\n  top:50%;\n  left:50%;\n  margin:-30px 1px 0;\n  color: #fff;\n  cursor:ns-resize;\n  background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiICAgd2lkdGg9IjYwIiAgIGhlaWdodD0iNjAiICAgdmVyc2lvbj0iMS4xIiAgIHZpZXdCb3g9IjAgMCA2MCA2MCIgICBpZD0ic3ZnNTQzNCIgICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxK2RldmVsK29zeG1lbnUgcjEyOTExIiAgIHNvZGlwb2RpOmRvY25hbWU9Imwtci5zdmciPiAgPG1ldGFkYXRhICAgICBpZD0ibWV0YWRhdGE1NDQ0Ij4gICAgPHJkZjpSREY+ICAgICAgPGNjOldvcmsgICAgICAgICByZGY6YWJvdXQ9IiI+ICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4gICAgICAgIDxkYzp0eXBlICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+ICAgICAgPC9jYzpXb3JrPiAgICA8L3JkZjpSREY+ICA8L21ldGFkYXRhPiAgPGRlZnMgICAgIGlkPSJkZWZzNTQ0MiIgLz4gIDxzb2RpcG9kaTpuYW1lZHZpZXcgICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIgICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IiAgICAgYm9yZGVyb3BhY2l0eT0iMSIgICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiICAgICBncmlkdG9sZXJhbmNlPSIxMCIgICAgIGd1aWRldG9sZXJhbmNlPSIxMCIgICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIgICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTI4NiIgICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijc1MSIgICAgIGlkPSJuYW1lZHZpZXc1NDQwIiAgICAgc2hvd2dyaWQ9InRydWUiICAgICBpbmtzY2FwZTp6b29tPSI0IiAgICAgaW5rc2NhcGU6Y3g9IjI1Ljg4OTgzMSIgICAgIGlua3NjYXBlOmN5PSIzNC4zODE4MzMiICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIgICAgIGlua3NjYXBlOndpbmRvdy15PSIyMyIgICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmc1NDM0IiAgICAgaW5rc2NhcGU6b2JqZWN0LW5vZGVzPSJ0cnVlIiAgICAgaW5rc2NhcGU6c25hcC1zbW9vdGgtbm9kZXM9InRydWUiPiAgICA8aW5rc2NhcGU6Z3JpZCAgICAgICB0eXBlPSJ4eWdyaWQiICAgICAgIGlkPSJncmlkNTk4OSIgLz4gIDwvc29kaXBvZGk6bmFtZWR2aWV3PiAgPHBhdGggICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIiAgICAgZD0iTSAyNSAyNCBMIDE2IDMwIEwgMjUgMzYgTCAyNSAyNCB6IE0gMzUgMjQgTCAzNSAzNiBMIDQ0IDMwIEwgMzUgMjQgeiAiICAgICBpZD0icGF0aDU5OTUiIC8+PC9zdmc+);\n  transform: rotate(90deg)\n}\n",""]),e.exports=t},1027:function(e,t,r){(t=r(121)(!1)).push([e.i,"#root {\n  background-color: #000;\n  position: absolute;\n  min-height: 400px;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.docs-story {\n  min-height: 400px;\n  display: flex;\n  align-items: stretch;\n}\n.docs-story > div:first-child {\n  width: 100%;\n}\n\n.App {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.fullscreen_map .mapContainer {\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 100;\n}\n\n",""]),e.exports=t},1028:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return u}));var n=r(0),a=r.n(n),o=r(230),i=r(19);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={title:"MapComponents/MlComponentTemplate",component:o.a,argTypes:{},decorators:i.a};t.default=c;var u=function(e){return a.a.createElement(o.a,null)}.bind({});u.parameters={},u.args={},u.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(args) => <MlComponentTemplate />"}},u.parameters)},1029:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return p}));var n=r(0),a=r.n(n),o=r(238),i=r(70),s=r(19);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={title:"MapComponents/MlCreatePdfButton",component:o.a,argTypes:{},decorators:s.a};t.default=u;var p=function(e){return a.a.createElement(i.a,null,a.a.createElement(o.a,null))}.bind({});p.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(args) => (\n\t<TopToolbar>\n\t\t<MlCreatePdfButton />\n\t</TopToolbar>\n)"}},p.parameters)},1034:function(e,t,r){"use strict";r.r(t),r.d(t,"EditPolygon",(function(){return f})),r.d(t,"EditPoint",(function(){return m})),r.d(t,"EditLineString",(function(){return y})),r.d(t,"DrawPolygon",(function(){return g})),r.d(t,"DrawPoint",(function(){return h})),r.d(t,"DrawLineString",(function(){return b}));var n=r(0),a=r.n(n),o=r(159),i=r(19);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p={title:"MapComponents/MlFeatureEditor",component:o.a,argTypes:{},decorators:i.a};t.default=p;var d=function(e){return a.a.createElement(o.a,u({},e,{onChange:function(e){console.log(e)}}))},f=d.bind({});f.args={mode:"custom_select",geojson:{type:"Feature",properties:{},geometry:{coordinates:[[[7.0904979943736635,50.73948334574527],[7.087554458473562,50.73827346433987],[7.093562913197076,50.73723639825727],[7.096294028980594,50.7387727842636],[7.0904979943736635,50.73948334574527]]],type:"Polygon"}}};var m=d.bind({});m.args={mode:"custom_select",geojson:{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[7.0904979943736635,50.73948334574527]}}};var y=d.bind({});y.args={mode:"simple_select",geojson:{type:"Feature",properties:{},geometry:{coordinates:[[7.0904979943736635,50.73948334574527],[7.087554458473562,50.73827346433987],[7.093562913197076,50.73723639825727],[7.096294028980594,50.7387727842636]],type:"LineString"}}};var g=d.bind({});g.args={mode:"custom_polygon"};var h=d.bind({});h.args={mode:"draw_point"};var b=d.bind({});b.args={mode:"draw_line_string"},f.parameters=l({storySource:{source:"(args) => {\n\treturn (\n\t\t<MlFeatureEditor\n\t\t\t{...args}\n\t\t\tonChange={(features) => {\n\t\t\t\tconsole.log(features);\n\t\t\t}}\n\t\t/>\n\t);\n}"}},f.parameters),m.parameters=l({storySource:{source:"(args) => {\n\treturn (\n\t\t<MlFeatureEditor\n\t\t\t{...args}\n\t\t\tonChange={(features) => {\n\t\t\t\tconsole.log(features);\n\t\t\t}}\n\t\t/>\n\t);\n}"}},m.parameters),y.parameters=l({storySource:{source:"(args) => {\n\treturn (\n\t\t<MlFeatureEditor\n\t\t\t{...args}\n\t\t\tonChange={(features) => {\n\t\t\t\tconsole.log(features);\n\t\t\t}}\n\t\t/>\n\t);\n}"}},y.parameters),g.parameters=l({storySource:{source:"(args) => {\n\treturn (\n\t\t<MlFeatureEditor\n\t\t\t{...args}\n\t\t\tonChange={(features) => {\n\t\t\t\tconsole.log(features);\n\t\t\t}}\n\t\t/>\n\t);\n}"}},g.parameters),h.parameters=l({storySource:{source:"(args) => {\n\treturn (\n\t\t<MlFeatureEditor\n\t\t\t{...args}\n\t\t\tonChange={(features) => {\n\t\t\t\tconsole.log(features);\n\t\t\t}}\n\t\t/>\n\t);\n}"}},h.parameters),b.parameters=l({storySource:{source:"(args) => {\n\treturn (\n\t\t<MlFeatureEditor\n\t\t\t{...args}\n\t\t\tonChange={(features) => {\n\t\t\t\tconsole.log(features);\n\t\t\t}}\n\t\t/>\n\t);\n}"}},b.parameters)},1035:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return u}));var n=r(0),a=r.n(n),o=r(231),i=r(19);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={title:"MapComponents/MlFillExtrusionLayer",component:o.a,argTypes:{},decorators:i.a};t.default=c;var u=function(e){return a.a.createElement(o.a,e)}.bind({});u.parameters={},u.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(props) => {\n\t\n\treturn (\n\t\t<MlFillExtrusionLayer {...props} />\n);\n\t}"}},u.parameters)},1036:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return u}));var n=r(0),a=r.n(n),o=r(154),i=r(19);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={title:"MapComponents/MlFollowGps",component:o.a,argTypes:{},decorators:i.a};t.default=c;var u=function(e){return a.a.createElement(o.a,e)}.bind({});u.parameters={},u.args={followUserPosition:!1},u.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(props) => <MlFollowGps {...props}/>"}},u.parameters)},1037:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return p}));var n=r(0),a=r.n(n),o=r(158),i=r(19),s=r(187);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={title:"MapComponents/MlGPXViewer",component:o.a,argTypes:{options:{control:{type:"object"}}},decorators:i.a};t.default=u;var p=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,null,a.a.createElement(o.a,null)))}.bind({});p.parameters={},p.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(args) => (\n\t<>\n\t\t<GeoJsonProvider>\n\t\t\t<MlGPXViewer />\n\t\t</GeoJsonProvider>\n\t</>\n)"}},p.parameters)},1038:function(e,t,r){"use strict";r.r(t),r.d(t,"Linestring",(function(){return m})),r.d(t,"Polygon",(function(){return y})),r.d(t,"DefaultPaintOverrides",(function(){return g}));var n=r(0),a=r.n(n),o=r(45),i=r(19),s=r(192),l=r(326);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}console.log(l);var d={title:"MapComponents/MlGeoJsonLayer",component:o.a,argTypes:{},decorators:i.a};t.default=d;var f=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,e))},m=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,{type:"line",geojson:s}))}.bind({});m.parameters={},m.args={type:""};var y=f.bind({});y.parameters={},y.args={geojson:l,paint:{"fill-color":"rgba(120,20,80,.5)"},type:""};var g=f.bind({});g.parameters={},g.args={defaultPaintOverrides:{fill:{"fill-color":"blue"},circle:{"circle-color":"red"},line:{"line-color":"black"}},geojson:l,type:""},m.parameters=u({storySource:{source:'(props) => {\n\treturn (\n\t\t<>\n\t\t\t<MlGeoJsonLayer type="line" geojson={sample_geojson_1} />\n\t\t</>\n\t);\n}'}},m.parameters),y.parameters=u({storySource:{source:"(props) => {\n\treturn (\n\t\t<>\n\t\t\t<MlGeoJsonLayer {...props} />\n\t\t</>\n\t);\n}"}},y.parameters),g.parameters=u({storySource:{source:"(props) => {\n\treturn (\n\t\t<>\n\t\t\t<MlGeoJsonLayer {...props} />\n\t\t</>\n\t);\n}"}},g.parameters)},1039:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return u}));var n=r(0),a=r.n(n),o=r(243),i=r(19);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={title:"MapComponents/MlGeojsonLayerWithSource",component:o.a,argTypes:{},decorators:i.a};t.default=c;var u=function(){return a.a.createElement(o.a,null)}.bind({});u.args={mapId:"map_1"},u.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"() => <MlGeojsonLayerWithSource />"}},u.parameters)},1040:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return d}));var n=r(0),a=r.n(n),o=r(232),i=r(19),s=r(590),l=r.n(s);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={title:"MapComponents/MlImageMarkerLayer",component:o.a,argTypes:{},decorators:i.a};t.default=p;var d=function(e){return a.a.createElement(o.a,{options:{type:"symbol",source:{type:"geojson",data:{type:"Feature",properties:{id:"test"},geometry:{type:"Point",coordinates:[7.0847929969609424,50.73855193187643]}}},layout:{"icon-allow-overlap":!0,"icon-size":.14,"icon-offset":[0,-180]}},imgSrc:l.a})}.bind({});d.parameters={},d.args={},d.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:'(args) => (\n\t<MlImageMarkerLayer\n\t\toptions={{\n\t\t\ttype: "symbol",\n\t\t\tsource: {\n\t\t\t\ttype: "geojson",\n\t\t\t\tdata: {\n\t\t\t\t\ttype: "Feature",\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tid: "test",\n\t\t\t\t\t},\n\t\t\t\t\tgeometry: {\n\t\t\t\t\t\ttype: "Point",\n\t\t\t\t\t\tcoordinates: [7.0847929969609424, 50.73855193187643],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tlayout: {\n\t\t\t\t"icon-allow-overlap": true,\n\t\t\t\t"icon-size": 0.14,\n\t\t\t\t"icon-offset": [0, -180],\n\t\t\t},\n\t\t}}\n\t\timgSrc={wgMarker}\n\t/>\n)'}},d.parameters)},1041:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return u}));var n=r(0),a=r.n(n),o=r(156),i=r(19);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={title:"MapComponents/MlLayer",component:o.a,argTypes:{},decorators:i.a};t.default=c;var u=function(e){return a.a.createElement(o.a,null)}.bind({});u.parameters={},u.args={},u.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(args) => <MlLayer />"}},u.parameters)},1042:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return p}));var n=r(0),a=r.n(n),o=r(234),i=r(79),s=r(316);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={title:"MapComponents/MlLayerMagnify",component:o.a,argTypes:{},decorators:s.a};t.default=u;var p=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{url:"https://www.wms.nrw.de/geobasis/wms_nw_uraufnahme",urlParameters:{layers:"nw_uraufnahme_rw"},sourceOptions:{minzoom:13,maxzoom:20},mapId:e.wmsLayerMapId}),a.a.createElement(o.a,{map1Id:"map_1",map2Id:"map_2",magnifierRadius:e.magnifierRadius}))}.bind({});p.parameters={},p.args={wmsLayerMapId:"map_2",magnifierRadius:200},p.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:'(args) => (\n\t<>\n\t\t<MlWmsLayer\n\t\t\turl="https://www.wms.nrw.de/geobasis/wms_nw_uraufnahme"\n\t\t\turlParameters={{\n\t\t\t\tlayers: "nw_uraufnahme_rw",\n\t\t\t}}\n\t\t\tsourceOptions={{\n\t\t\t\tminzoom: 13,\n\t\t\t\tmaxzoom: 20,\n\t\t\t}}\n\t\t\tmapId={args.wmsLayerMapId}\n\t\t/>\n\t\t<MlLayerMagnify map1Id="map_1" map2Id="map_2" magnifierRadius={args.magnifierRadius} />\n\t</>\n)'}},p.parameters)},1043:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return p}));var n=r(0),a=r.n(n),o=r(235),i=r(79),s=r(316);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={title:"MapComponents/MlLayerSwipe",name:"MlLayerSwipe",component:o.a,argTypes:{},decorators:s.a};t.default=u;var p=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{url:"https://www.wms.nrw.de/geobasis/wms_nw_uraufnahme",urlParameters:{layers:"nw_uraufnahme_rw"},sourceOptions:{minzoom:13,maxzoom:20},mapId:"map_2"}),a.a.createElement(o.a,{map1Id:"map_1",map2Id:"map_2"}))}.bind({});p.parameters={},p.args={},p.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:'(args) => (\n\t<>\n\t\t<MlWmsLayer\n\t\t\turl="https://www.wms.nrw.de/geobasis/wms_nw_uraufnahme"\n\t\t\turlParameters={{\n\t\t\t\tlayers: "nw_uraufnahme_rw",\n\t\t\t}}\n\t\t\tsourceOptions={{\n\t\t\t\tminzoom: 13,\n\t\t\t\tmaxzoom: 20,\n\t\t\t}}\n\t\t\tmapId="map_2"\n\t\t/>\n\t\t<MlLayerSwipe map1Id="map_1" map2Id="map_2" />\n\t</>\n)'}},p.parameters)},1044:function(e,t,r){var n=r(120),a=r(1045);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},1045:function(e,t,r){(t=r(121)(!1)).push([e.i,".mllayerswitcher-layer-box.activeHighlight > .mllayerswitcher-layer-image {\n    border-color:  rgb(181, 215, 238);\n    border-radius: 8px;\n}\n.mllayerswitcher-layer-box.activeHighlight > .mllayerswitcher-layer-text {\n    color:  rgb(181, 215, 238) !important;\n  \n}\n\n.mllayerswitcher-layer-box.active > .mllayerswitcher-layer-image {\n    border-color:  rgb(196, 240, 0);\n    border-radius: 8px;\n}\n.mllayerswitcher-layer-box.active > .mllayerswitcher-layer-text {\n    color:  rgb(252, 0, 0) !important;\n  \n}",""]),e.exports=t},1051:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return u}));var n=r(0),a=r.n(n),o=r(157),i=r(19);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={title:"MapComponents/MlMarker",component:o.a,decorators:i.a};t.default=c;var u=function(e){return a.a.createElement(o.a,e)}.bind({});u.args={content:"WhereGroup",lng:7.0851268,lat:50.73884,mapId:"map_1"},u.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(args) => <MlMarker {...args}/>"}},u.parameters)},1052:function(e,t,r){"use strict";r.r(t),r.d(t,"MeasureLine",(function(){return j})),r.d(t,"MeasurePolygon",(function(){return w}));var n=r(0),a=r.n(n),o=r(193),i=r(19),s=r(598),l=r.n(s),c=r(597),u=r.n(c),p=r(622),d=r(419),f=r(621),m=r(330);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O={title:"MapComponents/MlMeasureTool",component:o.a,argTypes:{},decorators:i.a};t.default=O;var j=function(e){var t=b(Object(n.useState)("kilometers"),2),r=t[0],i=t[1];return a.a.createElement("div",{style:{width:"200px",position:"absolute",zIndex:105}},a.a.createElement(f.a,{name:"units",onChange:function(e){i(e.target.value)},label:"Unit for measurement",defaultValue:"kilometers"},a.a.createElement(m.a,{value:"kilometers"}," Kilometers"),a.a.createElement(m.a,{value:"miles"}," Miles")),a.a.createElement(p.a,{container:!0,style:{textAlign:"left",alignItems:"center"}},a.a.createElement(l.a,null),a.a.createElement("h4",{style:{margin:"0px"}},"Measure Line")),a.a.createElement(d.a,{m:2,style:{textAlign:"left"}},"Length: ",a.a.createElement(o.a,{measureType:"line",unit:r})))}.bind({});j.parameters={},j.args={};var w=function(e){var t=b(Object(n.useState)("kilometers"),2),r=t[0],i=t[1];return a.a.createElement("div",{style:{width:"200px",position:"absolute",zIndex:105}},a.a.createElement(f.a,{name:"units",onChange:function(e){i(e.target.value)},label:"Unit for measurement",defaultValue:"kilometers"},a.a.createElement(m.a,{value:"kilometers"},"Kilometers"),a.a.createElement(m.a,{value:"miles"},"Miles")),a.a.createElement(p.a,{container:!0,style:{textAlign:"left",alignItems:"center"}},a.a.createElement(u.a,null),a.a.createElement("h4",{style:{margin:"0px"}},"Measure Polygon")),a.a.createElement(d.a,{m:2,style:{textAlign:"left"}},"Area: ",a.a.createElement(o.a,{measureType:"polygon",unit:r})))}.bind({});w.parameters={},w.args={},j.parameters=g({storySource:{source:'(args) => {\n\tconst [unit, setUnit] = useState("kilometers");\n\tconst handleChange = (event) => {\n\t\tsetUnit(event.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: "200px", position: "absolute", zIndex: 105 }}>\n\t\t\t<Select\n\t\t\t\tname={"units"}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tlabel={"Unit for measurement"}\n\t\t\t\tdefaultValue={"kilometers"}\n\t\t\t>\n\t\t\t\t<MenuItem value={"kilometers"}> Kilometers</MenuItem>\n\t\t\t\t<MenuItem value={"miles"}> Miles</MenuItem>\n\t\t\t</Select>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tstyle={{\n\t\t\t\t\ttextAlign: "left",\n\t\t\t\t\talignItems: "center",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<StraightenOutlinedIcon />\n\t\t\t\t<h4 style={{ margin: "0px" }}>Measure Line</h4>\n\t\t\t</Grid>\n\n\t\t\t<Box m={2} style={{ textAlign: "left" }}>\n\t\t\t\tLength: <MlMeasureTool measureType={"line"} unit={unit} />\n\t\t\t</Box>\n\t\t</div>\n\t);\n}'}},j.parameters),w.parameters=g({storySource:{source:'(args) => {\n\tconst [unit, setUnit] = useState("kilometers");\n\tconst handleChange = (event) => {\n\t\tsetUnit(event.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: "200px", position: "absolute", zIndex: 105 }}>\n\t\t\t<Select\n\t\t\t\tname={"units"}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tlabel={"Unit for measurement"}\n\t\t\t\tdefaultValue={"kilometers"}\n\t\t\t>\n\t\t\t\t<MenuItem value={"kilometers"}>Kilometers</MenuItem>\n\t\t\t\t<MenuItem value={"miles"}>Miles</MenuItem>\n\t\t\t</Select>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tstyle={{\n\t\t\t\t\ttextAlign: "left",\n\t\t\t\t\talignItems: "center",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<SquareFootOutlinedIcon />\n\t\t\t\t<h4 style={{ margin: "0px" }}>Measure Polygon</h4>\n\t\t\t</Grid>\n\n\t\t\t<Box m={2} style={{ textAlign: "left" }}>\n\t\t\t\tArea: <MlMeasureTool measureType={"polygon"} unit={unit} />\n\t\t\t</Box>\n\t\t</div>\n\t);\n}'}},w.parameters)},1053:function(e,t,r){"use strict";r.r(t),r.d(t,"Standard",(function(){return d})),r.d(t,"StyleExample",(function(){return f}));var n=r(0),a=r.n(n),o=r(155),i=r(19);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={title:"MapComponents/MlNavigationCompass",component:o.a,decorators:i.a};t.default=u;var p=function(e){return a.a.createElement(o.a,e)},d=p.bind({});d.args={style:{transform:"scale(4)",left:"50%",marginLeft:"-100px",top:"50%",marginTop:"-100px"}};var f=p.bind({});f.args={style:{transform:"scale(4)",left:"50%",marginLeft:"-100px",top:"50%",marginTop:"-100px"},backgroundStyle:{border:"12px solid #adad44",background:"radial-gradient(#417741, #111)"},needleStyle:{":hover svg path:nth-of-type(1)":{fill:"#eded66"},":hover svg path:nth-of-type(2)":{fill:"#252f1b"},"svg path:nth-of-type(1)":{fill:"#adad44"},"svg path:nth-of-type(2)":{fill:"#1a1d15"}},rotateRightStyle:{"svg:hover path":{fill:"#ededb1"}},rotateLeftStyle:{"svg:hover path":{fill:"#ededb1"}}},d.parameters=l({storySource:{source:"(props) => <MlNavigationCompass {...props} />"}},d.parameters),f.parameters=l({storySource:{source:"(props) => <MlNavigationCompass {...props} />"}},f.parameters)},1054:function(e,t,r){"use strict";r.r(t),r.d(t,"Toolbar",(function(){return f})),r.d(t,"Overlay",(function(){return m}));var n=r(0),a=r.n(n),o=r(194),i=r(70),s=r(19),l=r(250);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={title:"MapComponents/MlScaleReference",component:o.a,argTypes:{url:{},layer:{}},decorators:s.a};t.default=d;var f=function(e){return a.a.createElement(i.a,null,a.a.createElement(o.a,e))}.bind({});f.args={show:"toolbar"};var m=function(e){var t=Object(l.a)("(max-width:900px)");return a.a.createElement("div",{style:{position:"absolute",zIndex:1e5,bottom:t?"40px":"20px",right:"20px"}},a.a.createElement(o.a,e))}.bind({});m.args={show:"overlay"},f.parameters=u({storySource:{source:"(props) => {\n\treturn (\n\t\t<TopToolbar>\n\t\t\t<MlScaleReference {...props} />\n\t\t</TopToolbar>\n\t);\n}"}},f.parameters),m.parameters=u({storySource:{source:'(props) => {\n\tconst mediaIsMobile = useMediaQuery("(max-width:900px)");\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tposition: "absolute",\n\t\t\t\tzIndex: 100000,\n\t\t\t\tbottom: mediaIsMobile ? "40px" : "20px",\n\t\t\t\tright: "20px",\n\t\t\t}}\n\t\t>\n\t\t\t<MlScaleReference {...props} />\n\t\t</div>\n\t);\n}'}},m.parameters)},1055:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return g}));var n=r(0),a=r.n(n),o=r(236),i=r(158),s=r(19),l=r(187),c=r(611),u=r.n(c),p=r(251),d=r(250);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y={title:"MapComponents/MlSpatialElevationProfile",component:o.a,argTypes:{options:{control:{type:"object"}}},decorators:s.a};t.default=y;var g=function(e){var t=Object(d.a)("(max-width:900px)");return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{style:{position:"absolute",right:"5px",bottom:t?"145px":"125px",backgroundColor:"rgba(255,255,255,1)",zIndex:1e3},title:"Download sample-data",size:"large",href:"assets/sample.gpx",target:"blank"},a.a.createElement(u.a,null)),a.a.createElement(l.a,null,a.a.createElement(i.a,null),a.a.createElement(o.a,null)))}.bind({});g.parameters={},g.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:'(args) => {\n\n\tconst mediaIsMobile = useMediaQuery("(max-width:900px)");\n\n\treturn(\n\t<>\n\t\t<IconButton\n\t\t\tstyle={{\n\t\t\t\tposition: "absolute",\n\t\t\t\tright: "5px",\n\t\t\t\tbottom: mediaIsMobile ? "145px" : "125px",\n\t\t\t\tbackgroundColor: "rgba(255,255,255,1)",\n\n\t\t\t\tzIndex: 1000,\n\t\t\t}}\n\t\t\ttitle="Download sample-data"\n\t\t\tsize="large"\n\t\t\thref="assets/sample.gpx"\n\t\t\ttarget="blank"\n\t\t>\n\t\t\t<FileDownloadIcon />\n\t\t</IconButton>\n\t\t<GeoJsonProvider>\n\t\t\t<MlGPXViewer />\n\t\t\t<MlSpatialElevationProfile />\n\t\t</GeoJsonProvider>\n\t</>\n);\n}'}},g.parameters)},1056:function(e,t,r){"use strict";r.r(t),r.d(t,"Linestring",(function(){return h}));var n=r(0),a=r.n(n),o=r(239),i=r(19),s=r(18),l=r(612),c=r(613),u=r(614);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}console.log(u);var g={title:"MapComponents/MlTransitionGeoJsonLayer",component:o.a,argTypes:{url:{},layer:{}},decorators:i.a};t.default=g;var h=function(e){var t=Object(s.a)({mapId:"map_1"}),r=m(Object(n.useState)(l),2),i=r[0],u=r[1],p=Object(n.useRef)(!1);return Object(n.useEffect)((function(){t.map&&!p.current&&(console.log("Hello"),p.current=!0,t.map.setCenter({lng:7.137609868988648,lat:50.74746799549129}),t.map.setZoom(9.5),setTimeout((function(){u(c)}),4e3))}),[i,t.map]),a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,f({type:"line",geojson:i,transitionTime:2e3},e)))}.bind({});h.parameters={},h.args={paint:{"line-color":"red","line-width":4}},h.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(props) => {\n\tconst mapHook = useMap({mapId: 'map_1'});\n\tconst [geojson, setGeojson] = useState(sample_geojson_1);\n\tconst initializedRef = useRef(false);\n\n\tuseEffect(() => {\n\t\tif (!mapHook.map || initializedRef.current) return;\n\n\t\tconsole.log('Hello')\n\t\tinitializedRef.current = true;\n\t\tmapHook.map.setCenter({ lng: 7.137609868988648, lat: 50.74746799549129 });\n\t\tmapHook.map.setZoom(9.5);\n\n\t\tsetTimeout(() => {\n\t\t\tsetGeojson(sample_geojson_2);\n\t\t}, 4000);\n\t}, [geojson, mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t<MlTransitionGeoJsonLayer type=\"line\" geojson={geojson} transitionTime={2000} {...props} />\n\t\t</>\n\t);\n}"}},h.parameters)},1057:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return p}));var n=r(0),a=r.n(n),o=r(233),i=r(70),s=r(19);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={title:"MapComponents/MlVectorTileLayer",component:o.a,argTypes:{url:{},layer:{}},decorators:s.a};t.default=u;var p=function(e){return a.a.createElement(i.a,null,a.a.createElement(o.a,e))}.bind({});p.parameters={},p.args={mapId:"map_1",url:"https://wms.wheregroup.com/tileserver/tile/tileserver.php?/europe-0-14/index.json?/europe-0-14/{z}/{x}/{y}.pbf",layers:{landuseLine:{"source-layer":"landuse",layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":2,"line-color":"#ff0000"}}},sourceOptions:{minzoom:0,maxzoom:20}},p.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(args) => (\n\t<TopToolbar>\n\t\t<MlVectorTileLayer {...args} />\n\t</TopToolbar>\n)"}},p.parameters)},1058:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return y}));var n=r(0),a=r.n(n),o=r(79),i=r(70),s=r(128),l=r(19);r(1059);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m={title:"MapComponents/MlWmsLayer",component:o.a,argTypes:{url:{},layer:{}},decorators:l.a};t.default=m;var y=function(e){var t=d(Object(n.useState)(!0),2),r=t[0],l=t[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,null,a.a.createElement(s.a,{color:"primary",variant:r?"contained":"outlined",onClick:function(){return l(!r)}},"WMS")),a.a.createElement(o.a,p({visible:r},e)))}.bind({});y.parameters={},y.args={url:"https://www.wms.nrw.de/geobasis/wms_nw_uraufnahme",urlParameters:{layers:"nw_uraufnahme_rw"}},y.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:'(props) => {\n\tconst [showLayer, setShowLayer] = useState(true);\n\n\treturn (\n\t\t<>\n\t\t\t<TopToolbar>\n\t\t\t\t<Button\n\t\t\t\t\tcolor="primary"\n\t\t\t\t\tvariant={showLayer ? "contained" : "outlined"}\n\t\t\t\t\tonClick={() => setShowLayer(!showLayer)}\n\t\t\t\t>\n\t\t\t\t\tWMS\n\t\t\t\t</Button>\n\t\t\t</TopToolbar>\n\t\t\t<MlWmsLayer visible={showLayer} {...props} />\n\t\t</>\n\t);\n}'}},y.parameters)},1059:function(e,t,r){var n=r(120),a=r(1060);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},1060:function(e,t,r){(t=r(121)(!1)).push([e.i,"/**\n * #root {\n  background-color: #000;\n  position: absolute;\n  min-height: 400px;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.docs-story {\n  min-height: 400px;\n  display: flex;\n  align-items: stretch;\n}\n.docs-story > div:first-child {\n  width: 100%;\n}\n.MuiToolbar-root .MuiButtonBase-root {\n  margin-right: 8px;\n}\n\n.App {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.mapContainer {\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 100;\n}\n\n.overlay {\n  width: 100%;\n  display: inline-flex;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: transparent;\n  z-index: 1 !important;\n  padding-top: 1rem;\n  padding-left: 1rem;\n}\n.MuiToolbar-root .MuiButtonBase-root {\n  margin-right: 8px;\n}\n*/\n",""]),e.exports=t},1061:function(e,t,r){"use strict";r.r(t),r.d(t,"ViewportOnly",(function(){return d})),r.d(t,"IncludeBaseLayers",(function(){return f})),r.d(t,"MatchLayerIdString",(function(){return m})),r.d(t,"MatchLayerIdRegexp",(function(){return y})),r.d(t,"NonBaseLayersOnly",(function(){return g}));var n=r(0),a=r.n(n),o=r(52),i=r(320);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={title:"Hooks/UseMapState",component:o.a,argTypes:{},decorators:i.a};t.default=u;var p=function(e){var t=Object(o.a)(l({},e));return Object(n.useEffect)((function(){}),[t.layers]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{position:"fixed",zIndex:1e4,display:"flex",flexWrap:"wrap",top:0,left:0,right:0,bottom:0,maxHeight:"100VH",backgroundColor:"rgba(80,80,80,.8)",padding:"50px",fontSize:"20px",color:"#51ff09",overflow:"hidden",pointerEvents:"none"}},a.a.createElement("pre",null,JSON.stringify(t,null,"\t"))))},d=p.bind({});d.parameters={},d.args={mapId:"map_1",watch:{viewport:!0,layers:!1,sources:!1}};var f=p.bind({});f.parameters={},f.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!0}};var m=p.bind({});m.parameters={},m.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!0,matchLayerIds:"water"}};var y=p.bind({});y.parameters={},y.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!0,matchLayerIds:/water/}};var g=p.bind({});g.parameters={},g.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!1}},d.parameters=l({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},d.parameters),f.parameters=l({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},f.parameters),m.parameters=l({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},m.parameters),y.parameters=l({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},y.parameters),g.parameters=l({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},g.parameters)},1062:function(e,t,r){"use strict";r.r(t),r.d(t,"useGeojsonSourceExample",(function(){return O})),r.d(t,"useVectorSourceExample",(function(){return j})),r.d(t,"useRasterSourceExample",(function(){return w})),r.d(t,"removeSourceExample",(function(){return I}));var n=r(165),a=r(0),o=r.n(a),i=r(18),s=r(52),l=r(78),c=r(70),u=r(128),p=r(243),d=r(320),f=r(615);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v={title:"Hooks/UseSource",component:n.a,argTypes:{},decorators:d.a};t.default=v;var O=function(e){var t=Object(n.a)(h({},e)).source;return Object(l.a)({mapId:e.mapId,layerId:"layer1",source:null!=t&&t.id?t.id:"",options:{type:"circle",paint:{"circle-radius":6,"circle-color":"red"}}}),Object(l.a)({mapId:e.mapId,layerId:"layer2",source:null!=t&&t.id?t.id:"",options:{type:"circle",paint:{"circle-radius":4,"circle-color":"green"}}}),o.a.createElement(o.a.Fragment,null)}.bind({});O.args={mapId:"map_1",sourceId:"geojson-source",source:{type:"geojson",data:f}};var j=function(e){Object(n.a)(h({},e));var t=Object(i.a)({mapId:e.mapId});return Object(a.useEffect)((function(){t.map&&(t.map.addLayer({id:"vector-lineLayer",type:"line",source:e.sourceId,minzoom:0,maxzoom:22,"source-layer":"landuse",layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":2,"line-color":"#ff0000"}},!1,t.componentId),t.map.addLayer({id:"vector-FillLayer",type:"fill",source:e.sourceId,minzoom:0,maxzoom:22,"source-layer":"landuse",paint:{"fill-color":"#32a850","fill-opacity":.4}},!1,t.componentId))}),[t.map]),o.a.createElement(o.a.Fragment,null)}.bind({});j.args={mapId:"map_1",sourceId:"vector-source",source:{type:"vector",tiles:["https://wms.wheregroup.com/tileserver/tile/tileserver.php?/europe-0-14/index.json?/europe-0-14/{z}/{x}/{y}.pbf"],tilesize:512,attribution:""}};var w=function(e){Object(n.a)(h({},e));var t=Object(i.a)({mapId:e.mapId});return Object(a.useEffect)((function(){t.map&&t.map.addLayer({id:"raster-wms",type:"raster",source:e.sourceId,minzoom:0,maxzoom:22},!1,t.componentId)}),[t.map]),o.a.createElement(o.a.Fragment,null)}.bind({});w.args={mapId:"map_1",sourceId:"raster-source",source:{type:"raster",tiles:["https://www.wms.nrw.de/geobasis/wms_nw_uraufnahme?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&width=256&height=256&styles=&layers=nw_uraufnahme_rw"],tilesize:256,attribution:""}};var I=function(e){var t=m(Object(a.useState)(!0),2),r=t[0],n=t[1],l=m(Object(a.useState)([]),2),d=l[0],f=l[1],y=Object(i.a)({mapId:e.mapId}),g=Object(s.a)({mapId:e.mapId,watch:{viewport:!1,layers:!0,sources:!0},filter:{includeBaseLayers:!1}});return Object(a.useEffect)((function(){y.map&&y.map.map.on("sourcedata",(function(){var e,t,r,n;null!=y&&null!==(e=y.map)&&void 0!==e&&null!==(t=e.map)&&void 0!==t&&t.style.sourceCaches&&f(Object.keys(null==y||null===(r=y.map)||void 0===r||null===(n=r.map)||void 0===n?void 0:n.style.sourceCaches))}))}),[y.map]),o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,null,o.a.createElement(u.a,{color:"primary",variant:r?"contained":"outlined",onClick:function(){return n(!r)}},"Ml GeoJsonLayer With Source JSX Active?")),r&&o.a.createElement(p.a,null),o.a.createElement("div",{style:{position:"fixed",zIndex:1e4,display:"flex",flexWrap:"wrap",top:"62px",left:0,right:0,bottom:0,maxHeight:"100VH",backgroundColor:"rgba(80,80,80,.8)",padding:"50px",fontSize:"20px",color:"#51ff09",overflow:"hidden",pointerEvents:"none"}},(null==d?void 0:d.length)>0&&o.a.createElement("div",null,"Active sources: ",o.a.createElement("br",null)," ",JSON.stringify(d,null,"  "),o.a.createElement("br",null)," ",o.a.createElement("br",null)," Active layers : ",o.a.createElement("pre",null,JSON.stringify(g,null,"  ")))))}.bind({});I.args={mapId:"map_1"},O.parameters=h({storySource:{source:"(args) => {\n\tconst { source } = useSource({ ...args });\n\n\tuseLayer({\n\t\tmapId: args.mapId,\n\t\tlayerId: 'layer1',\n\t\tsource: source?.id ? source.id : '',\n\t\toptions: {\n\t\t\ttype: 'circle',\n\t\t\tpaint: {\n\t\t\t\t'circle-radius': 6,\n\t\t\t\t'circle-color': 'red',\n\t\t\t},\n\t\t},\n\t});\n\tuseLayer({\n\t\tmapId: args.mapId,\n\t\tlayerId: 'layer2',\n\t\tsource: source?.id ? source.id : '',\n\t\toptions: {\n\t\t\ttype: 'circle',\n\t\t\tpaint: {\n\t\t\t\t'circle-radius': 4,\n\t\t\t\t'circle-color': 'green',\n\t\t\t},\n\t\t},\n\t});\n\treturn <></>;\n}"}},O.parameters),j.parameters=h({storySource:{source:"(args) => {\n\tuseSource({ ...args });\n\tconst mapHook = useMap({\n\t\tmapId: args.mapId,\n\t});\n\tuseEffect(() => {\n\t\tif (!mapHook.map) return;\n\t\tmapHook.map.addLayer(\n\t\t\t{\n\t\t\t\tid: 'vector-lineLayer',\n\t\t\t\ttype: 'line',\n\t\t\t\tsource: args.sourceId,\n\t\t\t\tminzoom: 0,\n\t\t\t\tmaxzoom: 22,\n\t\t\t\t'source-layer': 'landuse',\n\t\t\t\tlayout: {\n\t\t\t\t\t'line-cap': 'round',\n\t\t\t\t\t'line-join': 'round',\n\t\t\t\t},\n\t\t\t\tpaint: { 'line-width': 2, 'line-color': '#ff0000' },\n\t\t\t},\n\t\t\tfalse,\n\t\t\tmapHook.componentId\n\t\t);\n\t\tmapHook.map.addLayer(\n\t\t\t{\n\t\t\t\tid: 'vector-FillLayer',\n\t\t\t\ttype: 'fill',\n\t\t\t\tsource: args.sourceId,\n\t\t\t\tminzoom: 0,\n\t\t\t\tmaxzoom: 22,\n\t\t\t\t'source-layer': 'landuse',\n\t\t\t\tpaint: {\n\t\t\t\t\t'fill-color': '#32a850',\n\t\t\t\t\t'fill-opacity': 0.4,\n\t\t\t\t},\n\t\t\t},\n\t\t\tfalse,\n\t\t\tmapHook.componentId\n\t\t);\n\t}, [mapHook.map]);\n\treturn <></>;\n}"}},j.parameters),w.parameters=h({storySource:{source:"(args) => {\n\tuseSource({ ...args });\n\tconst mapHook = useMap({\n\t\tmapId: args.mapId,\n\t});\n\tuseEffect(() => {\n\t\tif (!mapHook.map) return;\n\t\tmapHook.map.addLayer(\n\t\t\t{\n\t\t\t\tid: 'raster-wms',\n\t\t\t\ttype: 'raster',\n\t\t\t\tsource: args.sourceId,\n\t\t\t\tminzoom: 0,\n\t\t\t\tmaxzoom: 22,\n\t\t\t},\n\t\t\tfalse,\n\t\t\tmapHook.componentId\n\t\t);\n\t}, [mapHook.map]);\n\treturn <></>;\n}"}},w.parameters),I.parameters=h({storySource:{source:"(args) => {\n\tconst [sourceStatus, setSourceStatus] = useState(true);\n\tconst [activeSources, setActiveSources] = useState([]);\n\tconst mapHook = useMap({\n\t\tmapId: args.mapId,\n\t});\n\n\tconst mapState = useMapState({\n\t\tmapId: args.mapId,\n\t\twatch: {\n\t\t\tviewport: false,\n\t\t\tlayers: true,\n\t\t\tsources: true,\n\t\t},\n\t\tfilter: {\n\t\t\tincludeBaseLayers: false,\n\t\t},\n\t});\n\n\tuseEffect(() => {\n\t\tif (!mapHook.map) {\n\t\t\treturn;\n\t\t}\n\n\t\tmapHook.map.map.on('sourcedata', () => {\n\t\t\tif (mapHook?.map?.map?.style.sourceCaches) {\n\t\t\t\tsetActiveSources(Object.keys(mapHook?.map?.map?.style.sourceCaches));\n\t\t\t}\n\t\t});\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t<TopToolbar>\n\t\t\t\t<Button\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tvariant={sourceStatus ? 'contained' : 'outlined'}\n\t\t\t\t\tonClick={() => setSourceStatus(!sourceStatus)}\n\t\t\t\t>\n\t\t\t\t\tMl GeoJsonLayer With Source JSX Active?\n\t\t\t\t</Button>\n\t\t\t</TopToolbar>\n\t\t\t{sourceStatus && <MlGeojsonLayerWithSource></MlGeojsonLayerWithSource>}\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tflexWrap: 'wrap',\n\t\t\t\t\ttop: '62px',\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight: '100VH',\n\t\t\t\t\tbackgroundColor: 'rgba(80,80,80,.8)',\n\t\t\t\t\tpadding: '50px',\n\t\t\t\t\tfontSize: '20px',\n\t\t\t\t\tcolor: '#51ff09',\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{activeSources?.length > 0 && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\tActive sources: <br></br> {JSON.stringify(activeSources, null, '  ')}\n\t\t\t\t\t\t<br></br> <br></br> Active layers : {}\n\t\t\t\t\t\t<pre>{JSON.stringify(mapState, null, '  ')}</pre>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}"}},I.parameters)},1064:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return le}));var n=r(0),a=r.n(n),o=r(45),i=r(28),s=r(18),l=r(52),c={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},u=Object.keys(c);var p=function(e){var t=Object(l.a)({mapId:e.mapId,watch:{layers:!0}}),r=Object(s.a)({mapId:e.mapId});return Object(n.useEffect)((function(){if(!r.map)return!0;if((void 0===e.condition||!1!==e.condition)&&r.map.map.getLayer(e.layerId)){var t=e.event,n=e.layerId,a=e.eventHandler;return r.map.on(t,n,a,r.componentId),!0===(null==e?void 0:e.addTouchEvents)&&-1!==u.indexOf(t)&&r.map.on(c[t],n,a,r.componentId),function(){r.map.off(t,n,a),!0===(null==e?void 0:e.addTouchEvents)&&-1!==u.indexOf(t)&&r.map.off(c[t],n,a,r.componentId)}}}),[e,t,r.map]),{}},d={A4:{"300dpi":{width:2480,height:3508},"150dpi":{width:1240,height:1754},"72dpi":{width:595,height:842}},A3:{"300dpi":{width:3505,height:4961},"150dpi":{width:1754,height:2480},"72dpi":{width:842,height:1191}},A2:{"300dpi":{width:4961,height:7016},"150dpi":{width:2480,height:3508},"72dpi":{width:1191,height:1684}},A1:{"300dpi":{width:7016,height:9933},"150dpi":{width:3508,height:4967},"72dpi":{width:1684,height:2384}},A0:{"300dpi":{width:9933,height:14043},"150dpi":{width:4967,height:7022},"72dpi":{width:2384,height:3370}}};function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=a.a.createContext({}),g=d.A4["72dpi"],h=function(e){var t=e.children,r=f(Object(n.useState)("A4"),2),o=r[0],i=r[1],s=f(Object(n.useState)("72dpi"),2),l=s[0],c=s[1],u=f(Object(n.useState)("portrait"),2),p=u[0],m=u[1],h=Object(n.useRef)(),b=Object(n.useMemo)((function(){return void 0!==d[o][l]?"portrait"===p?d[o][l]:{width:d[o][l].height,height:d[o][l].width}:g}),[o,l,p]),v={format:o,setFormat:i,quality:l,setQuality:c,orientation:p,setOrientation:m,geojsonRef:h,template:b};return a.a.createElement(y.Provider,{value:v},t)},b=y;try{h.displayName="PdfContextProvider",h.__docgenInfo={description:"",displayName:"PdfContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlCreatePdfForm/lib/PdfContext.tsx#PdfContextProvider"]={docgenInfo:h.__docgenInfo,name:"PdfContextProvider",path:"src/components/MlCreatePdfForm/lib/PdfContext.tsx#PdfContextProvider"})}catch(e){}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e,t){var r,n="portrait"===t?-35.3:-54.7,a="portrait"===t?144.7:125.3,o=i.destination([e.center.lng,e.center.lat],e.distance,n),s=i.destination([e.center.lng,e.center.lat],e.distance,a),l=[o.geometry.coordinates[0],o.geometry.coordinates[1],s.geometry.coordinates[0],s.geometry.coordinates[1]],c=i.bboxPolygon(l);return null!==(r=c=i.transformRotate(c,e.bearing))&&void 0!==r&&r.properties||(c.properties={}),c.properties.bearing=e.bearing,c};function w(e){var t,r=Object(n.useContext)(b),l=Object(n.useRef)(!1),c=Object(n.useRef)(),u=Object(n.useRef)(!1),d=Object(n.useRef)(!1),f=Object(n.useRef)(!1),m=v(Object(n.useState)({center:{lng:0,lat:0},distance:10,bearing:0,geojson:void 0}),2),y=m[0],g=m[1],h=Object(s.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer});return Object(n.useEffect)((function(){if(h.map&&r.geojsonRef&&r.orientation&&r.template&&!l.current){l.current=!0;var e=h.map.map.getCenter(),t=h.map.map._canvas.height,n=h.map.map._canvas.width,a=Math.ceil(t/2),o=Math.ceil(r.template.width/r.template.height*a),s=h.map.map.unproject([Math.floor(n/2-o/2),Math.floor(t/2-a/2)]),c=i.distance([e.lng,e.lat],[s.lng,s.lat]),u={center:e,distance:c,bearing:0,geojson:j({center:e,distance:c,bearing:0},r.orientation)};g(u),r.geojsonRef.current=u.geojson}}),[h.map]),Object(n.useEffect)((function(){if(r.orientation&&r.geojsonRef){var e=JSON.parse(JSON.stringify(y));e.geojson=j(e,r.orientation),g(e),r.geojsonRef.current=e.geojson}}),[r.orientation]),p({event:"mouseenter",layerId:"pdfPreviewGeojsonResizeHandle",eventHandler:function(){h.map&&(h.map.map._canvas.style.cursor="nwse-resize",h.map.map.dragPan.disable())}}),p({event:"mouseleave",layerId:"pdfPreviewGeojsonResizeHandle",eventHandler:function(){h.map&&(h.map.map._canvas.style.cursor="",h.map.map.dragPan.enable())}}),p({event:"mousedown",layerId:"pdfPreviewGeojsonResizeHandle",addTouchEvents:!0,eventHandler:function(e){function t(e){if(r.geojsonRef&&d.current&&r.orientation){var t=JSON.parse(JSON.stringify(y)),n=i.distance([t.center.lng,t.center.lat],[e.lngLat.lng,e.lngLat.lat]);n>60&&(n=60),t.distance=n,t.geojson=j(t,r.orientation),r.geojsonRef.current=t.geojson,g(t)}}function n(){d.current&&h.map&&(h.map.map._canvas.style.cursor="",d.current=!1,h.map.map.dragPan.enable(),h.map.map.off("mousemove",t),h.map.map.off("touchmove",t))}e.preventDefault(),h.map&&(u.current=!1,f.current=!1,d.current=!0,h.map.map._canvas.style.cursor="move",h.map.map.on("mousemove",t),h.map.map.on("touchmove",t),h.map.map.once("mouseup",n),h.map.map.once("touchend",n))}}),p({event:"mouseenter",layerId:"pdfPreviewGeojsonRotationHandle",eventHandler:function(){h.map&&(h.map.map._canvas.style.cursor="nwse-resize",h.map.map.dragPan.disable())}}),p({event:"mouseleave",layerId:"pdfPreviewGeojsonRotationHandle",eventHandler:function(){h.map&&(h.map.map._canvas.style.cursor="",h.map.map.dragPan.enable())}}),p({event:"mousedown",layerId:"pdfPreviewGeojsonRotationHandle",addTouchEvents:!0,eventHandler:function(e){function t(e){if(e.preventDefault(),f.current&&r.orientation&&r.geojsonRef){var t=JSON.parse(JSON.stringify(y)),n=i.bearing([t.center.lng,t.center.lat],[e.lngLat.lng,e.lngLat.lat]);t.bearing=144.7+n,t.geojson=j(t,r.orientation),r.geojsonRef.current=t.geojson,g(t)}}function n(){f.current&&h.map&&(h.map.map._canvas.style.cursor="",f.current=!1,h.map.map.dragPan.enable(),h.map.map.off("mousemove",t),h.map.map.off("touchmove",t))}e.preventDefault(),h.map&&r.orientation&&(u.current=!1,d.current=!1,f.current=!0,h.map.map._canvas.style.cursor="move",h.map.map.on("mousemove",t),h.map.map.on("touchmove",t),h.map.map.once("mouseup",n),h.map.map.once("touchend",n))}}),p({event:"mouseenter",layerId:"pdfPreviewGeojson",eventHandler:function(e){var t;h.map&&null!=e&&null!==(t=e.features)&&void 0!==t&&t.length&&(h.map.map._canvas.style.cursor="move",c.current=e.features[0])}}),p({event:"mouseleave",layerId:"pdfPreviewGeojson",eventHandler:function(){h.map&&(h.map.map._canvas.style.cursor="",h.map.map.dragPan.enable(),c.current=void 0)}}),p({event:"mousedown",addTouchEvents:!0,layerId:"pdfPreviewGeojson",eventHandler:function(e){function t(e){if(e.preventDefault(),console.log("Hallo"),u.current&&r.geojsonRef&&r.orientation){var t=JSON.parse(JSON.stringify(y));t.center=e.lngLat,t.geojson=j(t,r.orientation),r.geojsonRef.current=t.geojson,g(t)}}function n(){u.current&&h.map&&(h.map.map._canvas.style.cursor="",u.current=!1,h.map.map.dragPan.enable(),h.map.map.off("mousemove",t),h.map.map.off("touchmove",t))}e.preventDefault(),console.log("mousedown"),h.map&&(d.current=!1,f.current=!1,u.current=!0,h.map.map._canvas.style.cursor="move",h.map.map.on("mousemove",t),h.map.map.on("touchmove",t),h.map.map.once("mouseup",n),h.map.map.once("touchend",n))}}),a.a.createElement(a.a.Fragment,null,(null==y||null===(t=y.geojson)||void 0===t?void 0:t.bbox)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,{paint:{"line-color":"#616161","line-width":4},type:"line",layerId:"pdfPreviewGeojsonOutline",geojson:y.geojson}),a.a.createElement(o.a,{paint:{"fill-opacity":0},type:"fill",layerId:"pdfPreviewGeojson",geojson:y.geojson}),a.a.createElement(o.a,{layerId:"pdfPreviewGeojsonResizeHandle",paint:{"circle-radius":10,"circle-color":"#1976d2","circle-stroke-width":2,"circle-stroke-color":"#ffffff"},geojson:{type:"Feature",geometry:{type:"Point",coordinates:y.geojson.geometry.coordinates[0][2]},properties:{}}}),a.a.createElement(o.a,{layerId:"pdfPreviewGeojsonRotationHandle",paint:{"circle-radius":10,"circle-color":"#86dd71","circle-stroke-width":2,"circle-stroke-color":"#ffffff"},geojson:{type:"Feature",geometry:{type:"Point",coordinates:y.geojson.geometry.coordinates[0][3]},properties:{}}})))}try{w.displayName="PdfPreview",w.__docgenInfo={description:"",displayName:"PdfPreview",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlCreatePdfForm/lib/PdfPreview.tsx#PdfPreview"]={docgenInfo:w.__docgenInfo,name:"PdfPreview",path:"src/components/MlCreatePdfForm/lib/PdfPreview.tsx#PdfPreview"})}catch(e){}var I=r(1177),x=r(1178),S=r(621),C=r(330),M=r(1163),E=r(1172),P=r(1181),A=r(1166),L=r(128),H=r(108),k=r(310);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=function(e){var t=e.width,r=e.height,n=document.createElement("div");n.className="hidden-map",document.body.appendChild(n);var a=document.createElement("div");a.style.width=t+"px",a.style.height=r+"px",n.appendChild(a);var o=e.map.map.getStyle(),s=function(e){var t=o.sources[e];Object.keys(t).forEach((function(e){t[e]||delete t[e]}))};for(var l in o.sources)s(l);var c=new H.Map({container:a,center:e.map.map.getCenter(),zoom:e.map.map.getZoom(),bearing:0,pitch:0,interactive:!1,preserveDrawingBuffer:!0,fadeDuration:0,attributionControl:!1,style:o}),u=i.bboxPolygon([e.bbox[0],e.bbox[1],e.bbox[2],e.bbox[3]]);u=i.transformRotate(u,e.bearing);var p=c._cameraForBoxAndBearing([e.bboxUnrotated[0],e.bboxUnrotated[1]],[e.bboxUnrotated[2],e.bboxUnrotated[3]],0),d=c._cameraForBoxAndBearing(u.geometry.coordinates[0][0],u.geometry.coordinates[0][2],e.bearing);return d.zoom=p.zoom,c._fitInternal(d),new Promise((function(t){c.once("idle",(function(){var r=R(R({},e),{},{renderMap:c,hiddenContainer:n,createPdf:function(t){return function(e){var t=new k.a({orientation:"portrait"===(null==e?void 0:e.orientation)?"p":"l",unit:"mm",compress:!0,format:e.format});return Object.defineProperty(window,"devicePixelRatio",{get:function(){return 3.125}}),new Promise((function(r){var n;t.addImage(e.renderMap.getCanvas().toDataURL("image/png"),"png",0,0,t.internal.pageSize.getWidth(),t.internal.pageSize.getHeight(),void 0,"FAST"),e.renderMap.remove(),null===(n=e.hiddenContainer.parentNode)||void 0===n||n.removeChild(e.hiddenContainer);var a=R(R({},e),{},{pdf:t,downloadPdf:function(e){return function(e){return e.pdf.save("Map.pdf"),new Promise((function(t){t(R({},e))}))}(R(R({},a),e))}});r(a)}))}(R(R({},e),{},{renderMap:c,hiddenContainer:n},t))}});t(r)}))}))};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){var t=Object(s.a)({mapId:e.mapId});return{createExport:Object(n.useMemo)((function(){if(t.map)return function(e){return D(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({map:t.map},e))}}),[t.map])}}var B=[{value:"72dpi",label:"Draft (72dpi)"},{value:"150dpi",label:"Medium (150dpi)"},{value:"300dpi",label:"High (300dpi)"}];function U(e){var t=Object(n.useContext)(b),r=Object(s.a)({mapId:e.mapId}),o=F({mapId:e.mapId}),l=Object(n.useCallback)((function(){var n,a,s;if(r.map&&o.createExport&&t.template&&t.format&&t.orientation&&null!==(n=t.geojsonRef)&&void 0!==n&&null!==(a=n.current)&&void 0!==a&&a.bbox&&null!==(s=t.geojsonRef)&&void 0!==s&&s.current){var l,c,u=i.bbox(t.geojsonRef.current);o.createExport({width:t.template.width,height:t.template.height,bbox:u,bboxUnrotated:t.geojsonRef.current.bbox,bearing:(null===(l=t.geojsonRef.current)||void 0===l||null===(c=l.properties)||void 0===c?void 0:c.bearing)||0,format:t.format.toLowerCase(),orientation:t.orientation}).then((function(e){return e.createPdf()})).then((function(t){return"function"==typeof e.onCreatePdf&&e.onCreatePdf(t),t.downloadPdf()})).catch((function(e){console.log(e)}))}}),[r.map,t]),c=Object(n.useMemo)((function(){return{margin:"5px 0 15px 0 "}}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(I.a,{fullWidth:!0,sx:c},a.a.createElement(x.a,{id:"format-select-label"},"Format"),a.a.createElement(S.a,{labelId:"format-select-label",id:"format-select",label:"Format",value:t.format,onChange:function(e){var r;null===(r=t.setFormat)||void 0===r||r.call(t,e.target.value)}},Object.keys(d).map((function(e){return a.a.createElement(C.a,{key:e,value:e},e)})))),a.a.createElement(I.a,{fullWidth:!0,sx:c},a.a.createElement(M.a,{id:"orientation-radio-buttons-group-label"},"Orientation"),a.a.createElement(E.a,{row:!0,"aria-labelledby":"orientation-radio-buttons-group-label",name:"orientation-radio-buttons-group",value:t.orientation,onChange:function(e){var r;null===(r=t.setOrientation)||void 0===r||r.call(t,e.target.value)}},a.a.createElement(P.a,{value:"portrait",control:a.a.createElement(A.a,null),label:"Portrait"}),a.a.createElement(P.a,{value:"landscape",control:a.a.createElement(A.a,null),label:"Landscape"}))),a.a.createElement(I.a,{fullWidth:!0,sx:c},a.a.createElement(x.a,{id:"quality-select-label"},"Quality"),a.a.createElement(S.a,{labelId:"quality-select-label",id:"quality-select",label:"Qualitt",value:t.quality,onChange:function(e){var r;null===(r=t.setQuality)||void 0===r||r.call(t,e.target.value)}},B.map((function(e){return a.a.createElement(C.a,{key:e.value,value:e.value},e.label)})))),a.a.createElement(I.a,{fullWidth:!0,sx:c},a.a.createElement(L.a,{variant:"contained",onClick:l},"PDF erstellen")))}try{U.displayName="PdfForm",U.__docgenInfo={description:"",displayName:"PdfForm",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},onCreatePdf:{defaultValue:null,description:"",name:"onCreatePdf",required:!1,type:{name:"((options: createPdfResolverParams) => createPdfResolverParams) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlCreatePdfForm/lib/PdfForm.tsx#PdfForm"]={docgenInfo:U.__docgenInfo,name:"PdfForm",path:"src/components/MlCreatePdfForm/lib/PdfForm.tsx#PdfForm"})}catch(e){}var z=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(h,null,a.a.createElement(U,e),a.a.createElement(w,null)))};z.defaultProps={mapId:void 0};var W=z;try{z.displayName="MlCreatePdfForm",z.__docgenInfo={description:"Create PDF Form Component",displayName:"MlCreatePdfForm",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},formControlStyles:{defaultValue:null,description:"",name:"formControlStyles",required:!1,type:{name:"SxProps<{}> | undefined"}},onCreatePdf:{defaultValue:null,description:"",name:"onCreatePdf",required:!1,type:{name:"((options: createPdfResolverParams) => createPdfResolverParams) | undefined"}},excludeLayerIds:{defaultValue:null,description:"",name:"excludeLayerIds",required:!1,type:{name:"string[] | undefined"}},includeLayerIds:{defaultValue:null,description:"",name:"includeLayerIds",required:!1,type:{name:"string[] | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlCreatePdfForm/MlCreatePdfForm.tsx#MlCreatePdfForm"]={docgenInfo:z.__docgenInfo,name:"MlCreatePdfForm",path:"src/components/MlCreatePdfForm/MlCreatePdfForm.tsx#MlCreatePdfForm"})}catch(e){}var V=r(1174),Z=r(1175),J=r(1164),Y=r(1102),q=r(589),X=r.n(q),K=r(70),Q=r(19);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oe=function(e){return a.a.createElement(X.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},a.a.createElement(Y.a,e))},ie=function(e){var t=e.title,r=e.children;return a.a.createElement(V.a,{open:!0,hideBackdrop:!0,PaperComponent:oe,"aria-labelledby":"draggable-dialog-title",sx:{justifyContent:"flex-start",maxWidth:"300px"}},a.a.createElement(J.a,{style:{cursor:"move"},id:"draggable-dialog-title"},t),a.a.createElement(Z.a,null,r))},se={title:"MapComponents/MlCreatePdfForm",component:W,argTypes:{},decorators:Q.a},le=(t.default=se,function(){var e=re(Object(n.useState)(!1),2),t=e[0],r=e[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(K.a,null,a.a.createElement(L.a,{variant:"contained",onClick:function(){return r(!0)}},"PDF")),t&&a.a.createElement(ie,{title:"Create PDF"},a.a.createElement(W,{onCreatePdf:function(e){var t=e.pdf,r="".split(","),n=[];n.length&&r.forEach((function(e){var t=e.match(/.{1,34}/g);t&&n.push.apply(n,te(t))})),t.setFillColor("white");var a=3.25*n.length+3+3+6.5+4+1;return t.rect(2.5,2,66.5,a,"F"),t.setFontSize(10),t.text("Map PDF:",6,5.5),t.rect(6,7,60,3.25*n.length+4+1),t.setFontSize(10),n.forEach((function(e,r){t.text(e.trim(),8,10+3.5*r+2)})),t.addImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAACxCAMAAABnTAbVAAAC8VBMVEUAAAD/AACAAACqAFW/AECZMzOqK1W2JEm/IECqHDmzGk25F0aqFUCxJzu2JEmqIkSvIEC0HjyqHEeuG0OzGkC2GD2uI0axIUO1IECtHz2xHUWzHEKtG0CwGj6zIkS1IUKyHz60HkSvHUKxHECzHD6uG0OxIUGzIECuHz6wHkOyHkG0HUCwHD6xHEOzIUGvIECxHz6zH0KvHkGxHUCyHT+vHEKwHEGyIECzHz+wH0KxHkGzHkCwHT+xHUKyHEGvIECxHz+yH0KzHkGwHkCxHj+zHUKwHUGxHECyHz+wH0GxH0GyHkCwHj+xHUGyHUGzHUCwHz+xH0GyH0GwHkCxHj+yHkGwHUCxHUCyHT+wH0GxH0CxHkCyHj+wHkGxHkCyHUCwHT+xH0GyH0CwH0CxHj+yHkGwHkCxHUCxHT+yHUGwH0CxH0CyHj+wHkGxHkCyHkCwHT+xHUGxH0CyH0CxHz+xHkGyHkCwHkCxHj+yHUGwHUCxH0CwHkGxHkCxHkCyHj+xHUGxHUCyH0CwHz+xHkGyHkCwHkCxHj+xHkGwHUCxHUCxHz+yH0GxHkCyHj+wHkGxHUCxHUCwHz+xH0GxHkCyHkCxHj+xHkGyHkCxHUCxHT+yH0GwHkCxHkCxHj+wHkGxHkCxHkCyHT+xH0GxH0CyHkCxHj+xHkGxHkCwHkCxHT+xHUCwH0CxHkCxHj+yHkCxHkCxHkCyHj+xHUCxH0CxHkCwHj+xHkCxHkCwHkCxHj+xHkCyHUCxH0CxHj+xHkCxHkCxHkCxHj+wHkCxHUCxH0CyHj+xHkCxHkCyHkCxHj+xHkCxHUCxHz+xHkCwHkCxHkCxHj+yHkCxHkCxHkCxHkCxHkCxHkCxHj+xHkCwHkCxHT+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xH0CxHkCxHkCyHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkD///9g21WfAAAA+XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyEiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fn+AgYKDhIWGh4iJiouMjY6PkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc/Q0dLT1NXW19ja29zd3uDh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7v1AMKAAAAAWJLR0T61W0GSgAACWZJREFUGBnVwXlAVHUCB/DvmxkuD0QswFo3TcwzS0p01RVMpUytLKxMSVNpLUsLj7VDo7btsNTssrTMdAtWNjNbkyzF3EotwrXMI7XwAAxE5Jz5/rcaMMx782Z452/p84GV2na+ZmRqasrwxE4OtFRhI/+29SS9qn/86PGUKLQ4CW+X0p/n+xeTnGhB4v/NgIpXj3aihZhRyaCOPNYRwrW+KwkKmWxWTVYfiBRy49qzxW0hN5FaeLLiIUrv5UUkl0Au9iy1qXk1BgJIIzZ7eMG1kHuBmpVMkWCz0LQC1itzQkb6hTpsiYOdQmcfZ6M8yPWmLoWDYBsp9SCbZENuDPWpmgKbJO+mr9WQm0y95sEO8Zso9z7k7qJuj8JyzofPUeFjyA2nfvfDYl23089eyPWkfrXDYCXXI1X0Vy5BxllC/U50hHU676aqbpDLogEfoEFUR5g0qoTqJkJuAo0YjQZPpcIMab6bAayBXMgxGrDfiXrhBVnRMOyiTxhQkQtyGTTidjS4quZIEgzqfYRBjIFc2Pc0YCcaLWbdXyUY8acSBrMBCgPqqJ+nExpEniL/FQn9hpczKHdPKCyiAfeh0SMkf+wDvSbWsBlroCCtpX6volFkOcmzqdBntofN8QyGQkQudcuF12qe554DPWZRg70hUAjNoV6fwyuFv1nuhGYT3dRiDpRCVlCnHHiFlfM3m9tCo5trqUlFX/hJO0ddFqJJLut9HQ1NrquiRoc7wM/V31GPa9DkGTbIvwga9C+nZrlO+Al9opqabYWPqWy0NwbNuvQEdXgJKuI/oEaVfeFjFL32xaEZYV+yQeWBbVlZq15f9sp7W/YcrmYAS6AmOY9aeCbA13Vssv8SBPcazzuaPS/5Yvhy9bhtYfZxqlgiQU3SFg+bUzUJMtfTR0EUgpnK2s/n9oQ6qe+cT85R6SUnVPVYXsag9iVCLo2+dkQgsKv3zI9FUBGpuR7KbY6CulZ3bqplICfmhUHhWcpsdCGgi6FB16dOUeaHeATSbtyKI/Tn2TEtAn7yKLdSgkmt55ygr9M3I4ies9fkV7PJwXVTO0HFxbVUWAjTWj10kr7eikRQIb3vSJ8//5l5aSN7RyGAJ6nkuQXmRS1108eRZJgUeZp+yvvAAoP20od7VRxMeZEqDkXDAiFPuumjLCMExo3yUM2nLljhhhL6+iHVAYO6nqK6TFii05eU2ZfmhBHdf2YA7mRYIiybcnvTwqDbgJMM6Gh7WML5JhVOPvNH6CLNqmYQ62ENaSmVatbfFArNEvIoV7Phvmti2rXukrJgazXPmw6LLKa/4uUDHdAi/h8eylQtjoNX1H355JlOsIb0PtUUrhgTgeAcoza5KfddD8hIN37LjbBI+BdUV/HJI4NCEIBr2LKjVNrcFkquhypvh0UuOsCAzm5bktYnBHLRQx/d9Cv9veeCir550bBI3yoGVXv40xWZGdNT09LTH12yZmcR1X0VDlVtR8Aqc2mBXzrCdo7PaN44CHBZKc36CELMpUk1XSBE6EGa8xYEmUBT3L0giLSLZnwIYW6iGbdCGMdhGlcaAXHm07g3IVCHczRsHER6l0bVRkGk22jUTgjVpooGPQuxttCg8RDrARp0OcTqRWPKJYjlqqQh+RBtDw1ZD9FW0pDnIdqDNCQDoo2iIVMgWiINGQvRLqchwyBaFA35M0STamjEIAh3mkYMhnClNOJ6CHeGRqRCuCoakQ7RImhIJkSLoyFvQbSraMhWiDaWhhyFaDNpiKcdBFtOYwZCsG00ZjrEkoppzGsQqzsNyodY99CgukgI9TaNSoZIUiGNWgSREmjYfyDSszSsrj3EcRyjceMgTgpNWAlx1tGEYhdEiaygGddBlIdoyisQJKKQphx3QYxZNGk0hAj7mSblQIiZNKs2DgJEn6RpcyDACpr3kwu2S3TTAnfAbq58WmEP7PYYgzq1fdXf56anT5/ycOayNZ8WMaChsNeQWgZy4NXJie0hFzciY2MF1WyDrWJ/oaritfdchgAiRr18jP5ugI0cW6jCnZsWgaAcwzd6qPCdA/Z5mv4Ozr8EGvR4pZpyE2CbSR4qHU53QaP4LA99FbaDTW6po8L+iU7oMHg3fS2DPYZVUe50uhP6uBbWsom7P+xw7RnKrYuFfgMPsUl+KKw39FfKHEqBIW3Xs8lSWC61ijKrW8Egx1I2uQ0We8BNX1WzYMIsNxuVd4eVnIspc6gfTJnkZqP/RsM6l26nTG4UTHqAXl+1gVWGn6DMhnCYlkmvz8JhidDFHsqsdMICb9BrUxtY4M97KbdMghXCvqFXwWUwq+NaKjwHi3Qto1dhf5gSOruMCu9IsMqdbFI11wnDwmcepdLmEFhnHX18PQDGtM44Tj+72sBCl5yhD88/+0G/K18sor/CWFhqDuV2psfCq/UMNCdm9rdUU5cMa4V8TwVP/uszRicmJAyZ9m5ZJfCXpBAE4Lx2wWc1VLcQVhvHIN4DxrM0J2NwBBRikmdmlzCgrQ5YzbGfgaUA0k6eV1OQ8/y9qSMHJQy96e4HH389r5hBFcXBelMZ0DEngEQPdZsCG4T9zECewgUrqdcOCXZYyACqL8UFHYqoT21f2OJyD9WtQr1p1Oc52GQ3VXl6oZ6URz1OtYFNHqaqj9AovoI6LIBd/kBVQ+E1m9qVRMI2P1LFDjRx5FGzx2GfN+nPMxA+OpVQo7L2sM9k+suGzHhq9AJs1Jl+arpBbhW1uRJ2KqXSMii0LqAWu2Crb6hQGgOlrr9Sgxmw1ftUSIe/MR42q7I9bPU05bZLUPEEm5UDe02jTGU3qJHWsjn3wl7jKbMA6iK+YjO6wF430te3IQgg9hCDOgCbJdNH+RUIqMtxBvMybDaAPiYhiH5lDOJW2Kwfm7yBoJIqGFhX2CyJXgURCG74OQZS4YDNxrJR6RVozohKBrAHdpvEBjUj0LyUCqpbDbvdzwaTocWQUqqaB7stYr1MaJNQRDV3wG7v8DdrJGjU7SBVXA+7fcELPgyFZh2+oL/+sJmjjOd9HAYdWuXQzxWwWS+e92EodJEWeagQA5tNJ7khFHrdUk65cNgsh8wOhX4991GmFewVVs7nHTAiYil9tYO9Uuruh1F3n2GTONjr6dEwrnMevfrBXrEwwzGvig3GomXrvoP1HkQLJ6WV8II30OJ1XO0huQu/AwN3k5Vh+B1wpP3EIfhdCE2fhv+X/wF/AO+L9vuzfwAAAABJRU5ErkJggg==","png",5,12+3*n.length+4,3,3,void 0,"FAST"),t.setFontSize(10),t.text("wheregroup.com",40,12+3.25*n.length+4+1),t.setProperties({title:"Map export",subject:"Map export",creator:"WhereGroup GmbH",author:"(c)WhereGroup GmbH, (c)OpenStreetMap"}),e}})))}.bind({}));le.parameters={},le.args={},le.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"() => {\n\tconst [showCreatePdfForm, setShowCreatePdfForm] = useState(false);\n\n\treturn (\n\t\t<>\n\t\t\t<TopToolbar>\n\t\t\t\t<Button variant=\"contained\" onClick={() => setShowCreatePdfForm(true)}>\n\t\t\t\t\tPDF\n\t\t\t\t</Button>\n\t\t\t</TopToolbar>\n\t\t\t{showCreatePdfForm && (\n\t\t\t\t<MlDialog title=\"Create PDF\">\n\t\t\t\t\t<MlCreatePdfForm\n\t\t\t\t\t\tonCreatePdf={(options) => {\n\t\t\t\t\t\t\tconst pdf = options.pdf;\n\t\t\t\t\t\t\tconst offsetX = 2.5;\n\t\t\t\t\t\t\tconst offsetY = 2.5;\n\t\t\t\t\t\t\tconst marginTop = 3;\n\t\t\t\t\t\t\tconst marginBottom = 3;\n\t\t\t\t\t\t\tconst innerMargin = 2;\n\t\t\t\t\t\t\tconst logo =\n\t\t\t\t\t\t\t\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAACxCAMAAABnTAbVAAAC8VBMVEUAAAD/AACAAACqAFW/AECZMzOqK1W2JEm/IECqHDmzGk25F0aqFUCxJzu2JEmqIkSvIEC0HjyqHEeuG0OzGkC2GD2uI0axIUO1IECtHz2xHUWzHEKtG0CwGj6zIkS1IUKyHz60HkSvHUKxHECzHD6uG0OxIUGzIECuHz6wHkOyHkG0HUCwHD6xHEOzIUGvIECxHz6zH0KvHkGxHUCyHT+vHEKwHEGyIECzHz+wH0KxHkGzHkCwHT+xHUKyHEGvIECxHz+yH0KzHkGwHkCxHj+zHUKwHUGxHECyHz+wH0GxH0GyHkCwHj+xHUGyHUGzHUCwHz+xH0GyH0GwHkCxHj+yHkGwHUCxHUCyHT+wH0GxH0CxHkCyHj+wHkGxHkCyHUCwHT+xH0GyH0CwH0CxHj+yHkGwHkCxHUCxHT+yHUGwH0CxH0CyHj+wHkGxHkCyHkCwHT+xHUGxH0CyH0CxHz+xHkGyHkCwHkCxHj+yHUGwHUCxH0CwHkGxHkCxHkCyHj+xHUGxHUCyH0CwHz+xHkGyHkCwHkCxHj+xHkGwHUCxHUCxHz+yH0GxHkCyHj+wHkGxHUCxHUCwHz+xH0GxHkCyHkCxHj+xHkGyHkCxHUCxHT+yH0GwHkCxHkCxHj+wHkGxHkCxHkCyHT+xH0GxH0CyHkCxHj+xHkGxHkCwHkCxHT+xHUCwH0CxHkCxHj+yHkCxHkCxHkCyHj+xHUCxH0CxHkCwHj+xHkCxHkCwHkCxHj+xHkCyHUCxH0CxHj+xHkCxHkCxHkCxHj+wHkCxHUCxH0CyHj+xHkCxHkCyHkCxHj+xHkCxHUCxHz+xHkCwHkCxHkCxHj+yHkCxHkCxHkCxHkCxHkCxHkCxHj+xHkCwHkCxHT+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xH0CxHkCxHkCyHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkD///9g21WfAAAA+XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyEiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fn+AgYKDhIWGh4iJiouMjY6PkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc/Q0dLT1NXW19ja29zd3uDh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7v1AMKAAAAAWJLR0T61W0GSgAACWZJREFUGBnVwXlAVHUCB/DvmxkuD0QswFo3TcwzS0p01RVMpUytLKxMSVNpLUsLj7VDo7btsNTssrTMdAtWNjNbkyzF3EotwrXMI7XwAAxE5Jz5/rcaMMx782Z452/p84GV2na+ZmRqasrwxE4OtFRhI/+29SS9qn/86PGUKLQ4CW+X0p/n+xeTnGhB4v/NgIpXj3aihZhRyaCOPNYRwrW+KwkKmWxWTVYfiBRy49qzxW0hN5FaeLLiIUrv5UUkl0Au9iy1qXk1BgJIIzZ7eMG1kHuBmpVMkWCz0LQC1itzQkb6hTpsiYOdQmcfZ6M8yPWmLoWDYBsp9SCbZENuDPWpmgKbJO+mr9WQm0y95sEO8Zso9z7k7qJuj8JyzofPUeFjyA2nfvfDYl23089eyPWkfrXDYCXXI1X0Vy5BxllC/U50hHU676aqbpDLogEfoEFUR5g0qoTqJkJuAo0YjQZPpcIMab6bAayBXMgxGrDfiXrhBVnRMOyiTxhQkQtyGTTidjS4quZIEgzqfYRBjIFc2Pc0YCcaLWbdXyUY8acSBrMBCgPqqJ+nExpEniL/FQn9hpczKHdPKCyiAfeh0SMkf+wDvSbWsBlroCCtpX6volFkOcmzqdBntofN8QyGQkQudcuF12qe554DPWZRg70hUAjNoV6fwyuFv1nuhGYT3dRiDpRCVlCnHHiFlfM3m9tCo5trqUlFX/hJO0ddFqJJLut9HQ1NrquiRoc7wM/V31GPa9DkGTbIvwga9C+nZrlO+Al9opqabYWPqWy0NwbNuvQEdXgJKuI/oEaVfeFjFL32xaEZYV+yQeWBbVlZq15f9sp7W/YcrmYAS6AmOY9aeCbA13Vssv8SBPcazzuaPS/5Yvhy9bhtYfZxqlgiQU3SFg+bUzUJMtfTR0EUgpnK2s/n9oQ6qe+cT85R6SUnVPVYXsag9iVCLo2+dkQgsKv3zI9FUBGpuR7KbY6CulZ3bqplICfmhUHhWcpsdCGgi6FB16dOUeaHeATSbtyKI/Tn2TEtAn7yKLdSgkmt55ygr9M3I4ies9fkV7PJwXVTO0HFxbVUWAjTWj10kr7eikRQIb3vSJ8//5l5aSN7RyGAJ6nkuQXmRS1108eRZJgUeZp+yvvAAoP20od7VRxMeZEqDkXDAiFPuumjLCMExo3yUM2nLljhhhL6+iHVAYO6nqK6TFii05eU2ZfmhBHdf2YA7mRYIiybcnvTwqDbgJMM6Gh7WML5JhVOPvNH6CLNqmYQ62ENaSmVatbfFArNEvIoV7Phvmti2rXukrJgazXPmw6LLKa/4uUDHdAi/h8eylQtjoNX1H355JlOsIb0PtUUrhgTgeAcoza5KfddD8hIN37LjbBI+BdUV/HJI4NCEIBr2LKjVNrcFkquhypvh0UuOsCAzm5bktYnBHLRQx/d9Cv9veeCir550bBI3yoGVXv40xWZGdNT09LTH12yZmcR1X0VDlVtR8Aqc2mBXzrCdo7PaN44CHBZKc36CELMpUk1XSBE6EGa8xYEmUBT3L0giLSLZnwIYW6iGbdCGMdhGlcaAXHm07g3IVCHczRsHER6l0bVRkGk22jUTgjVpooGPQuxttCg8RDrARp0OcTqRWPKJYjlqqQh+RBtDw1ZD9FW0pDnIdqDNCQDoo2iIVMgWiINGQvRLqchwyBaFA35M0STamjEIAh3mkYMhnClNOJ6CHeGRqRCuCoakQ7RImhIJkSLoyFvQbSraMhWiDaWhhyFaDNpiKcdBFtOYwZCsG00ZjrEkoppzGsQqzsNyodY99CgukgI9TaNSoZIUiGNWgSREmjYfyDSszSsrj3EcRyjceMgTgpNWAlx1tGEYhdEiaygGddBlIdoyisQJKKQphx3QYxZNGk0hAj7mSblQIiZNKs2DgJEn6RpcyDACpr3kwu2S3TTAnfAbq58WmEP7PYYgzq1fdXf56anT5/ycOayNZ8WMaChsNeQWgZy4NXJie0hFzciY2MF1WyDrWJ/oaritfdchgAiRr18jP5ugI0cW6jCnZsWgaAcwzd6qPCdA/Z5mv4Ozr8EGvR4pZpyE2CbSR4qHU53QaP4LA99FbaDTW6po8L+iU7oMHg3fS2DPYZVUe50uhP6uBbWsom7P+xw7RnKrYuFfgMPsUl+KKw39FfKHEqBIW3Xs8lSWC61ijKrW8Egx1I2uQ0We8BNX1WzYMIsNxuVd4eVnIspc6gfTJnkZqP/RsM6l26nTG4UTHqAXl+1gVWGn6DMhnCYlkmvz8JhidDFHsqsdMICb9BrUxtY4M97KbdMghXCvqFXwWUwq+NaKjwHi3Qto1dhf5gSOruMCu9IsMqdbFI11wnDwmcepdLmEFhnHX18PQDGtM44Tj+72sBCl5yhD88/+0G/K18sor/CWFhqDuV2psfCq/UMNCdm9rdUU5cMa4V8TwVP/uszRicmJAyZ9m5ZJfCXpBAE4Lx2wWc1VLcQVhvHIN4DxrM0J2NwBBRikmdmlzCgrQ5YzbGfgaUA0k6eV1OQ8/y9qSMHJQy96e4HH389r5hBFcXBelMZ0DEngEQPdZsCG4T9zECewgUrqdcOCXZYyACqL8UFHYqoT21f2OJyD9WtQr1p1Oc52GQ3VXl6oZ6URz1OtYFNHqaqj9AovoI6LIBd/kBVQ+E1m9qVRMI2P1LFDjRx5FGzx2GfN+nPMxA+OpVQo7L2sM9k+suGzHhq9AJs1Jl+arpBbhW1uRJ2KqXSMii0LqAWu2Crb6hQGgOlrr9Sgxmw1ftUSIe/MR42q7I9bPU05bZLUPEEm5UDe02jTGU3qJHWsjn3wl7jKbMA6iK+YjO6wF430te3IQgg9hCDOgCbJdNH+RUIqMtxBvMybDaAPiYhiH5lDOJW2Kwfm7yBoJIqGFhX2CyJXgURCG74OQZS4YDNxrJR6RVozohKBrAHdpvEBjUj0LyUCqpbDbvdzwaTocWQUqqaB7stYr1MaJNQRDV3wG7v8DdrJGjU7SBVXA+7fcELPgyFZh2+oL/+sJmjjOd9HAYdWuXQzxWwWS+e92EodJEWeagQA5tNJ7khFHrdUk65cNgsh8wOhX4991GmFewVVs7nHTAiYil9tYO9Uuruh1F3n2GTONjr6dEwrnMevfrBXrEwwzGvig3GomXrvoP1HkQLJ6WV8II30OJ1XO0huQu/AwN3k5Vh+B1wpP3EIfhdCE2fhv+X/wF/AO+L9vuzfwAAAABJRU5ErkJggg==';\n\t\t\t\t\t\t\tconst textBuffer = 1;\n\t\t\t\t\t\t\tconst lineHeight = 3.25;\n\t\t\t\t\t\t\tconst text = '';\n\t\t\t\t\t\t\tconst textChunksSeperator = text.split(',');\n\t\t\t\t\t\t\tconst textChunks: string[] = [];\n\n\t\t\t\t\t\t\tif (textChunks.length) {\n\t\t\t\t\t\t\t\ttextChunksSeperator.forEach((chunk: string) => {\n\t\t\t\t\t\t\t\t\tconst limitChunks: RegExpMatchArray | null = chunk.match(/.{1,34}/g);\n\t\t\t\t\t\t\t\t\tif (limitChunks) {\n\t\t\t\t\t\t\t\t\t\ttextChunks.push(...limitChunks);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//Render infobox\n\t\t\t\t\t\t\tpdf.setFillColor('white');\n\t\t\t\t\t\t\tconst infoBoxSize =\n\t\t\t\t\t\t\t\ttextChunks.length * lineHeight +\n\t\t\t\t\t\t\t\tmarginTop +\n\t\t\t\t\t\t\t\tmarginBottom +\n\t\t\t\t\t\t\t\tlineHeight * 2 +\n\t\t\t\t\t\t\t\tinnerMargin * 2 +\n\t\t\t\t\t\t\t\ttextBuffer;\n\n\t\t\t\t\t\t\tpdf.rect(offsetX, 2, 66.5, infoBoxSize, 'F');\n\n\t\t\t\t\t\t\tpdf.setFontSize(10);\n\t\t\t\t\t\t\tpdf.text('Map PDF:', 6, offsetY + marginTop);\n\n\t\t\t\t\t\t\t//Render inner infobox\n\t\t\t\t\t\t\tpdf.rect(6, 7, 60, textChunks.length * lineHeight + innerMargin * 2 + textBuffer);\n\t\t\t\t\t\t\tpdf.setFontSize(10);\n\n\t\t\t\t\t\t\t//Write out address\n\t\t\t\t\t\t\ttextChunks.forEach((text, i) => {\n\t\t\t\t\t\t\t\tpdf.text(text.trim(), 8, 10 + i * 3.5 + innerMargin);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t//Add WG Logo\n\t\t\t\t\t\t\tpdf.addImage(\n\t\t\t\t\t\t\t\tlogo,\n\t\t\t\t\t\t\t\t'png',\n\t\t\t\t\t\t\t\t5,\n\t\t\t\t\t\t\t\toffsetY + marginTop + lineHeight * 2 + textChunks.length * 3 + innerMargin * 2,\n\t\t\t\t\t\t\t\t3,\n\t\t\t\t\t\t\t\t3,\n\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\t'FAST'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t//Add WG Url\n\t\t\t\t\t\t\tpdf.setFontSize(10);\n\t\t\t\t\t\t\tpdf.text(\n\t\t\t\t\t\t\t\t'wheregroup.com',\n\t\t\t\t\t\t\t\t40,\n\t\t\t\t\t\t\t\toffsetY +\n\t\t\t\t\t\t\t\t\tmarginTop +\n\t\t\t\t\t\t\t\t\tlineHeight * 2 +\n\t\t\t\t\t\t\t\t\ttextChunks.length * lineHeight +\n\t\t\t\t\t\t\t\t\tinnerMargin * 2 +\n\t\t\t\t\t\t\t\t\ttextBuffer\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t//Set pdfs props\n\t\t\t\t\t\t\tpdf.setProperties({\n\t\t\t\t\t\t\t\ttitle: 'Map export',\n\t\t\t\t\t\t\t\tsubject: 'Map export',\n\t\t\t\t\t\t\t\tcreator: 'WhereGroup GmbH',\n\t\t\t\t\t\t\t\tauthor: '(c)WhereGroup GmbH, (c)OpenStreetMap',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn options;\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</MlDialog>\n\t\t\t)}\n\t\t</>\n\t);\n}"}},le.parameters)},1068:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return F}));var n=r(0),a=r.n(n),o=r(79),i=(r(1044),r(3)),s=r.n(i),l=r(1173),c=r(1183),u=r(1184),p=r(419),d=r(168),f=r(36),m=r(143),y=r(1165),g=r(1182),h=r(591),b=r.n(h);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x,S=function(e){var t=w(Object(n.useState)("loading"),2),r=t[0],a=t[1];Object(n.useEffect)((function(){e.src?fetch(e.src).then((function(e){var t=e.ok;a(t?"ready":"error")})).catch((function(e){console.error(e),a("error")})):a("error")}),[e.src]);var o={width:"100%",height:"100%",border:2,borderRadius:"8px",textAlign:"center",display:"flex"},i=function(){return React.createElement(y.a,{className:e.className,sx:O(O({},o),e.style)},React.createElement(g.a,null))},s=function(){return React.createElement("img",{className:e.className,style:O(O({},o),e.style),src:e.src,alt:e.alt||""})},l=function(){return React.createElement(y.a,{className:e.className,sx:O({boxStyle:o},e.style)},React.createElement(b.a,{sx:{display:"block",margin:"auto"}}))};return React.createElement(React.Fragment,null,function(e){switch(e){case"ready":return React.createElement(s,null);case"error":return React.createElement(l,null);default:return React.createElement(i,null)}}(r))},C=r(52);var M=function(e){var t,r,n,o=Object(C.a)({mapId:e.mapId,watch:{viewport:!1,layers:!0,sources:!1},filter:{matchLayerIds:e.layerId}}).layers,i=Object(m.a)(x||(r=["\n\t\t& img:hover {\n\t\t}\n\t"],n||(n=r.slice(0)),x=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(n)}}))));return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{key:e.layerId,className:i,sx:{width:"40px",height:"53px",justifyContent:"center",py:.25,px:"1rem",cursor:"pointer"},onClick:function(){var t;null==e||null===(t=e.handleLayerBoxClick)||void 0===t||t.call(e,e.layerId)}},a.a.createElement(S,{style:{border:"2px solid "+(null!=o&&null!==(t=o[0])&&void 0!==t&&t.visible?"#64c864":"#fd720f"),borderRadius:"8px",height:"40px",width:"40px"},src:e.thumbnail}),a.a.createElement("div",{className:"mllayerswitcher-layer-text",style:{textAlign:"center",color:"rgb(112, 117, 122)",fontFamily:"Roboto, Arial",width:"40px",fontSize:"0.60rem"}},e.label)))},E=r(1096);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var L=function(e){var t,r,o,i,s=Object(n.useContext)(f.b),m=!(null===(t=e.baseSourceConfig)||void 0===t||null===(r=t.layers)||void 0===r||!r.length),y=!(null===(o=e.detailLayerConfig)||void 0===o||null===(i=o.layers)||void 0===i||!i.length),g=Object(C.a)({mapId:e.mapId,watch:{viewport:!1,layers:!0,sources:!1},filter:{}}).layers,h=P(Object(n.useState)([]),2),b=h[0],v=h[1],O=P(Object(n.useState)([]),2),j=O[0],w=O[1],I=Object(l.a)().t;Object(n.useEffect)((function(){if(s.map){var t=function(e,t){var r=x(e.layerId),n=0===t?"visible":"none";r.forEach((function(e){e&&A(e,n)}))};e.baseSourceConfig.layers.forEach((function(e,r){return t(e,r)})),e.detailLayerConfig.layers.forEach((function(e,r){return t(e,r)}))}return function(){}}),[s.map]),Object(n.useEffect)((function(){var t,r;if(null!==(t=s.map)&&void 0!==t&&null!==(r=t.style)&&void 0!==r&&r._layers){var n=[],a=[];e.baseSourceConfig.layers.forEach((function(e){x(e.layerId).forEach((function(e){var t,r=null===(t=s.map)||void 0===t?void 0:t.getLayoutProperty(e,"visibility");-1!==s.map.baseLayers.indexOf(e)&&(e="styleBase"),-1===n.indexOf(e)&&"visible"===r&&n.push(e)}))})),e.detailLayerConfig.layers.forEach((function(e){var t,r=e.layerId,n=null===(t=s.map)||void 0===t?void 0:t.getLayoutProperty(r,"visibility");-1===a.indexOf(r)&&"visible"===n&&a.push(r)})),v(n),w(a)}}),[g]);var x=function(e){return"styleBase"===e?null==s?void 0:s.map.baseLayers:[e]},S=function(t){var r,n=x(t),a="visible"===(null==s||null===(r=s.map.getLayer(n[0]))||void 0===r?void 0:r.getLayoutProperty("visibility"))?"none":"visible";e.baseSourceConfig.layers.forEach((function(e,r){var n=x(e.layerId),o="none";e.layerId===t&&(o=a),"none"===a&&0===r&&(o="visible"),n.forEach((function(e){e&&A(e,o)}))}))},A=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";null===(t=s.map)||void 0===t||t.setLayoutProperty(e,"visibility",r)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,{sx:{zIndex:101,position:"absolute",minWidth:"200px"}},a.a.createElement(u.a,null,m&&a.a.createElement(p.a,{sx:{minHeight:"150px"}},a.a.createElement(d.a,{variant:"h6"},I(e.baseSourceConfig.label||"Map type")),a.a.createElement(E.a,null),a.a.createElement(p.a,{sx:{display:"flex",paddingTop:"1rem"}},e.baseSourceConfig.layers.map((function(t){var r=t.src,n=t.label,o=t.layerId;return a.a.createElement(M,{mapId:e.mapId,key:o,activeLayers:b,label:I(n),layerId:o,thumbnail:r,handleLayerBoxClick:function(){S(o)}})})))),y&&a.a.createElement(p.a,{sx:{minHeight:"150px"}},a.a.createElement(d.a,{variant:"h6"},I("Map details")),a.a.createElement(E.a,null),a.a.createElement(p.a,{sx:{display:"flex",paddingTop:"1rem"}},e.detailLayerConfig.layers.map((function(t){var r=t.src,n=t.label,o=t.layerId;return a.a.createElement(M,{mapId:e.mapId,activeLayers:j,label:I(n),layerId:o,key:o,thumbnail:r,handleLayerBoxClick:function(){!function(t){var r,n=e.detailLayerConfig.layers.find((function(e){return e.layerId===t}));n.linkedTo&&S(n.linkedTo);var a="visible"===(null==s||null===(r=s.map.getLayer(t))||void 0===r?void 0:r.getLayoutProperty("visibility"))?"none":"visible";A(t,a)}(o)}})})))))," "))};L.propTypes={baseSourceConfig:s.a.shape({label:s.a.string,layers:s.a.arrayOf(s.a.shape({layerId:s.a.string.isRequired,src:s.a.string,label:s.a.string.isRequired}))}),detailLayerConfig:s.a.shape({label:s.a.string,layers:s.a.arrayOf(s.a.shape({layerId:s.a.string.isRequired,src:s.a.string,label:s.a.string.isRequired,linkedTo:s.a.string}))}),mapId:s.a.string};var H=L,k=r(45),T=r(19),R=r(595),G=r(596);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N={title:"MapComponents/MlLayerSwitcher",component:H,argTypes:{url:{},layer:{}},decorators:T.a},F=(t.default=N,function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,{url:e.url,urlParameters:{layers:e.layer},sourceOptions:e.sourceOptions,layerId:"historic",visible:e.layerVisible}),a.a.createElement(o.a,{url:e.url2,urlParameters:{layers:e.layer2},sourceOptions:e.sourceOptions,layerId:e.layer2,visible:e.layer2Visible}),a.a.createElement(k.a,{type:"line",layout:{visibility:e.geojsonLayerVisible?"visible":"none"},geojson:R,layerId:"geojson1"}),a.a.createElement(k.a,{type:"line",layout:{visibility:e.geojson2LayerVisible?"visible":"none"},geojson:G,layerId:"geojson2"}),a.a.createElement(H,{baseSourceConfig:{active:e.baseSourcesActive,layers:e.layers},detailLayerConfig:e.detailLayerConfig}),";")}.bind({}));F.parameters={},F.args={url:"https://www.wms.nrw.de/geobasis/wms_nw_uraufnahme",layer:"nw_uraufnahme_rw",layerVisible:!0,url2:"https://www.wms.nrw.de/geobasis/wms_nw_dop",layer2:"WMS_NW_DOP",layer2Visible:!1,geojsonLayerVisible:!0,geojson2LayerVisible:!0,sourceOptions:{minzoom:13,maxzoom:20},baseSourcesActive:!0,layers:[{label:"Historic",layerId:"historic",src:"assets/historic.png"},{label:"Straenkarte",layerId:"styleBase",src:"assets/osm.png"},{label:"DOP",layerId:"WMS_NW_DOP",src:"assets/dop.png"}],detailLayerConfig:{layers:[{label:"GeoJson 1",layerId:"geojson1",src:"assets/historic.png",active:!0}]}},F.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:'(args) => {\n\treturn (\n\t\t<>\n\t\t\t<MlWmsLayer\n\t\t\t\turl={args.url}\n\t\t\t\turlParameters={{ layers: args.layer }}\n\t\t\t\tsourceOptions={args.sourceOptions}\n\t\t\t\tlayerId="historic"\n\t\t\t\tvisible={args.layerVisible}\n\t\t\t/>\n\t\t\t<MlWmsLayer\n\t\t\t\turl={args.url2}\n\t\t\t\turlParameters={{ layers: args.layer2 }}\n\t\t\t\tsourceOptions={args.sourceOptions}\n\t\t\t\tlayerId={args.layer2}\n\t\t\t\tvisible={args.layer2Visible}\n\t\t\t/>\n\t\t\t<MlGeoJsonLayer\n\t\t\t\ttype="line"\n\t\t\t\tlayout={{ visibility: args.geojsonLayerVisible ? "visible" : "none" }}\n\t\t\t\tgeojson={sample_geojson_1}\n\t\t\t\tlayerId="geojson1"\n\t\t\t/>\n\t\t\t<MlGeoJsonLayer\n\t\t\t\ttype="line"\n\t\t\t\tlayout={{ visibility: args.geojson2LayerVisible ? "visible" : "none" }}\n\t\t\t\tgeojson={sample_geojson_2}\n\t\t\t\tlayerId="geojson2"\n\t\t\t/>\n\t\t\t<MlLayerSwitcher\n\t\t\t\tbaseSourceConfig={{\n\t\t\t\t\tactive: args.baseSourcesActive,\n\t\t\t\t\tlayers: args.layers,\n\t\t\t\t}}\n\t\t\t\tdetailLayerConfig={args.detailLayerConfig}\n\t\t\t/>\n\t\t\t;\n\t\t</>\n\t);\n}'}},F.parameters)},1069:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return De}));var n=r(0),a=r.n(n),o=r(70),i=r(36),s=r(128),l=r(108),c=r.n(l),u=r(6);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function f(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=h(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var a=C(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return x(this,r)}}function x(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){j(r,e);var t=I(r);function r(e){var n;return b(this,r),(n=t.call(this,e)).dracoLoader=null,n.ktx2Loader=null,n.meshoptDecoder=null,n.pluginCallbacks=[],n.register((function(e){return new H(e)})),n.register((function(e){return new _(e)})),n.register((function(e){return new N(e)})),n.register((function(e){return new k(e)})),n.register((function(e){return new T(e)})),n.register((function(e){return new R(e)})),n.register((function(e){return new G(e)})),n.register((function(e){return new D(e)})),n.register((function(e){return new A(e)})),n.register((function(e){return new F(e)})),n}return O(r,[{key:"load",value:function(e,t,r,n){var a,o=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:u.B.extractUrlBase(e),this.manager.itemStart(e);var i=function(t){n?n(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},s=new u.k(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(r){try{o.parse(r,a,(function(r){t(r),o.manager.itemEnd(e)}),i)}catch(e){i(e)}}),r,i)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,r,n){var a,o={},i={};if("string"==typeof e)a=e;else if(u.B.decodeText(new Uint8Array(e,0,4))===B){try{o[P.KHR_BINARY_GLTF]=new W(e)}catch(e){return void(n&&n(e))}a=o[P.KHR_BINARY_GLTF].content}else a=u.B.decodeText(new Uint8Array(e));var s=JSON.parse(a);if(void 0===s.asset||s.asset.version[0]<2)n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var l=new je(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(var c=0;c<this.pluginCallbacks.length;c++){var p=this.pluginCallbacks[c](l);i[p.name]=p,o[p.name]=!0}if(s.extensionsUsed)for(var d=0;d<s.extensionsUsed.length;++d){var f=s.extensionsUsed[d],m=s.extensionsRequired||[];switch(f){case P.KHR_MATERIALS_UNLIT:o[f]=new L;break;case P.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[f]=new Y;break;case P.KHR_DRACO_MESH_COMPRESSION:o[f]=new V(s,this.dracoLoader);break;case P.KHR_TEXTURE_TRANSFORM:o[f]=new Z;break;case P.KHR_MESH_QUANTIZATION:o[f]=new q;break;default:m.indexOf(f)>=0&&void 0===i[f]&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(o),l.setPlugins(i),l.parse(r,n)}}},{key:"parseAsync",value:function(e,t){var r=this;return new Promise((function(n,a){r.parse(e,t,n,a)}))}}]),r}(u.A);function E(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var P={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},A=function(){function e(t){b(this,e),this.parser=t,this.name=P.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return O(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],r=0,n=t.length;r<n;r++){var a=t[r];a.extensions&&a.extensions[this.name]&&void 0!==a.extensions[this.name].light&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,r="light:"+e,n=t.cache.get(r);if(n)return n;var a,o=t.json,i=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e],s=new u.h(16777215);void 0!==i.color&&s.fromArray(i.color);var l=void 0!==i.range?i.range:0;switch(i.type){case"directional":(a=new u.i(s)).target.position.set(0,0,-1),a.add(a.target);break;case"point":(a=new u.R(s)).distance=l;break;case"spot":(a=new u.cb(s)).distance=l,i.spot=i.spot||{},i.spot.innerConeAngle=void 0!==i.spot.innerConeAngle?i.spot.innerConeAngle:0,i.spot.outerConeAngle=void 0!==i.spot.outerConeAngle?i.spot.outerConeAngle:Math.PI/4,a.angle=i.spot.outerConeAngle,a.penumbra=1-i.spot.innerConeAngle/i.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+i.type)}return a.position.set(0,0,0),a.decay=2,void 0!==i.intensity&&(a.intensity=i.intensity),a.name=t.createUniqueName(i.name||"light_"+e),n=Promise.resolve(a),t.cache.add(r,n),n}},{key:"createNodeAttachment",value:function(e){var t=this,r=this.parser,n=r.json.nodes[e],a=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then((function(e){return r._getNodeRef(t.cache,a,e)}))}}]),e}(),L=function(){function e(){b(this,e),this.name=P.KHR_MATERIALS_UNLIT}return O(e,[{key:"getMaterialType",value:function(){return u.G}},{key:"extendParams",value:function(e,t,r){var n=[];e.color=new u.h(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var o=a.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==a.baseColorTexture&&n.push(r.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(n)}}]),e}(),H=function(){function e(t){b(this,e),this.parser=t,this.name=P.KHR_MATERIALS_CLEARCOAT}return O(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.H:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var a=[],o=n.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&a.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&a.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(a.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var i=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new u.ib(i,i)}return Promise.all(a)}}]),e}(),k=function(){function e(t){b(this,e),this.parser=t,this.name=P.KHR_MATERIALS_SHEEN}return O(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.H:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var a=[];t.sheenColor=new u.h(0,0,0),t.sheenRoughness=0,t.sheen=1;var o=n.extensions[this.name];return void 0!==o.sheenColorFactor&&t.sheenColor.fromArray(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&(t.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&a.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture)),void 0!==o.sheenRoughnessTexture&&a.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}]),e}(),T=function(){function e(t){b(this,e),this.parser=t,this.name=P.KHR_MATERIALS_TRANSMISSION}return O(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.H:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var a=[],o=n.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&a.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(a)}}]),e}(),R=function(){function e(t){b(this,e),this.parser=t,this.name=P.KHR_MATERIALS_VOLUME}return O(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.H:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var a=[],o=n.extensions[this.name];t.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&a.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||0;var i=o.attenuationColor||[1,1,1];return t.attenuationColor=new u.h(i[0],i[1],i[2]),Promise.all(a)}}]),e}(),G=function(){function e(t){b(this,e),this.parser=t,this.name=P.KHR_MATERIALS_IOR}return O(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.H:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var n=r.extensions[this.name];return t.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}}]),e}(),D=function(){function e(t){b(this,e),this.parser=t,this.name=P.KHR_MATERIALS_SPECULAR}return O(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.H:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var a=[],o=n.extensions[this.name];t.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&a.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));var i=o.specularColorFactor||[1,1,1];return t.specularColor=new u.h(i[0],i[1],i[2]),void 0!==o.specularColorTexture&&a.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture).then((function(e){e.encoding=u.mb}))),Promise.all(a)}}]),e}(),_=function(){function e(t){b(this,e),this.parser=t,this.name=P.KHR_TEXTURE_BASISU}return O(e,[{key:"loadTexture",value:function(e){var t=this.parser,r=t.json,n=r.textures[e];if(!n.extensions||!n.extensions[this.name])return null;var a=n.extensions[this.name],o=r.images[a.source],i=t.options.ktx2Loader;if(!i){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o,i)}}]),e}(),N=function(){function e(t){b(this,e),this.parser=t,this.name=P.EXT_TEXTURE_WEBP,this.isSupported=null}return O(e,[{key:"loadTexture",value:function(e){var t=this.name,r=this.parser,n=r.json,a=n.textures[e];if(!a.extensions||!a.extensions[t])return null;var o=a.extensions[t],i=n.images[o.source],s=r.textureLoader;if(i.uri){var l=r.options.manager.getHandler(i.uri);null!==l&&(s=l)}return this.detectSupport().then((function(a){if(a)return r.loadTextureImage(e,i,s);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),F=function(){function e(t){b(this,e),this.name=P.EXT_MESHOPT_COMPRESSION,this.parser=t}return O(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){var n=r.extensions[this.name],a=this.parser.getDependency("buffer",n.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,o.ready]).then((function(e){var t=n.byteOffset||0,r=n.byteLength||0,a=n.count,i=n.byteStride,s=new ArrayBuffer(a*i),l=new Uint8Array(e[0],t,r);return o.decodeGltfBuffer(new Uint8Array(s),a,i,l,n.mode,n.filter),s}))}return null}}]),e}(),B="glTF",U=1313821514,z=5130562,W=O((function e(t){b(this,e),this.name=P.KHR_BINARY_GLTF,this.content=null,this.body=null;var r=new DataView(t,0,12);if(this.header={magic:u.B.decodeText(new Uint8Array(t.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==B)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var n=this.header.length-12,a=new DataView(t,12),o=0;o<n;){var i=a.getUint32(o,!0);o+=4;var s=a.getUint32(o,!0);if(o+=4,s===U){var l=new Uint8Array(t,12+o,i);this.content=u.B.decodeText(l)}else if(s===z){var c=12+o;this.body=t.slice(c,c+i)}o+=i}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),V=function(){function e(t,r){if(b(this,e),!r)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=P.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=r,this.dracoLoader.preload()}return O(e,[{key:"decodePrimitive",value:function(e,t){var r=this.json,n=this.dracoLoader,a=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,i={},s={},l={};for(var c in o){var u=ue[c]||c.toLowerCase();i[u]=o[c]}for(var p in e.attributes){var d=ue[p]||p.toLowerCase();if(void 0!==o[p]){var f=r.accessors[e.attributes[p]],m=ie[f.componentType];l[d]=m,s[d]=!0===f.normalized}}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(var r in e.attributes){var n=e.attributes[r],a=s[r];void 0!==a&&(n.normalized=a)}t(e)}),i,l)}))}))}}]),e}(),Z=function(){function e(){b(this,e),this.name=P.KHR_TEXTURE_TRANSFORM}return O(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),J=function(e){j(r,e);var t=I(r);function r(e){var n;b(this,r),(n=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var a=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),o=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),l=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),c={specular:{value:(new u.h).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return n._extraUniforms=c,n.onBeforeCompile=function(e){for(var t in c)e.uniforms[t]=c[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",a).replace("#include <metalnessmap_pars_fragment>",o).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",l)},Object.defineProperties(S(n),{specular:{get:function(){return c.specular.value},set:function(e){c.specular.value=e}},specularMap:{get:function(){return c.specularMap.value},set:function(e){c.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return c.glossiness.value},set:function(e){c.glossiness.value=e}},glossinessMap:{get:function(){return c.glossinessMap.value},set:function(e){c.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete n.metalness,delete n.roughness,delete n.metalnessMap,delete n.roughnessMap,n.setValues(e),n}return O(r,[{key:"copy",value:function(e){return g(C(r.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),r}(u.I),Y=function(){function e(){b(this,e),this.name=P.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}return O(e,[{key:"getMaterialType",value:function(){return J}},{key:"extendParams",value:function(e,t,r){var n=t.extensions[this.name];e.color=new u.h(1,1,1),e.opacity=1;var a=[];if(Array.isArray(n.diffuseFactor)){var o=n.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(void 0!==n.diffuseTexture&&a.push(r.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new u.h(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new u.h(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var i=n.specularGlossinessTexture;a.push(r.assignTexture(e,"glossinessMap",i)),a.push(r.assignTexture(e,"specularMap",i))}return Promise.all(a)}},{key:"createMaterial",value:function(e){var t=new J(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=u.db,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}]),e}(),q=O((function e(){b(this,e),this.name=P.KHR_MESH_QUANTIZATION})),X=function(e){j(r,e);var t=I(r);function r(e,n,a,o){return b(this,r),t.call(this,e,n,a,o)}return O(r,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,a=e*n*3+n,o=0;o!==n;o++)t[o]=r[a+o];return t}}]),r}(u.q);X.prototype.beforeStart_=X.prototype.copySampleValue_,X.prototype.afterEnd_=X.prototype.copySampleValue_,X.prototype.interpolate_=function(e,t,r,n){for(var a=this.resultBuffer,o=this.sampleValues,i=this.valueSize,s=2*i,l=3*i,c=n-t,u=(r-t)/c,p=u*u,d=p*u,f=e*l,m=f-l,y=-2*d+3*p,g=d-p,h=1-y,b=g-p+u,v=0;v!==i;v++){var O=o[m+v+i],j=o[m+v+s]*c,w=o[f+v+i],I=o[f+v]*c;a[v]=h*O+b*j+y*w+g*I}return a};var K=new u.V,Q=function(e){j(r,e);var t=I(r);function r(){return b(this,r),t.apply(this,arguments)}return O(r,[{key:"interpolate_",value:function(e,t,n,a){var o=g(C(r.prototype),"interpolate_",this).call(this,e,t,n,a);return K.fromArray(o).normalize().toArray(o),o}}]),r}(X),$=0,ee=1,te=2,re=3,ne=4,ae=5,oe=6,ie={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},se={9728:u.K,9729:u.x,9984:u.M,9985:u.z,9986:u.L,9987:u.y},le={33071:u.g,33648:u.J,10497:u.X},ce={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ue={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},pe={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},de={CUBICSPLINE:void 0,LINEAR:u.s,STEP:u.r},fe="OPAQUE",me="MASK",ye="BLEND";function ge(e,t,r){for(var n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function he(e,t){void 0!==t.extras&&("object"===y(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function be(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var a=t.extras.targetNames;if(e.morphTargetInfluences.length===a.length){e.morphTargetDictionary={};for(var o=0,i=a.length;o<i;o++)e.morphTargetDictionary[a[o]]=o}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ve(e){for(var t="",r=Object.keys(e).sort(),n=0,a=r.length;n<a;n++)t+=r[n]+":"+e[r[n]]+";";return t}function Oe(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var je=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(this,e),this.json=t,this.extensions={},this.plugins={},this.options=r,this.cache=new E,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)?this.textureLoader=new u.n(this.options.manager):this.textureLoader=new u.fb(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new u.k(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return O(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var r=this,n=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])})).then((function(t){var o={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};ge(a,o,n),he(o,n),Promise.all(r._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){e(o)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n=0,a=t.length;n<a;n++)for(var o=t[n].joints,i=0,s=o.length;i<s;i++)e[o[i]].isBone=!0;for(var l=0,c=e.length;l<c;l++){var u=e[l];void 0!==u.mesh&&(this._addNodeRef(this.meshCache,u.mesh),void 0!==u.skin&&(r[u.mesh].isSkinnedMesh=!0)),void 0!==u.camera&&this._addNodeRef(this.cameraCache,u.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,r){var n=this;if(e.refs[t]<=1)return r;var a=r.clone();return function e(t,r){var a=n.associations.get(t);null!=a&&n.associations.set(r,a);var o,i=d(t.children.entries());try{for(i.s();!(o=i.n()).done;){var s=p(o.value,2),l=s[0];e(s[1],r.children[l])}}catch(e){i.e(e)}finally{i.f()}}(r,a),a.name+="_instance_"+e.uses[t]++,a}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var r=0;r<t.length;r++){var n=e(t[r]);if(n)return n}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var r=[],n=0;n<t.length;n++){var a=e(t[n]);a&&r.push(a)}return r}},{key:"getDependency",value:function(e,t){var r=e+":"+t,n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":n=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,n)}return n}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var r=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return r.getDependency(e,n)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[P.KHR_BINARY_GLTF].body);var n=this.options;return new Promise((function(e,a){r.load(u.B.resolveURL(t.uri,n.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)}))}},{key:"loadAccessor",value:function(e){var t=this,r=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var a=[];return void 0!==n.bufferView?a.push(this.getDependency("bufferView",n.bufferView)):a.push(null),void 0!==n.sparse&&(a.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,o,i=e[0],s=ce[n.type],l=ie[n.componentType],c=l.BYTES_PER_ELEMENT,p=c*s,d=n.byteOffset||0,f=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,m=!0===n.normalized;if(f&&f!==p){var y=Math.floor(d/f),g="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+y+":"+n.count,h=t.cache.get(g);h||(a=new l(i,y*f,n.count*f/c),h=new u.o(a,f/c),t.cache.add(g,h)),o=new u.p(h,s,d%f/c,m)}else a=null===i?new l(n.count*s):new l(i,d,n.count*s),o=new u.d(a,s,m);if(void 0!==n.sparse){var b=ce.SCALAR,v=ie[n.sparse.indices.componentType],O=n.sparse.indices.byteOffset||0,j=n.sparse.values.byteOffset||0,w=new v(e[1],O,n.sparse.count*b),I=new l(e[2],j,n.sparse.count*s);null!==i&&(o=new u.d(o.array.slice(),o.itemSize,o.normalized));for(var x=0,S=w.length;x<S;x++){var C=w[x];if(o.setX(C,I[x*s]),s>=2&&o.setY(C,I[x*s+1]),s>=3&&o.setZ(C,I[x*s+2]),s>=4&&o.setW(C,I[x*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse THREE.BufferAttribute.")}}return o}))}},{key:"loadTexture",value:function(e){var t=this.json,r=this.options,n=t.textures[e],a=t.images[n.source],o=this.textureLoader;if(a.uri){var i=r.manager.getHandler(a.uri);null!==i&&(o=i)}return this.loadTextureImage(e,a,o)}},{key:"loadTextureImage",value:function(e,t,r){var n=this,a=this.json,o=this.options,i=a.textures[e],s=(t.uri||t.bufferView)+":"+i.sampler;if(this.textureCache[s])return this.textureCache[s];var l=this.URL||this.webkitURL,c=t.uri||"",p=!1;if(void 0!==t.bufferView)c=n.getDependency("bufferView",t.bufferView).then((function(e){p=!0;var r=new Blob([e],{type:t.mimeType});return c=l.createObjectURL(r)}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var d=Promise.resolve(c).then((function(e){return new Promise((function(t,n){var a=t;!0===r.isImageBitmapLoader&&(a=function(e){var r=new u.eb(e);r.needsUpdate=!0,t(r)}),r.load(u.B.resolveURL(e,o.path),a,void 0,n)}))})).then((function(t){!0===p&&l.revokeObjectURL(c),t.flipY=!1,i.name&&(t.name=i.name);var r=(a.samplers||{})[i.sampler]||{};return t.magFilter=se[r.magFilter]||u.x,t.minFilter=se[r.minFilter]||u.y,t.wrapS=le[r.wrapS]||u.X,t.wrapT=le[r.wrapT]||u.X,n.associations.set(t,{textures:e}),t})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",c),null}));return this.textureCache[s]=d,d}},{key:"assignTexture",value:function(e,t,r){var n=this;return this.getDependency("texture",r.index).then((function(a){if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),n.extensions[P.KHR_TEXTURE_TRANSFORM]){var o=void 0!==r.extensions?r.extensions[P.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var i=n.associations.get(a);a=n.extensions[P.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),n.associations.set(a,i)}}return e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,r=e.material,n=void 0===t.attributes.tangent,a=void 0!==t.attributes.color,o=void 0===t.attributes.normal;if(e.isPoints){var i="PointsMaterial:"+r.uuid,s=this.cache.get(i);s||(s=new u.T,u.C.prototype.copy.call(s,r),s.color.copy(r.color),s.map=r.map,s.sizeAttenuation=!1,this.cache.add(i,s)),r=s}else if(e.isLine){var l="LineBasicMaterial:"+r.uuid,c=this.cache.get(l);c||(c=new u.u,u.C.prototype.copy.call(c,r),c.color.copy(r.color),this.cache.add(l,c)),r=c}if(n||a||o){var p="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(p+="specular-glossiness:"),n&&(p+="derivative-tangents:"),a&&(p+="vertex-colors:"),o&&(p+="flat-shading:");var d=this.cache.get(p);d||(d=r.clone(),a&&(d.vertexColors=!0),o&&(d.flatShading=!0),n&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(p,d),this.associations.set(d,this.associations.get(r))),r=d}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=r}},{key:"getMaterialType",value:function(){return u.I}},{key:"loadMaterial",value:function(e){var t,r=this,n=this.json,a=this.extensions,o=n.materials[e],i={},s=o.extensions||{},l=[];if(s[P.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=a[P.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=c.getMaterialType(),l.push(c.extendParams(i,o,r))}else if(s[P.KHR_MATERIALS_UNLIT]){var p=a[P.KHR_MATERIALS_UNLIT];t=p.getMaterialType(),l.push(p.extendParams(i,o,r))}else{var d=o.pbrMetallicRoughness||{};if(i.color=new u.h(1,1,1),i.opacity=1,Array.isArray(d.baseColorFactor)){var f=d.baseColorFactor;i.color.fromArray(f),i.opacity=f[3]}void 0!==d.baseColorTexture&&l.push(r.assignTexture(i,"map",d.baseColorTexture)),i.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,i.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(l.push(r.assignTexture(i,"metalnessMap",d.metallicRoughnessTexture)),l.push(r.assignTexture(i,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,i)}))))}!0===o.doubleSided&&(i.side=u.j);var m=o.alphaMode||fe;if(m===ye?(i.transparent=!0,i.depthWrite=!1):(i.transparent=!1,m===me&&(i.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==u.G&&(l.push(r.assignTexture(i,"normalMap",o.normalTexture)),i.normalScale=new u.ib(1,1),void 0!==o.normalTexture.scale)){var y=o.normalTexture.scale;i.normalScale.set(y,y)}return void 0!==o.occlusionTexture&&t!==u.G&&(l.push(r.assignTexture(i,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(i.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==u.G&&(i.emissive=(new u.h).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==u.G&&l.push(r.assignTexture(i,"emissiveMap",o.emissiveTexture)),Promise.all(l).then((function(){var n;return n=t===J?a[P.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(i):new t(i),o.name&&(n.name=o.name),n.map&&(n.map.encoding=u.mb),n.emissiveMap&&(n.emissiveMap.encoding=u.mb),he(n,o),r.associations.set(n,{materials:e}),o.extensions&&ge(a,n,o),n}))}},{key:"createUniqueName",value:function(e){for(var t=u.U.sanitizeNodeName(e||""),r=t,n=1;this.nodeNamesUsed[r];++n)r=t+"_"+n;return this.nodeNamesUsed[r]=!0,r}},{key:"loadGeometries",value:function(e){var t=this,r=this.extensions,n=this.primitiveCache;function a(e){return r[P.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(r){return Ie(r,e,t)}))}for(var o,i,s=[],l=0,c=e.length;l<c;l++){var p=e[l],d=(i=void 0,(i=(o=p).extensions&&o.extensions[P.KHR_DRACO_MESH_COMPRESSION])?"draco:"+i.bufferView+":"+i.indices+":"+ve(i.attributes):o.indices+":"+ve(o.attributes)+":"+o.mode),f=n[d];if(f)s.push(f.promise);else{var m=void 0;m=p.extensions&&p.extensions[P.KHR_DRACO_MESH_COMPRESSION]?a(p):Ie(new u.e,p,t),n[d]={primitive:p,promise:m},s.push(m)}}return Promise.all(s)}},{key:"loadMesh",value:function(e){for(var t,r=this,n=this.json,a=this.extensions,o=n.meshes[e],i=o.primitives,s=[],l=0,c=i.length;l<c;l++){var p=void 0===i[l].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new u.I({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:u.l})),t.DefaultMaterial):this.getDependency("material",i[l].material);s.push(p)}return s.push(r.loadGeometries(i)),Promise.all(s).then((function(t){for(var n=t.slice(0,t.length-1),s=t[t.length-1],l=[],c=0,p=s.length;c<p;c++){var d=s[c],f=i[c],m=void 0,y=n[c];if(f.mode===ne||f.mode===ae||f.mode===oe||void 0===f.mode)!0!==(m=!0===o.isSkinnedMesh?new u.ab(d,y):new u.F(d,y)).isSkinnedMesh||m.geometry.attributes.skinWeight.normalized||m.normalizeSkinWeights(),f.mode===ae?m.geometry=xe(m.geometry,u.hb):f.mode===oe&&(m.geometry=xe(m.geometry,u.gb));else if(f.mode===ee)m=new u.w(d,y);else if(f.mode===re)m=new u.t(d,y);else if(f.mode===te)m=new u.v(d,y);else{if(f.mode!==$)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);m=new u.S(d,y)}Object.keys(m.geometry.morphAttributes).length>0&&be(m,o),m.name=r.createUniqueName(o.name||"mesh_"+e),he(m,o),f.extensions&&ge(a,m,f),r.assignFinalMaterial(m),l.push(m)}for(var g=0,h=l.length;g<h;g++)r.associations.set(l[g],{meshes:e,primitives:g});if(1===l.length)return l[0];var b=new u.m;r.associations.set(b,{meshes:e});for(var v=0,O=l.length;v<O;v++)b.add(l[v]);return b}))}},{key:"loadCamera",value:function(e){var t,r=this.json.cameras[e],n=r[r.type];if(n)return"perspective"===r.type?t=new u.Q(u.D.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===r.type&&(t=new u.P(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),he(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return r.inverseBindMatrices=e,r}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],r=[],n=[],a=[],o=[],i=[],s=0,l=t.channels.length;s<l;s++){var c=t.channels[s],p=t.samplers[c.sampler],d=c.target,f=void 0!==d.node?d.node:d.id,m=void 0!==t.parameters?t.parameters[p.input]:p.input,y=void 0!==t.parameters?t.parameters[p.output]:p.output;r.push(this.getDependency("node",f)),n.push(this.getDependency("accessor",m)),a.push(this.getDependency("accessor",y)),o.push(p),i.push(d)}return Promise.all([Promise.all(r),Promise.all(n),Promise.all(a),Promise.all(o),Promise.all(i)]).then((function(r){for(var n=r[0],a=r[1],o=r[2],i=r[3],s=r[4],l=[],c=function(e,t){var r=n[e],c=a[e],p=o[e],d=i[e],f=s[e];if(void 0===r)return"continue";r.updateMatrix(),r.matrixAutoUpdate=!0;var m=void 0;switch(pe[f.path]){case pe.weights:m=u.N;break;case pe.rotation:m=u.W;break;case pe.position:case pe.scale:default:m=u.kb}var y=r.name?r.name:r.uuid,g=void 0!==d.interpolation?de[d.interpolation]:u.s,h=[];pe[f.path]===pe.weights?r.traverse((function(e){e.morphTargetInfluences&&h.push(e.name?e.name:e.uuid)})):h.push(y);var b=p.array;if(p.normalized){for(var v=Oe(b.constructor),O=new Float32Array(b.length),j=0,w=b.length;j<w;j++)O[j]=b[j]*v;b=O}for(var I=0,x=h.length;I<x;I++){var S=new m(h[I]+"."+pe[f.path],c.array,b,g);"CUBICSPLINE"===d.interpolation&&(S.createInterpolant=function(e){return new(this instanceof u.W?Q:X)(this.times,this.values,this.getValueSize()/3,e)},S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(S)}},p=0,d=n.length;p<d;p++)c(p);var f=t.name?t.name:"animation_"+e;return new u.a(f,void 0,l)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,r=this,n=t.nodes[e];return void 0===n.mesh?null:r.getDependency("mesh",n.mesh).then((function(e){var t=r._getNodeRef(r.meshCache,n.mesh,e);return void 0!==n.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,r=n.weights.length;t<r;t++)e.morphTargetInfluences[t]=n.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t,r,n=this.json,a=this.extensions,o=this,i=n.nodes[e],s=i.name?o.createUniqueName(i.name):"";return(t=[],r=o._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)})),r&&t.push(r),void 0!==i.camera&&t.push(o.getDependency("camera",i.camera).then((function(e){return o._getNodeRef(o.cameraCache,i.camera,e)}))),o._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)).then((function(t){var r;if((r=!0===i.isBone?new u.b:t.length>1?new u.m:1===t.length?t[0]:new u.O)!==t[0])for(var n=0,l=t.length;n<l;n++)r.add(t[n]);if(i.name&&(r.userData.name=i.name,r.name=s),he(r,i),i.extensions&&ge(a,r,i),void 0!==i.matrix){var c=new u.E;c.fromArray(i.matrix),r.applyMatrix4(c)}else void 0!==i.translation&&r.position.fromArray(i.translation),void 0!==i.rotation&&r.quaternion.fromArray(i.rotation),void 0!==i.scale&&r.scale.fromArray(i.scale);return o.associations.has(r)||o.associations.set(r,{}),o.associations.get(r).nodes=e,r}))}},{key:"loadScene",value:function(e){var t=this.json,r=this.extensions,n=this.json.scenes[e],a=this,o=new u.m;n.name&&(o.name=a.createUniqueName(n.name)),he(o,n),n.extensions&&ge(r,o,n);for(var i=n.nodes||[],s=[],l=0,c=i.length;l<c;l++)s.push(we(i[l],o,t,a));return Promise.all(s).then((function(){return a.associations=function(e){var t,r=new Map,n=d(a.associations);try{for(n.s();!(t=n.n()).done;){var o=p(t.value,2),i=o[0],s=o[1];(i instanceof u.C||i instanceof u.eb)&&r.set(i,s)}}catch(e){n.e(e)}finally{n.f()}return e.traverse((function(e){var t=a.associations.get(e);null!=t&&r.set(e,t)})),r}(o),o}))}}]),e}();function we(e,t,r,n){var a=r.nodes[e];return n.getDependency("node",e).then((function(e){return void 0===a.skin?e:n.getDependency("skin",a.skin).then((function(e){for(var r=[],a=0,o=(t=e).joints.length;a<o;a++)r.push(n.getDependency("node",t.joints[a]));return Promise.all(r)})).then((function(r){return e.traverse((function(e){if(e.isMesh){for(var n=[],a=[],o=0,i=r.length;o<i;o++){var s=r[o];if(s){n.push(s);var l=new u.E;void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*o),a.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new u.Z(n,a),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var o=[];if(a.children)for(var i=a.children,s=0,l=i.length;s<l;s++){var c=i[s];o.push(we(c,e,r,n))}return Promise.all(o)}))}function Ie(e,t,r){var n=t.attributes,a=[];function o(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(var i in n){var s=ue[i]||i.toLowerCase();s in e.attributes||a.push(o(n[i],s))}if(void 0!==t.indices&&!e.index){var l=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(l)}return he(e,t),function(e,t,r){var n=t.attributes,a=new u.c;if(void 0!==n.POSITION){var o=r.json.accessors[n.POSITION],i=o.min,s=o.max;if(void 0!==i&&void 0!==s){if(a.set(new u.jb(i[0],i[1],i[2]),new u.jb(s[0],s[1],s[2])),o.normalized){var l=Oe(ie[o.componentType]);a.min.multiplyScalar(l),a.max.multiplyScalar(l)}var c=t.targets;if(void 0!==c){for(var p=new u.jb,d=new u.jb,f=0,m=c.length;f<m;f++){var y=c[f];if(void 0!==y.POSITION){var g=r.json.accessors[y.POSITION],h=g.min,b=g.max;if(void 0!==h&&void 0!==b){if(d.setX(Math.max(Math.abs(h[0]),Math.abs(b[0]))),d.setY(Math.max(Math.abs(h[1]),Math.abs(b[1]))),d.setZ(Math.max(Math.abs(h[2]),Math.abs(b[2]))),g.normalized){var v=Oe(ie[g.componentType]);d.multiplyScalar(v)}p.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(p)}e.boundingBox=a;var O=new u.bb;a.getCenter(O.center),O.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=O}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,r),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,r){for(var n=!1,a=!1,o=0,i=t.length;o<i;o++){var s=t[o];if(void 0!==s.POSITION&&(n=!0),void 0!==s.NORMAL&&(a=!0),n&&a)break}if(!n&&!a)return Promise.resolve(e);for(var l=[],c=[],u=0,p=t.length;u<p;u++){var d=t[u];if(n){var f=void 0!==d.POSITION?r.getDependency("accessor",d.POSITION):e.attributes.position;l.push(f)}if(a){var m=void 0!==d.NORMAL?r.getDependency("accessor",d.NORMAL):e.attributes.normal;c.push(m)}}return Promise.all([Promise.all(l),Promise.all(c)]).then((function(t){var r=t[0],o=t[1];return n&&(e.morphAttributes.position=r),a&&(e.morphAttributes.normal=o),e.morphTargetsRelative=!0,e}))}(e,t.targets,r):e}))}function xe(e,t){var r=e.getIndex();if(null===r){var n=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<a.count;o++)n.push(o);e.setIndex(n),r=e.getIndex()}var i=r.count-2,s=[];if(t===u.gb)for(var l=1;l<=i;l++)s.push(r.getX(0)),s.push(r.getX(l)),s.push(r.getX(l+1));else for(var c=0;c<i;c++)c%2==0?(s.push(r.getX(c)),s.push(r.getX(c+1)),s.push(r.getX(c+2))):(s.push(r.getX(c+2)),s.push(r.getX(c+1)),s.push(r.getX(c)));s.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var p=e.clone();return p.setIndex(s),p}var Se=M,Ce=r(3),Me=r.n(Ce);function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ae=function(e){var t=Object(n.useContext)(i.b),r=Ee(Object(n.useState)(!0),2),o=r[0],l=r[1],p=Object(n.useRef)(!0),d=Object(n.useRef)(!1),f=Object(n.useRef)(null),m=Object(n.useRef)(e.init),y=function(){f.current&&f.current.style&&(f.current.getLayer("3d-model")&&f.current.removeLayer("3d-model"),f.current=null)};return Object(n.useEffect)((function(){return"function"==typeof m.current&&m.current(),y}),[]),Object(n.useEffect)((function(){if(t.mapExists(e.mapId)&&!d.current){d.current=!0,f.current=t.getMap(e.mapId),f.current.setCenter([7.099771581806502,50.73395746209983]),f.current.setZoom(15),f.current.setPitch(45);var r=[Math.PI/2,90,0],n=c.a.MercatorCoordinate.fromLngLat([7.099771581806502,50.73395746209983],0),a={translateX:n.x+8e-7,translateY:n.y+18e-7,translateZ:n.z,rotateX:r[0],rotateY:r[1],rotateZ:r[2],scale:n.meterInMercatorCoordinateUnits()+3e-8},o={id:"3d-model",type:"custom",renderingMode:"3d",onAdd:function(t,r){this.camera=new u.f,this.scene=new u.Y;var n=new u.i(16777215);n.position.set(0,-70,100).normalize(),this.scene.add(n);var a=new u.i(16777215);a.position.set(0,70,100).normalize(),this.scene.add(a),(new Se).load("assets/3D/godzilla_simple.glb",function(t){this.scene.add(t.scene),"function"==typeof e.onDone&&e.onDone()}.bind(this)),this.map=t,this.renderer=new u.lb({canvas:t.getCanvas(),context:r,antialias:!0}),this.renderer.autoClear=!1},render:function(e,t){var r=(new u.E).makeRotationAxis(new u.jb(1,0,0),a.rotateX),n=(new u.E).makeRotationAxis(new u.jb(0,1,0),a.rotateY),o=(new u.E).makeRotationAxis(new u.jb(0,0,1),a.rotateZ),i=(new u.E).fromArray(t),s=(new u.E).makeTranslation(a.translateX,a.translateY,a.translateZ).scale(new u.jb(a.scale,-a.scale,a.scale)).multiply(r).multiply(n).multiply(o);this.camera.projectionMatrix=i.multiply(s),this.renderer.resetState(),this.renderer.render(this.scene,this.camera),this.map.triggerRepaint()}};f.current.addLayer(o),f.current.getLayer("3d-model")&&f.current.setLayoutProperty("3d-model","visibility","visible")}}),[t.mapIds,t,e]),Object(n.useEffect)((function(){f.current&&f.current.getLayer("3d-model")&&(o?f.current.setLayoutProperty("3d-model","visibility","visible"):f.current.setLayoutProperty("3d-model","visibility","none"))}),[o,t]),a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{color:"primary",variant:o?"contained":"outlined",onClick:function(){l(!o),p.current=!o}},"3D"))};Ae.propTypes={mapId:Me.a.string,init:Me.a.func,onDone:Me.a.func};var Le=Ae,He=r(19);r(110);var ke=a.a.createContext({});ke.Provider;function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Me.a.node.isRequired;var Ge={title:"MapComponents/MlThreeJsLayer",component:Le,argTypes:{options:{control:{type:"object"}}},decorators:He.a},De=(t.default=Ge,function(e){var t=Object(n.useContext)(ke);return a.a.createElement(o.a,null,a.a.createElement(Le,{init:function(){var e;return null==t||null===(e=t.setControlled)||void 0===e?void 0:e.call(t,!0)},onDone:function(){return setTimeout((function(){var e;return null==t||null===(e=t.setLoadingDone)||void 0===e?void 0:e.call(t,!0)}),1200)}}))}.bind({}));De.parameters={},De.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){Re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(args) => {\n\tconst loadingOverlayContext = useContext(LoadingOverlayContext);\n\n\treturn (\n\t\t<TopToolbar>\n\t\t\t<MlThreeJsLayer\n\t\t\t\tinit={() => loadingOverlayContext?.setControlled?.(true)}\n\t\t\t\tonDone={() =>\n\t\t\t\t\tsetTimeout(() => loadingOverlayContext?.setLoadingDone?.(true), 1200)\n\t\t\t\t}\n\t\t\t/>\n\t\t</TopToolbar>\n\t);\n}"}},De.parameters)},1076:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"parameters",(function(){return i}));var a=r(1168),o=r(12),i=(r(996),{docs:{inlineStories:!1},actions:{argTypesRegex:"^on[A-Z].*"}});function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.keys(n).forEach((function(e){var t=n[e];switch(e){case"args":case"argTypes":return o.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(t));case"decorators":return t.forEach((function(e){return Object(a.d)(e,!1)}));case"loaders":return t.forEach((function(e){return Object(a.e)(e,!1)}));case"parameters":return Object(a.f)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),!1);case"argTypesEnhancers":return t.forEach((function(e){return Object(a.b)(e)}));case"argsEnhancers":return t.forEach((function(e){return Object(a.c)(e)}));case"render":return Object(a.g)(t);case"globals":case"globalTypes":var r={};return r[e]=t,Object(a.f)(r,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(e+" was not supported :( !")}}))},1077:function(e,t,r){"use strict";r.r(t),r.d(t,"DefaultConfig",(function(){return O})),r.d(t,"No3DButton",(function(){return j})),r.d(t,"ShowCenterLocationButton",(function(){return w})),r.d(t,"AlterToolPosition",(function(){return I})),r.d(t,"NoZoomButtons",(function(){return x})),r.d(t,"NoFollowGpsButton",(function(){return S})),r.d(t,"CustomButton",(function(){return C}));var n=r(0),a=r.n(n),o=r(101),i=r(110),s=r(75),l=(r(297),r(248)),c=r(1098),u=Object(l.a)({}),p=[function(e){return a.a.createElement("div",{className:"fullscreen_map"},a.a.createElement(c.a,{theme:u},a.a.createElement(i.a,null,a.a.createElement(e,null),a.a.createElement(s.a,{options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]},mapId:"map_1"}))))}],d=r(599),f=r.n(d),m=r(128);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b={title:"MapComponents/MlNavigationTools",component:o.a,argTypes:{url:{},layer:{}},decorators:p},v=(t.default=b,function(e){return a.a.createElement(o.a,e)}),O=v.bind({});O.parameters={},O.args={};var j=v.bind({});j.parameters={},j.args={show3DButton:!1};var w=v.bind({});w.parameters={},w.args={showFollowGpsButton:!1,showCenterLocationButton:!0};var I=v.bind({});I.parameters={},I.args={sx:{top:"10px",right:"5px"}};var x=v.bind({});x.parameters={},x.args={showZoomButtons:!1};var S=v.bind({});S.parameters={},S.args={showFollowGpsButton:!1};var C=v.bind({});C.parameters={},C.args={children:a.a.createElement(m.a,{onClick:function(){}},a.a.createElement(f.a,{sx:{fontSize:"1em"}}))},O.parameters=g({storySource:{source:"(args) => <MlNavigationTools {...args} />"}},O.parameters),j.parameters=g({storySource:{source:"(args) => <MlNavigationTools {...args} />"}},j.parameters),w.parameters=g({storySource:{source:"(args) => <MlNavigationTools {...args} />"}},w.parameters),I.parameters=g({storySource:{source:"(args) => <MlNavigationTools {...args} />"}},I.parameters),x.parameters=g({storySource:{source:"(args) => <MlNavigationTools {...args} />"}},x.parameters),S.parameters=g({storySource:{source:"(args) => <MlNavigationTools {...args} />"}},S.parameters),C.parameters=g({storySource:{source:"(args) => <MlNavigationTools {...args} />"}},C.parameters)},1078:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return z}));var n=r(0),a=r.n(n),o=r(3),i=r.n(o),s=r(36),l=r(200),c=r(52);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(){var e=Object.fromEntries(new URLSearchParams(window.location.search));return e.layers=JSON.parse(null!=e&&e.layers?e.layers:"[]"),e},g=y(),h=function(e){var t=Object(n.useContext)(s.b),r=Object(n.useRef)(!1),o=Object(n.useRef)(void 0),i=f(Object(n.useState)(void 0),2),u=i[0],d=i[1],m=Object(n.useRef)({}),h=Object(n.useRef)((e.idPrefix?e.idPrefix:"MlShareMapState-")+Object(l.a)()),b=Object(c.a)({watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!1}}),v=Object(n.useRef)(!1),O=Object(n.useRef)(void 0),j=Object(n.useRef)({viewport:{center:!1,bearing:!1,pitch:!1,zoom:!1},layers:p({},m)}),w=Object(n.useRef)({}),I=Object(n.useCallback)((function(){if(e.active){var t=[];for(var r in b.layers)t.push({id:b.layers[r].id,type:b.layers[r].type,visible:b.layers[r].visible});x();var n=new URLSearchParams(p(p(p({},y()),w.current),{},{layers:JSON.stringify(t)}));JSON.parse(Object.fromEntries(n).layers).forEach((function(e){m.current[e.id]=!1}));var a=new URLSearchParams(window.location.search);S(b.layers),n.toString()!==a.toString()&&window.history.pushState(p({},w.current),document.title,"?"+n.toString())}}),[b.layers,e.active]);Object(n.useEffect)((function(){var e=h.current;return w.current=y(),function(){o.current&&(o.current.cleanup(e),o.current=void 0),r.current=!1}}),[]),Object(n.useEffect)((function(){o.current&&I()}),[I]),Object(n.useEffect)((function(){if(o.current){var e=I;return o.current.on("moveend",e,h.current),function(){var t;null===(t=o.current)||void 0===t||t.off("moveend",e)}}}),[I,u]),Object(n.useEffect)((function(){var n;null!=t&&null!==(n=t.mapExists)&&void 0!==n&&n.call(t,e.mapId)&&!r.current&&(r.current=!0,o.current=t.getMap(e.mapId),d(o.current),w.current.lat&&w.current.lng&&C())}),[t.mapIds,t,e.mapId,e.active]),Object(n.useEffect)((function(){var e;if(null!=b&&null!==(e=b.layers)&&void 0!==e&&e.length){for(var t in void 0===O.current&&(O.current={},null==g||g.layers.forEach((function(e){O.current[e.id]=!1}))),O.current){var r=!0;if(!1===O.current[t]&&(r=!1),r)return}g.layers&&g.layers.forEach((function(e){var t,r,n;null!==(t=o.current)&&void 0!==t&&t.getLayer(e.id)&&!1===O.current[e.id]&&(O.current[e.id]=!0,null===(r=o.current)||void 0===r||null===(n=r.getLayer(e.id))||void 0===n||n.setLayoutProperty("visibility",e.visible?"visible":"none"))}))}}),[b.layers,e.mapId,e.active]),Object(n.useEffect)((function(){u&&b.layers&&(e.active||u.cleanup(h.current))}),[e.active,u,b.layers]);var x=function(){w.current.lat=o.current.getCenter().lat,w.current.lng=o.current.getCenter().lng,w.current.zoom=o.current.getZoom(),w.current.bearing=o.current.getBearing(),w.current.pitch=o.current.getPitch()},S=function(e){var t={};e.forEach((function(e,r,n){n[e.key]||(t[e.key]=!0)}))},C=function(){j.current.viewport.center||(j.current.viewport.center=!0,o.current.setCenter([w.current.lng,w.current.lat]),o.current.setZoom(w.current.zoom),o.current.setBearing(w.current.bearing),o.current.setPitch(w.current.pitch)),v.current=!0};return window.onpopstate=function(e){e.state&&e.state.lng&&e.state.lat&&e.state.zoom&&o.current.easeTo({zoom:e.state.zoom,center:[e.state.lng,e.state.lat]})},a.a.createElement(a.a.Fragment,null)};h.defaultProps={mapId:void 0},h.propTypes={mapId:i.a.string};var b=h,v=r(19),O=r(18),j=r(317),w=r(1100),I=r(251),x=r(318),S=r.n(x),C=r(319),M=r.n(C),E=r(1097),P=r(192),A=r(608),L=r(1103),H=r(45),k=r(1185),T=r(609),R=r.n(T),G=r(610),D=r.n(G);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U={title:"MapComponents/MlShareMapState",component:b,argTypes:{},decorators:v.a},z=(t.default=U,function(){var e,t=[P,A],r=F(Object(n.useState)(!0),2),o=r[0],i=r[1],s=Object(O.a)({mapId:"map_1"}),l=Object(c.a)({mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!1}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{active:o}),t.map((function(e,t){return a.a.createElement(H.a,{layerId:"GeoJson_"+t,type:"line",geojson:e,key:"GeoJson_"+t})})),a.a.createElement(j.a,{sx:{wordBreak:"break-word"}},a.a.createElement(k.a,{size:"small",selected:o,value:o,onChange:function(){i(!o)}},o?a.a.createElement(R.a,null):a.a.createElement(D.a,null),o?"active":"inactive"),a.a.createElement(L.a,{dense:!0,key:"layers"},null===(e=l.layers)||void 0===e?void 0:e.map((function(e){return a.a.createElement(w.a,{key:e.id,secondaryAction:a.a.createElement(I.a,{edge:"end","aria-label":"toggle visibility",onClick:function(){var t,r,n,a,o,i,l=null===(t=s.map)||void 0===t||null===(r=t.getLayer)||void 0===r||null===(n=r.call(t,e.id))||void 0===n?void 0:n.getLayoutProperty("visibility");null===(a=s.map)||void 0===a||null===(o=a.getLayer)||void 0===o||null===(i=o.call(a,e.id))||void 0===i||i.setLayoutProperty("visibility","none"===l?"visible":"none"),s.map.map.fire("zoom")}},e.visible?a.a.createElement(S.a,null):a.a.createElement(M.a,null))},a.a.createElement(E.a,{primary:e.id,secondary:""}))})))))}.bind({}));z.parameters={},z.args={},z.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:'() => {\n\tconst geoJsonArray = [sample_geojson_1, sample_geojson_2];\n\tconst [watchState, setWatchState] = useState(true);\n\tconst mapHook = useMap({ mapId: "map_1" });\n\tconst mapState = useMapState({\n\t\tmapId: "map_1",\n\t\twatch: {\n\t\t\tviewport: false,\n\t\t\tlayers: true,\n\t\t\tsources: false,\n\t\t},\n\t\tfilter: {\n\t\t\tincludeBaseLayers: false,\n\t\t},\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<MlShareMapState active={watchState} />\n\t\t\t{geoJsonArray.map((el, i) => (\n\t\t\t\t<MlGeoJsonLayer layerId={"GeoJson_" + i} type="line" geojson={el} key={"GeoJson_" + i} />\n\t\t\t))}\n\t\t\t<Sidebar sx={{ wordBreak: "break-word" }}>\n\t\t\t\t<ToggleButton\n\t\t\t\t\tsize="small"\n\t\t\t\t\tselected={watchState}\n\t\t\t\t\tvalue={watchState}\n\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\tsetWatchState(!watchState);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{watchState ? <CheckCircleOutlineIcon /> : <ErrorOutlineIcon />}\n\n\t\t\t\t\t{watchState ? "active" : "inactive"}\n\t\t\t\t</ToggleButton>\n\t\t\t\t<List dense key="layers">\n\t\t\t\t\t{mapState.layers?.map((el) => (\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tkey={el.id}\n\t\t\t\t\t\t\tsecondaryAction={\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tedge="end"\n\t\t\t\t\t\t\t\t\taria-label="toggle visibility"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tlet currentVisibility = mapHook.map\n\t\t\t\t\t\t\t\t\t\t\t?.getLayer?.(el.id)\n\t\t\t\t\t\t\t\t\t\t\t?.getLayoutProperty("visibility");\n\t\t\t\t\t\t\t\t\t\tmapHook.map\n\t\t\t\t\t\t\t\t\t\t\t?.getLayer?.(el.id)\n\t\t\t\t\t\t\t\t\t\t\t?.setLayoutProperty(\n\t\t\t\t\t\t\t\t\t\t\t\t"visibility",\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentVisibility === "none" ? "visible" : "none"\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tmapHook.map.map.fire("zoom");\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{el.visible ? <VisibilityIcon /> : <VisibilityOffIcon />}\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText primary={el.id} secondary={""} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t</Sidebar>\n\t\t</>\n\t);\n}'}},z.parameters)},1079:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return h}));var n=r(0),a=r.n(n),o=r(3),i=r.n(o),s=r(52);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){var t=Object(s.a)({mapId:e.mapId,watch:c({layers:!0,sources:!1,viewport:!1},e.watch),filter:c({},e.filter)}),r=Object(n.useRef)(0);return r.current=r.current+1,a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{overflow:"hidden",width:"100px",height:"20px"}},"Render: ",r.current,a.a.createElement("br",null),a.a.createElement("pre",null,JSON.stringify(t,null," "))))};p.defaultProps={mapId:void 0},p.propTypes={mapId:i.a.string};var d=p,f=r(19);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g={title:"MapComponents/MlUseMapDebugger",component:d,argTypes:{url:{},layer:{}},decorators:f.a},h=(t.default=g,function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(d,e))}.bind({}));h.parameters={},h.args={mapId:"map_1"},h.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(props) => {\n\treturn (\n\t\t<>\n\t\t\t<MlUseMapDebugger {...props} />\n\t\t</>\n\t);\n}"}},h.parameters)},1080:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return y}));var n=r(0),a=r.n(n),o=r(3),i=r.n(o),s=r(36),l=r(200),c=function(e){var t=Object(n.useContext)(s.b),r=Object(n.useRef)(!1),o=Object(n.useRef)(void 0),i=Object(n.useRef)((e.idPrefix?e.idPrefix:"MlWmsFeatureInfoPopup-")+Object(l.a)());return Object(n.useEffect)((function(){var e=i.current;return function(){o.current&&(o.current.cleanup(e),o.current=void 0),r.current=!1}}),[]),Object(n.useEffect)((function(){t.mapExists(e.mapId)&&!r.current&&(r.current=!0,o.current=t.getMap(e.mapId),o.current.setCenter([7.132122000552613,50.716405378037706]))}),[t.mapIds,t,e.mapId]),a.a.createElement(a.a.Fragment,null)};c.defaultProps={mapId:void 0},c.propTypes={mapId:i.a.string};var u=c,p=r(19);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m={title:"MapComponents/MlWmsFeatureInfoPopup",component:u,argTypes:{url:{},layer:{}},decorators:p.a},y=(t.default=m,function(e){return a.a.createElement(u,null)}.bind({}));y.parameters={},y.args={},y.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(args) => <MlWmsFeatureInfoPopup />"}},y.parameters)},1081:function(e,t,r){"use strict";r.r(t),r.d(t,"ExampleConfig",(function(){return F}));var n=r(0),a=r.n(n),o=r(36),i=r(200),s=r(79),l=r(157),c=r(156),u=r(306),p=r(318),d=r.n(p),f=r(319),m=r.n(f),y=r(1103),g=r(1100),h=r(1097),b=r(251);function v(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M=2*Math.PI*6378137/2,E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enable:!0,decimal:1},r=e.lng,n=e.lat,a=r*M/180,o=Math.log(Math.tan((90+n)*Math.PI/360))/(Math.PI/180);return o=o*M/180,t.enable&&(a=Number(a.toFixed(t.decimal)),o=Number(o.toFixed(t.decimal))),[a,o]},P=function(e){var t,r,p,f,j,I,S=Object(n.useContext)(o.b),C=Object(u.a)({url:void 0,urlParameters:e.urlParameters}),M=C.capabilities,P=C.error,A=C.setUrl,L=C.getFeatureInfoUrl,H=C.wmsUrl,k=Object(n.useRef)(!1),T=Object(n.useRef)(),R=Object(n.useRef)((e.idPrefix?e.idPrefix:"MlWmsLoader-")+Object(i.a)()),G=x(Object(n.useState)([]),2),D=G[0],_=G[1],N=x(Object(n.useState)(),2),F=N[0],B=N[1],U=x(Object(n.useState)(void 0),2),z=U[0],W=U[1];Object(n.useEffect)((function(){var e=R.current;return function(){T.current&&(T.current.cleanup(e),T.current=void 0),k.current=!1}}),[]),Object(n.useEffect)((function(){k.current&&A(e.url)}),[e.url]);var V=Object(n.useCallback)((function(t){var r,n,a,o,i,s,l;if(T.current){B(void 0),W(void 0);var c,u=T.current.map.getBounds(),p=E(u._sw),d=E(u._ne),f={REQUEST:"GetFeatureInfo",BBOX:[p[0],p[1],d[0],d[1]].join(","),SERVICE:"WMS",INFO_FORMAT:-1!==(null==M||null===(r=M.Capability)||void 0===r||null===(n=r.Request)||void 0===n?void 0:n.GetFeatureInfo.Format.indexOf("text/html"))?"text/html":"text/plain",FEATURE_COUNT:"10",LAYERS:D.map((function(e){return e.visible&&e.queryable?e.Name:void 0})).filter((function(e){return e})),QUERY_LAYERS:D.map((function(e){return e.visible&&e.queryable?e.Name:void 0})).filter((function(e){return e})),WIDTH:null===(a=T.current)||void 0===a?void 0:a.map._container.clientWidth,HEIGHT:null===(o=T.current)||void 0===o?void 0:o.map._container.clientHeight,srs:"EPSG:3857",CRS:"EPSG:3857",version:"1.3.0",X:t.point.x,Y:t.point.y,I:t.point.x,J:t.point.y,buffer:"50"},m=L;-1!==(null===(i=m)||void 0===i||null===(s=i.indexOf)||void 0===s?void 0:s.call(i,"?"))&&(m=(c=e.url.split("?"))[0]);var y=new URLSearchParams(null===(l=c)||void 0===l?void 0:l[1]),g=w(w({},Object.fromEntries(y)),f),h=new URLSearchParams(g);fetch(e.url+"?"+h.toString()).then((function(e){if(!e.ok)throw new Error("FeatureInfo could not be fetched");return e.text()})).then((function(e){B(t.lngLat),W(e)})).catch((function(e){return console.log(e)}))}}),[M,L]);return Object(n.useEffect)((function(){if(T.current){var e=V;return T.current.on("click",e,R.current),function(){var t,r,n;null===(t=T.current)||void 0===t||null===(r=(n=t.map).off)||void 0===r||r.call(n,"click",e)}}}),[V]),Object(n.useEffect)((function(){var e,t,r,n;if(null!=M&&M.Service)if(-1===(null==M||null===(e=M.Capability)||void 0===e||null===(t=e.Layer)||void 0===t||null===(r=t.SRS)||void 0===r||null===(n=r.indexOf)||void 0===n?void 0:n.call(r,"EPSG:3857")))console.log("MlWmsLoader ("+M.Service.Title+"): No WGS 84/Pseudo-Mercator support");else{var a,o;console.log("MlWmsLoader ("+M.Service.Title+"): WGS 84/Pseudo-Mercator supported");var i=[];_(null==M||null===(a=M.Capability)||void 0===a||null===(o=a.Layer)||void 0===o?void 0:o.Layer.map((function(e,t){var r,n,a;return 0===t&&((i=e.LatLonBoundingBox)||(i=e.EX_GeographicBoundingBox)),e.visible=!((null==M||null===(r=M.Capability)||void 0===r||null===(n=r.Layer)||void 0===n||null===(a=n.Layer)||void 0===a?void 0:a.length)>2)||t>1,e}))),T.current&&i.length>3&&T.current.map.fitBounds([[i[0],i[1]],[i[2],i[3]]])}}),[M]),Object(n.useEffect)((function(){var t;null!=S&&null!==(t=S.mapExists)&&void 0!==t&&t.call(S,e.mapId)&&!k.current&&(k.current=!0,T.current=S.getMap(e.mapId),console.log("set url "+e.url),A(e.url))}),[S.mapIds,S,e.mapId,e.url]),a.a.createElement(a.a.Fragment,null,P&&a.a.createElement("p",null,P),a.a.createElement("h3",{key:"title"},null==M||null===(t=M.Service)||void 0===t?void 0:t.Title),console.log(R.current),null==M||null===(r=M.Capability)||void 0===r||null===(p=r.Layer)||void 0===p?void 0:p.Layer.map((function(e,t){return a.a.createElement(c.a,O({layerId:"Order-"+R.current+"-"+t,key:R.current+"-"+t},t>0?{insertBeforeLayer:"Order-"+R.current+"-"+(t-1)}:void 0))})),a.a.createElement(y.a,{dense:!0,key:"layers"},H&&(null==D||null===(f=D.map)||void 0===f?void 0:f.call(D,(function(t,r){return null!=t&&t.Name?a.a.createElement(g.a,{key:t.Name+r,secondaryAction:a.a.createElement(b.a,{edge:"end","aria-label":"toggle visibility",onClick:function(){var e=v(D);e[r].visible=!e[r].visible,_(v(e))}},D[r].visible?a.a.createElement(d.a,null):a.a.createElement(m.a,null))},a.a.createElement(h.a,{primary:null==t?void 0:t.Title,secondary:null==t?void 0:t.Abstract}),a.a.createElement(s.a,{key:(null==t?void 0:t.Name)+r,url:H,urlParameters:w(w({},e.wmsUrlParameters),{},{layers:null==t?void 0:t.Name}),visible:D[r].visible,insertBeforeLayer:"Order-"+R.current+"-"+r})):a.a.createElement(a.a.Fragment,null)})))),a.a.createElement("p",{key:"description",style:{fontSize:".7em"}},null==M||null===(j=M.Capability)||void 0===j||null===(I=j.Layer)||void 0===I?void 0:I.Abstract),F&&a.a.createElement(l.a,O({},F,{content:z})))};P.defaultProps={url:"",urlParameters:{SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetCapabilities"},wmsUrlParameters:{TRANSPARENT:"TRUE"}};var A=P;try{P.displayName="MlWmsLoader",P.__docgenInfo={description:"Loads a WMS getCapabilities xml document and adds a MlWmsLayer component for each layer that is\noffered by the WMS.\n\nTODO: EaseTo the extend offered by the WMS in a zoom level that is supported",displayName:"MlWmsLoader",props:{url:{defaultValue:{value:""},description:"WMS URL",name:"url",required:!1,type:{name:"string"}},mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!0,type:{name:"string"}},urlParameters:{defaultValue:{value:'{\n\t\tSERVICE: "WMS",\n\t\tVERSION: "1.3.0",\n\t\tREQUEST: "GetCapabilities",\n\t}'},description:"URL parameters that will be used in the getCapabilities request",name:"urlParameters",required:!1,type:{name:"object"}},wmsUrlParameters:{defaultValue:{value:'{\n\t\tTRANSPARENT: "TRUE",\n\t}'},description:"URL parameters that will be added when requesting WMS capabilities",name:"wmsUrlParameters",required:!1,type:{name:"object"}},layerUrlParameters:{defaultValue:null,description:"URL parameters that will be added when requesting tiles",name:"layerUrlParameters",required:!0,type:{name:"object"}},lngLat:{defaultValue:null,description:"",name:"lngLat",required:!0,type:{name:"LngLat"}},idPrefix:{defaultValue:null,description:"",name:"idPrefix",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlWmsLoader/MlWmsLoader.tsx#MlWmsLoader"]={docgenInfo:P.__docgenInfo,name:"MlWmsLoader",path:"src/components/MlWmsLoader/MlWmsLoader.tsx#MlWmsLoader"})}catch(e){}var L=r(1170),H=r(19),k=r(317);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N={title:"MapComponents/MlWmsLoader",component:A,argTypes:{url:{},layer:{}},decorators:H.a},F=(t.default=N,function(e){var t=D(Object(n.useState)(e.url),2),r=t[0],o=t[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,{sx:{wordBreak:"break-word"}},a.a.createElement(L.a,{label:"WMS Url",variant:"standard",value:r,onChange:function(e){return o(e.target.value)}}),a.a.createElement(A,G({},e,{url:r}))))}.bind({}));F.parameters={},F.args={url:"https://www.wms.nrw.de/geobasis/wms_nw_vdop"},F.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:'(props) => {\n\tconst [url, setUrl] = useState(props.url);\n\n\treturn (\n\t\t<>\n\t\t\t<Sidebar sx={{ wordBreak: "break-word" }}>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel="WMS Url"\n\t\t\t\t\tvariant="standard"\n\t\t\t\t\tvalue={url}\n\t\t\t\t\tonChange={(ev) => setUrl(ev.target.value)}\n\t\t\t\t/>\n\t\t\t\t<MlWmsLoader {...props} url={url} />\n\t\t\t</Sidebar>\n\t\t</>\n\t);\n}'}},F.parameters)},110:function(e,t,r){"use strict";r.d(t,"a",(function(){return d.a})),r.d(t,"b",(function(){return d.b}));r(75),r(230),r(238),r(159),r(231),r(154),r(45),r(232),r(193),r(101),r(155),r(156),r(233),r(79),r(194),r(234),r(235),r(239),r(157),r(158),r(187),r(139),r(236);var n=r(0),a=r.n(n),o=r(3),i=r.n(o),s=r(18);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){var t=Object(s.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=Object(n.useRef)(e.layerId||"MlOsmLayer-"+t.componentId);return Object(n.useEffect)((function(){t.map&&(t.map.addSource(r.current,c({type:"raster",tileSize:256},e.sourceOptions),t.componentId),t.map.addLayer(c({id:r.current,type:"raster",source:r.current,minzoom:0,maxzoom:22},e.layerOptions),e.insertBeforeLayer,t.componentId))}),[e,t.map]),a.a.createElement(a.a.Fragment,null)};p.propTypes={mapId:i.a.string,idPrefix:i.a.string,sourceOptions:i.a.object,layerOptions:i.a.object,insertBeforeLayer:i.a.string};var d=r(36),f=(r(78),r(52),r(306),a.a.createContext({})),m=f.Provider,y=r(328);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){var t=g(Object(n.useState)(null),2),r=t[0],o=t[1];Object(n.useEffect)((function(){if(e.url){var t=null;"json"===e.format?t=y.b(e.url):"csv"===e.format?t=y.a(e.url):"xml"===e.format&&(t=y.c(e.url)),t&&t.then((function(t){if("xml"===e.format){if(e.nodeType){var r=[];t.querySelectorAll(e.nodeType).forEach((function(t){r.push(e.formatData(t))})),o(r)}}else e.data_property&&(t=t[e.data_property]),"function"==typeof e.formatData?o(t.map(e.formatData)):o(t);"function"==typeof e.onData&&e.onData()}))}}),[e.url,e]);var i={data:r,setData:o};return a.a.createElement(m,{value:i},e.children)};b.propTypes={children:i.a.node.isRequired}},139:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0),a=r.n(n).a.createContext({}),o=a.Provider;t.b=a},154:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(18),i=r(45),s=r(128),l=r(309),c=r.n(l),u=r(28);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t,r,l=Object(o.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),p=m(Object(n.useState)(!1),2),f=p[0],y=p[1],g=m(Object(n.useState)(),2),h=g[0],b=g[1],v=m(Object(n.useState)(!1),2),O=v[0],j=v[1],w=m(Object(n.useState)(),2),I=w[0],x=w[1],S=m(Object(n.useState)(0),2),C=S[0],M=S[1],E=Object(n.useRef)(!1),P=Object(n.useCallback)((function(t){if(l.map&&((!e.centerUserPosition&&!E.current||e.centerUserPosition)&&(e.useFlyTo?l.map.map.flyTo({center:[t.coords.longitude,t.coords.latitude],zoom:18,speed:1,curve:1}):l.map.map.setCenter([t.coords.longitude,t.coords.latitude]),E.current=!0),e.showUserLocation)){var r=Object(u.point)([t.coords.longitude,t.coords.latitude]);b(r),x(Object(u.circle)(r,t.coords.accuracy/1e3))}}),[l.map,e]),A=function(){console.log("Access of user location denied"),j(!0)},L=Object(n.useMemo)((function(){if(h){var e=C-15,t=C+15,r=Object(u.lineArc)(h,.02,e,t,{steps:65});return r.geometry.coordinates.push(h.geometry.coordinates),r.geometry.coordinates.slice(0,0),r}}),[C,h]),H=function(e){M(-e.alpha)};return Object(n.useEffect)((function(){if(f){var e=H;return window.addEventListener("deviceorientation",e),function(){window.removeEventListener("deviceorientation",e)}}E.current=!1}),[f]),Object(n.useEffect)((function(){if(l.map&&f){var e=navigator.geolocation.watchPosition(P,A);return function(){navigator.geolocation.clearWatch(e)}}}),[l.map,f,P]),a.a.createElement(a.a.Fragment,null,f&&h&&a.a.createElement(i.a,{geojson:I,type:"fill",paint:d({"fill-color":"#cbd300","fill-opacity":.3},e.accuracyPaint),insertBeforeLayer:e.insertBeforeLayer}),f&&L&&a.a.createElement(i.a,{geojson:L,type:"fill",paint:d({"fill-color":"#0000ff","fill-antialias":!1,"fill-opacity":.3},e.orientationConePaint),insertBeforeLayer:e.insertBeforeLayer}),f&&h&&a.a.createElement(i.a,{geojson:h,type:"circle",paint:d({"circle-color":"#009ee0","circle-radius":5,"circle-stroke-color":"#fafaff","circle-stroke-width":1},e.circlePaint),insertBeforeLayer:e.insertBeforeLayer}),a.a.createElement(s.a,{sx:d({zIndex:1002,color:f?e.onColor:e.offColor},e.buttonSx),disabled:O,onClick:function(){y(!f)}}," ",a.a.createElement(c.a,{sx:d({},null!==(t=e.buttonSx)&&void 0!==t&&t.fontSize?{fontSize:null===(r=e.buttonSx)||void 0===r?void 0:r.fontSize}:{})})," "))};g.defaultProps={mapId:void 0,buttonSx:{minWidth:"30px",minHeight:"30px",width:"30px",height:"30px",backgroundColor:"#414141",borderRadius:"23%",margin:.15,fontSize:"1.3em",":hover":{backgroundColor:"#515151",color:"#ececec"}},onColor:"#ececec",offColor:"#666",showAccuracyCircle:!0,showUserLocation:!0,showOrientation:!0,centerUserPosition:!0,useFlyTo:!1},t.a=g;try{g.displayName="MlFollowGps",g.__docgenInfo={description:"Adds a button that makes the map follow the users GPS position using\nnavigator.geolocation.watchPosition if activated",displayName:"MlFollowGps",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'The layerId of an existing layer this layer should be rendered visually beneath\nhttps://maplibre.org/maplibre-gl-js-docs/api/map/#map#addlayer - see "beforeId" property',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},showUserLocation:{defaultValue:{value:"true"},description:"By default a dot will be shown on the map at the user's location. Set to false to disable.",name:"showUserLocation",required:!1,type:{name:"boolean | undefined"}},showOrientation:{defaultValue:{value:"true"},description:"By default a cone will be shown on the map at the user's location to indicate the device's orientation.\nSet to false to disable.",name:"showOrientation",required:!1,type:{name:"boolean | undefined"}},showAccuracyCircle:{defaultValue:{value:"true"},description:"By default, if showUserLocation is true, a transparent circle will be drawn around the user location\nindicating the accuracy (95% confidence level) of the user's location. Set to false to disable.",name:"showAccuracyCircle",required:!1,type:{name:"boolean | undefined"}},useFlyTo:{defaultValue:{value:"false"},description:"Use the MapLibre.flyTo function to center the map to the current users position if true.\nOtherwise the MapLibre.setCenter function is used.",name:"useFlyTo",required:!1,type:{name:"boolean | undefined"}},centerUserPosition:{defaultValue:{value:"true"},description:'Center map to current position once updated location data is recieved.\n"false" will center the map once on component activation and then display the updated user location on the map.',name:"centerUserPosition",required:!1,type:{name:"boolean | undefined"}},orientationConePaint:{defaultValue:null,description:'Orientation cone paint property object, that is passed to the MlGeoJsonLayer responsible for drawing the orientation cone polygon.\nUse any available paint prop from layer type "fill".\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#fill',name:"orientationConePaint",required:!1,type:{name:'{ "fill-antialias"?: PropertyValueSpecification<boolean> | undefined; "fill-opacity"?: DataDrivenPropertyValueSpecification<number> | undefined; ... 4 more ...; "fill-pattern"?: DataDrivenPropertyValueSpecification<...> | undefined; } | undefined'}},circlePaint:{defaultValue:null,description:'Position circle paint property object, that is passed to the MlGeoJsonLayer responsible for drawing the position circle.\nUse any available paint prop from layer type "circle".\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#circle',name:"circlePaint",required:!1,type:{name:'{ "circle-radius"?: DataDrivenPropertyValueSpecification<number> | undefined; "circle-color"?: DataDrivenPropertyValueSpecification<string> | undefined; ... 8 more ...; "circle-stroke-opacity"?: DataDrivenPropertyValueSpecification<...> | undefined; } | undefined'}},onColor:{defaultValue:{value:"#ececec"},description:"Active button font color",name:"onColor",required:!1,type:{name:"string | undefined"}},offColor:{defaultValue:{value:"#666"},description:"Inactive button font color",name:"offColor",required:!1,type:{name:"string | undefined"}},accuracyPaint:{defaultValue:null,description:'Accuracy paint property object, that is passed to the MlGeoJsonLayer responsible for drawing the accuracy polygon.\nUse any available paint prop from layer type "fill".\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#fill',name:"accuracyPaint",required:!1,type:{name:'{ "fill-antialias"?: PropertyValueSpecification<boolean> | undefined; "fill-opacity"?: DataDrivenPropertyValueSpecification<number> | undefined; ... 4 more ...; "fill-pattern"?: DataDrivenPropertyValueSpecification<...> | undefined; } | undefined'}},buttonSx:{defaultValue:{value:'{\n\t\tminWidth: "30px",\n\t\tminHeight: "30px",\n\t\twidth: "30px",\n\t\theight: "30px",\n\t\tbackgroundColor: "#414141",\n\t\tborderRadius: "23%",\n\t\tmargin: 0.15,\n\t\tfontSize: "1.3em",\n\t\t":hover": {\n\t\t\tbackgroundColor: "#515151",\n\t\t\tcolor: "#ececec",\n\t\t},\n\t}'},description:"CSS style object that is applied to the button component",name:"buttonSx",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlFollowGps/MlFollowGps.tsx#MlFollowGps"]={docgenInfo:g.__docgenInfo,name:"MlFollowGps",path:"src/components/MlFollowGps/MlFollowGps.tsx#MlFollowGps"})}catch(e){}},155:function(e,t,r){"use strict";var n,a,o,i=r(0),s=r.n(i),l=r(3),c=r.n(l),u=r(189),p=r(143),d=r(18);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v=function(e){return s.a.createElement("svg",e,s.a.createElement("path",{style:{strokeWidth:".744756"},d:"M442.74 219.336 325.113 251.66l54.711 31.123c-21.994 41.593-32.85 84.883-38.33 127.897-6.862 50.94-5.957 103.997 20.238 155.465 5.973 11.727 13.659 23.597 24.39 35.066 2.659 2.84 5.655 5.754 9.128 8.682a70.913 70.913 0 0 0 3.973 3.11l.582.427 34.578-15.123-.338-.221c-.027-.015-.084-.059-.184-.13a38.703 38.703 0 0 1-1.56-1.25c-2.298-1.914-4.466-4.047-6.64-6.34-8.801-9.272-15.304-19.5-20.84-30.14-24.424-46.907-24.775-97.035-18.58-146.681 4.943-37.375 13.652-74.485 30.204-109.93l58.621 33.348z",transform:"matrix(.26458 0 0 .26458 -86.02 -58.033)"}))};v.defaultProps={width:"149.953",height:"394.094",viewBox:"0 0 39.675 104.271"};var O=function(e){return s.a.createElement("svg",e,s.a.createElement("path",{d:"m8.553 0 31.122 8.552L25.2 16.787c5.82 11.005 8.692 22.459 10.142 33.84 1.816 13.477 1.576 27.515-5.355 41.133-1.58 3.103-3.613 6.243-6.453 9.278a28.1 28.1 0 0 1-2.415 2.297 18.768 18.768 0 0 1-1.051.823l-.154.113-9.149-4.002.09-.058.048-.035c.124-.092.26-.203.413-.33a20.702 20.702 0 0 0 1.757-1.678c2.329-2.453 4.05-5.159 5.514-7.974 6.462-12.41 6.555-25.674 4.916-38.81-1.308-9.888-3.612-19.707-7.992-29.085L0 31.122z"}))};O.defaultProps={width:"149.953",height:"394.094",viewBox:"0 0 39.675 104.271"};var j=function(e){return s.a.createElement("svg",e,s.a.createElement("path",{d:"m37.984 0 37.983 117.357H0Z"}),s.a.createElement("path",{d:"m37.984 234.713 37.983-117.356H0Z"}))};j.defaultProps={width:"287.121",height:"887.106",viewBox:"0 0 75.967 234.713"};var w=u.a.div(n||(n=b(["\n\twidth: 40%;\n\tdisplay: flex;\n\talign-items: center;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n\tpath {\n\t\tfilter: drop-shadow(0px 0px 15px rgba(0, 0, 0, 0.2));\n\t}\n\t&:hover path {\n\t\tfilter: drop-shadow(0px 0px 13px rgba(255, 255, 255, 0.1));\n\t}\n\tpath:nth-of-type(2) {\n\t\tfill: #343434;\n\t}\n\t&:hover path:nth-of-type(2) {\n\t\tfill: #434343;\n\t}\n\tpath:nth-of-type(1) {\n\t\tfill: #e90318;\n\t}\n\t&:hover path:nth-of-type(1) {\n\t\tfill: #fb4052;\n\t}\n"]))),I=u.a.div(a||(a=b(["\n\tpointer-events: none;\n\tdisplay: flex;\n\tz-index: 1002;\n\tposition: absolute;\n\talign-items: center;\n\n\tmargin-left: -30%;\n\tpath:nth-of-type(2) {\n\t}\n\tsvg g {\n\t\ttransform: translate(-76.7053, -29.7727) scale(2, 1);\n\t}\n\tsvg {\n\t\tz-index: 9990;\n\t\theight: 150px;\n\t\twidth: 200px;\n\t}\n"]))),x=u.a.div(o||(o=b(["\n\twidth: 30%;\n\tmargin-top: 14px;\n\tz-index: 999;\n\tdisplay: flex;\n\n\tsvg:hover {\n\t\tcursor: pointer;\n\t}\n\tsvg:hover path {\n\t\tfill: #ececec;\n\t\tfilter: drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.1));\n\t}\n\tpath {\n\t\tfill: #bbb;\n\t}\n\tsvg {\n\t\ttransform: scale(0.6);\n\t\tz-index: 9990;\n\t\theight: 172px;\n\t}\n"]))),S=function(e){var t=Object(d.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=g(Object(i.useState)(0),2),n=r[0],a=r[1];return Object(i.useEffect)((function(){if(t.map){var e=function(){var e,r;null!==(e=t.map)&&void 0!==e&&null!==(r=e.map)&&void 0!==r&&r.getBearing&&a(Math.round(t.map.map.getBearing()))};return t.map.on("rotate",e,t.componentId),e(),function(){var r;null===(r=t.map)||void 0===r||r.map.off("rotate",e)}}}),[t.map,e.mapId]),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Object(p.a)(m({zIndex:1e3,top:0,position:"absolute"},e.style))},s.a.createElement("div",{className:Object(p.a)(m({position:"absolute",border:"10px solid #bcbcbc",backgroundColor:"#717171",background:"radial-gradient(#717171, #414141)",height:"200px",width:"200px",borderRadius:"50%",display:"flex",justifyContent:"center",transform:"scale(0.2) translateX(-448px) translateY(-448px)"},e.backgroundStyle))},s.a.createElement(x,{className:Object(p.a)(m({},e.rotateRightStyle))},s.a.createElement(v,{onClick:function(){if(t.map){var e=Math.round(t.map.map.getBearing()),r=Math.round(e%90);e>0&&(r=90-r),0===r&&(r=90),t.map.map.setBearing(Math.round(e+Math.abs(r)))}}})),s.a.createElement(w,{className:Object(p.a)(m({},e.needleStyle)),onClick:function(){var e;null===(e=t.map)||void 0===e||e.map.setBearing(0)}},s.a.createElement(I,{style:{transform:"rotate("+(n>0?"-"+n:-1*n)+"deg)"}},s.a.createElement(j,null))),s.a.createElement(x,{className:Object(p.a)(m({},e.rotateLeftStyle))},s.a.createElement(O,{onClick:function(){if(t.map){var e=Math.round(t.map.map.getBearing()),r=Math.round(e%90);e<0&&(r=90+r),0===r&&(r=90),t.map.map.setBearing(Math.round(e-Math.abs(r)))}}})))))};S.propTypes={idPrefix:c.a.string,style:c.a.object,backgroundStyle:c.a.object,needleStyle:c.a.object,rotateRightStyle:c.a.object,rotateLeftStyle:c.a.object},t.a=S;try{S.displayName="MlNavigationCompass",S.__docgenInfo={description:"Navigation component that displays a compass component which indicates the current oriantation of the map it is registered for and offers controls to turn the bearing 90 left/right or reset north to point up.\n\nAll style props are applied using @emotion/css to allow more complex css selectors.",displayName:"MlNavigationCompass",props:{mapId:{defaultValue:null,description:"",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:"",name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"any"}},backgroundStyle:{defaultValue:null,description:"",name:"backgroundStyle",required:!1,type:{name:"any"}},needleStyle:{defaultValue:null,description:"",name:"needleStyle",required:!1,type:{name:"any"}},rotateRightStyle:{defaultValue:null,description:"",name:"rotateRightStyle",required:!1,type:{name:"any"}},rotateLeftStyle:{defaultValue:null,description:"",name:"rotateLeftStyle",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlNavigationCompass/MlNavigationCompass.tsx#MlNavigationCompass"]={docgenInfo:S.__docgenInfo,name:"MlNavigationCompass",path:"src/components/MlNavigationCompass/MlNavigationCompass.tsx#MlNavigationCompass"})}catch(e){}},156:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(78);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){return Object(o.a)({idPrefix:"MlLayer-",layerId:e.layerId,mapId:e.mapId,geojson:e.geojson,options:s({type:"background",paint:{"background-color":"rgba(0,0,0,0)"}},e.options),insertBeforeLayer:e.insertBeforeLayer}),a.a.createElement(a.a.Fragment,null)};t.a=c;try{c.displayName="MlLayer",c.__docgenInfo={description:"Basic layer component that create a layer in a MapLibre-gl instance and keeps it updated according to it attribute configuration.",displayName:"MlLayer",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'The layerId of an existing layer this layer should be rendered visually beneath\nhttps://maplibre.org/maplibre-gl-js-docs/api/map/#map#addlayer - see "beforeId" property',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"Id of the layer that will be added by this component to the maplibre-gl instance",name:"layerId",required:!1,type:{name:"string | undefined"}},options:{defaultValue:null,description:"Javascript object that is passed the addLayer command as first parameter.",name:"options",required:!1,type:{name:"any"}},geojson:{defaultValue:null,description:"GeoJSON data that is supposed to be rendered by this component.",name:"geojson",required:!1,type:{name:"Feature<Geometry | GeometryCollection, Properties> | FeatureCollection<Geometry | GeometryCollection, Properties> | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlLayer/MlLayer.tsx#MlLayer"]={docgenInfo:c.__docgenInfo,name:"MlLayer",path:"src/components/MlLayer/MlLayer.tsx#MlLayer"})}catch(e){}},157:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(45),i=r(1102),s=r(52),l=r(18);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){var t=Object(l.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=Object(s.a)({mapId:e.mapId,watch:{viewport:!0}}),u=Object(n.useRef)(null),p=c(Object(n.useState)({width:"400px",height:"500px"}),2),d=p[0],f=p[1],m=c(Object(n.useState)(),2),y=m[0],g=m[1];return Object(n.useEffect)((function(){var r,n;if(null!==(r=t.map)&&void 0!==r&&null!==(n=r.map)&&void 0!==n&&n.project){var a=t.map.map.project([e.lng,e.lat]);g(a)}}),[t.map,e.lng,e.lat,r.viewport]),Object(n.useEffect)((function(){var r,n,a,o,i,s,l,c,p,d,m,y;if(t.map&&null!==(r=u.current)&&void 0!==r&&null!==(n=r.contentWindow)&&void 0!==n&&null!==(a=n.document)&&void 0!==a&&null!==(o=a.body)&&void 0!==o&&o.scrollHeight){var g=t.map.map._container.clientHeight-t.map.map.project([e.lng,e.lat]).y,h=null===(i=u.current)||void 0===i||null===(s=i.contentWindow)||void 0===s||null===(l=s.document)||void 0===l||null===(c=l.body)||void 0===c?void 0:c.scrollHeight,b=null===(p=u.current)||void 0===p||null===(d=p.contentWindow)||void 0===d||null===(m=d.document)||void 0===m||null===(y=m.body)||void 0===y?void 0:y.scrollWidth;f({width:b+"px",height:(g<h?g:h)+"px"})}}),[e.lng,e.lat,e.content]),a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,{geojson:{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{}},paint:{"circle-radius":14,"circle-color":"rgba(40,200,20,0.5)"},type:"circle",mapId:e.mapId}),y&&a.a.createElement(i.a,{sx:{opacity:.7,position:"fixed",display:"flex",left:y.x,top:y.y,width:d.width,height:d.height,"&:hover":{opacity:1},zIndex:-1}},a.a.createElement("iframe",{style:{width:"100%"},srcDoc:e.content,ref:u,sandbox:"allow-same-origin allow-popups-to-escape-sandbox",frameBorder:"0",title:t.componentId})))};p.defaultProps={mapId:void 0},t.a=p;try{p.displayName="MlMarker",p.__docgenInfo={description:'Adds a marker to the map and displays the contents of the "content" property in an iframe next to it',displayName:"MlMarker",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'The layerId of an existing layer this layer should be rendered visually beneath\nhttps://maplibre.org/maplibre-gl-js-docs/api/map/#map#addlayer - see "beforeId" property',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},lng:{defaultValue:null,description:"Longitude of the marker position",name:"lng",required:!0,type:{name:"number"}},lat:{defaultValue:null,description:"Latitude of the marker position",name:"lat",required:!0,type:{name:"number"}},content:{defaultValue:null,description:"Content of the description popup",name:"content",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlMarker/MlMarker.tsx#MlMarker"]={docgenInfo:p.__docgenInfo,name:"MlMarker",path:"src/components/MlMarker/MlMarker.tsx#MlMarker"})}catch(e){}},158:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(28),i=r(1096),s=r(168),l=r(623),c=r(251),u=r(584),p=r.n(u),d=r(583),f=r.n(d),m=r(108),y=r(1103),g=r(1100),h=r(1097),b=r(139),v=r(582),O=r(250),j=r(18);function w(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=function(e){var t=Object(n.useContext)(b.b),r=Object(n.useRef)(!1),u=Object(j.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),d="importer-layer-lines",x="importer-layer-points",S=I(Object(n.useState)(!1),2),C=S[0],M=S[1],E=Object(n.useRef)(null),P=I(Object(n.useState)(0),2),A=P[0],L=P[1],H=I(Object(n.useState)([]),2),k=H[0],T=H[1],R=Object(n.useRef)(null),G=Object(O.a)("(max-width:900px)"),D=Object(n.useRef)(new m.Popup({closeButton:!1,closeOnClick:!0}));Object(n.useEffect)((function(){u.map&&!r.current&&(r.current=!0,u.map.addSource("import-source",{type:"geojson",data:t.data},u.componentId),u.map.addLayer({id:d,source:"import-source",type:"line",paint:{"line-width":4,"line-color":"rgba(212, 55, 23,0.5)"}},e.insertBeforeLayer,u.componentId),u.map.addLayer({id:x,source:"import-source",type:"circle",paint:{"circle-color":"rgba(72, 77, 99,0.5)","circle-radius":7},filter:["==","$type","Point"]},e.insertBeforeLayer,u.componentId),[d,x].forEach((function(e){u.map&&u.map.map.setLayoutProperty(e,"visibility","visible")})),u.map.on("mouseenter",x,(function(e){if(u.map){for(var t=e.features[0].geometry.coordinates.slice(),r=e.features[0].properties.name;Math.abs(e.lngLat.lng-t[0])>180;)t[0]+=e.lngLat.lng>t[0]?360:-360;D.current.setLngLat(t).setHTML(r).addTo(u.map.map)}}),u.componentId),u.map.on("mouseleave","places",(function(){u.map&&(u.map.map.getCanvas().style.cursor="",D.current.remove())}),u.componentId),u.map.map.setZoom(10))}),[u.map]),Object(n.useEffect)((function(){var e=E.current,t=function(e){L(1e3),_(e)},r=function(){L(0)},n=function(e){L(0),_(e)};return window.addEventListener("dragenter",t),window.addEventListener("dragover",_),null==e||e.addEventListener("dragleave",r),window.addEventListener("drop",n),function(){window.removeEventListener("dragenter",t),window.removeEventListener("dragover",_),null==e||e.removeEventListener("dragleave",r),window.removeEventListener("drop",n)}}));var _=function(e){e.preventDefault(),e.stopPropagation()};Object(n.useEffect)((function(){if(u.map){var t=e.visible?"visible":"none";[d,x].forEach((function(e){u.map&&u.map.map.setLayoutProperty(e,"visibility",t)}))}}),[e.visible]);var N=function(e){if(u.map&&t.setData)try{T([]);var r=(new DOMParser).parseFromString(e,"application/xml"),n=r.querySelector("metadata");null==n||n.childNodes.forEach((function(e){var t,r=e.textContent,n=e.nodeName;if("link"===e.nodeName&&(r=e.getAttribute("href")),null!==(t=r)&&void 0!==t&&t.trim().length){var a={title:n,value:r,id:(new Date).getTime()};T((function(e){return[].concat(w(e),[a])}))}}));var a=v.a.gpx(r);t.setData(a),u.map.map.getSource("import-source").setData(a);var i=Object(o.bbox)(a);u.map.map.fitBounds(i)}catch(e){console.log(e)}};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{position:"fixed",right:"5px",bottom:G?"40px":"25px",display:"flex",flexDirection:"column",gap:"5px",zIndex:1e3}},a.a.createElement(c.a,{onClick:function(){R.current&&R.current.click()},style:{backgroundColor:"rgba(255,255,255,1)"},size:"large"},a.a.createElement("input",{ref:R,onChange:function(){var e,t;if(!R.current)return!1;var r=null===(e=R.current)||void 0===e||null===(t=e.files)||void 0===t?void 0:t[0];if(!r)return!1;var n=new FileReader;n.onload=function(e){e&&N(e.currentTarget.result)},n.readAsText(r)},type:"file",id:"input",multiple:!0,style:{display:"none"}}),a.a.createElement(f.a,null)),a.a.createElement(c.a,{onClick:function(){M((function(e){return!e}))},style:{backgroundColor:"rgba(255,255,255,1)"},size:"large"},a.a.createElement(p.a,null))),a.a.createElement(l.a,{variant:"persistent",anchor:"left",open:C},a.a.createElement(s.a,{variant:"h6",style:{textAlign:"center",padding:"1em"},noWrap:!0},"Informationen zur Route"),a.a.createElement(i.a,null),a.a.createElement(y.a,null,k.map((function(e){return a.a.createElement(g.a,{key:"item--".concat(e.id)},a.a.createElement(h.a,{primary:e.value}))})))),a.a.createElement("div",{onDrop:function(e){if(e.preventDefault(),e.dataTransfer.items){if(e.dataTransfer.items.length>1)return!1;if("file"===e.dataTransfer.items[0].kind){var t=new FileReader;t.onload=function(e){var t;null!=e&&null!==(t=e.currentTarget)&&void 0!==t&&t.result&&N(e.currentTarget.result)};var r=e.dataTransfer.items[0].getAsFile();t.readAsText(r)}}},ref:E,style:{position:"absolute",left:"0",top:"0",backgroundColor:"rgba(255,255,255,0.5)",width:"100%",height:"100%",zIndex:A}},a.a.createElement(s.a,{variant:"h6",style:{top:"50%",position:"absolute",left:"50%",msTransform:"translate(-50%, -50%)",transform:" translate(-50%, -50%)"},noWrap:!0},"Gpx-Datei ablegen")))};C.defaultProps={visible:!0},t.a=C;try{C.displayName="MlGPXViewer",C.__docgenInfo={description:"MlGPXViewer returns a dropzone and a button to load a GPX Track into the map.",displayName:"MlGPXViewer",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapHook",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'The layerId of an existing layer this layer should be rendered visually beneath\nhttps://maplibre.org/maplibre-gl-js-docs/api/map/#map#addlayer - see "beforeId" property',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},idPrefix:{defaultValue:null,description:"Prefix of the component id this component uses when adding elements to the MapLibreGl-instance",name:"idPrefix",required:!1,type:{name:"string | undefined"}},visible:{defaultValue:{value:"true"},description:'Sets the layers layout-property "visibility" to "none" if false or "visible" if true',name:"visible",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlGPXViewer/MlGPXViewer.tsx#MlGPXViewer"]={docgenInfo:C.__docgenInfo,name:"MlGPXViewer",path:"src/components/MlGPXViewer/MlGPXViewer.tsx#MlGPXViewer"})}catch(e){}},159:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=(r(1010),r(1012),r(415)),i=r.n(o),s="mapbox-gl-draw_boxselect",l="add",c="move",u="pointer",p="none",d="polygon",f="Feature",m="Polygon",y="LineString",g="Point",h="Multi",b="MultiPoint",v="MultiLineString",O="MultiPolygon",j="draw.create",w="draw.update",I="draw.combine",x="draw.uncombine",S="move",C="change_coordinates",M="feature",E="midpoint",P="vertex",A="true",L="false";function H(e){return function(t){var r=t.featureTarget;return!!r&&(!!r.properties&&r.properties.meta===e)}}function k(e){return!!e.featureTarget&&(!!e.featureTarget.properties&&(e.featureTarget.properties.active===A&&e.featureTarget.properties.meta===M))}function T(e){return!!e.featureTarget&&(!!e.featureTarget.properties&&(e.featureTarget.properties.active===L&&e.featureTarget.properties.meta===M))}function R(e){return void 0===e.featureTarget}function G(e){var t=e.featureTarget;return!!t&&(!!t.properties&&t.properties.meta===P)}function D(e){return!!e.originalEvent&&!0===e.originalEvent.shiftKey}var _={enable:function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()}),0)},disable:function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()}),0)}};var N=function(e,t){return!!e.lngLat&&(e.lngLat.lng===t[0]&&e.lngLat.lat===t[1])},F=function(e,t,r,n){return{type:f,properties:{meta:P,parent:e,coord_path:r,active:n?A:L},geometry:{type:g,coordinates:t}}},B={onSetup:function(){console.log("Change mode: custom polygon");var e=this.newFeature({type:f,properties:{},geometry:{type:m,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),_.disable(this),this.updateUIClasses({mouse:l}),this.activateUIButton(d),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&N(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode("custom_select",{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:l}),e.polygon.updateCoordinate("0.".concat(e.currentVertexPosition),t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate("0.".concat(e.currentVertexPosition),t.lngLat.lng,t.lngLat.lat),this.map.fire(j,{features:[e.polygon.toGeoJSON()]})},clickOnVertex:function(e){return this.changeMode("custom_select",{featureIds:[e.polygon.id]})},onMouseMove:function(e,t){e.polygon.updateCoordinate("0.".concat(e.currentVertexPosition),t.lngLat.lng,t.lngLat.lat),G(t)&&this.updateUIClasses({mouse:u})}};B.onTap=B.onClick=function(e,t){return G(t)?this.clickOnVertex(e,t):this.clickAnywhere(e,t)},B.onKeyUp=function(e,t){!function(e){return 27===e.keyCode}(t)?function(e){return 13===e.keyCode}(t)&&this.changeMode("custom_select",{featureIds:[e.polygon.id]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode("custom_select"))},B.onStop=function(e){this.updateUIClasses({mouse:p}),_.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.polygon.id)&&(e.polygon.removeCoordinate("0.".concat(e.currentVertexPosition)),e.polygon.isValid()?this.map.fire(j,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode("custom_select",{},{silent:!0})))},B.toDisplayFeatures=function(e,t,r){var n=t.properties.id===e.polygon.id;if(t.properties.active=n?A:L,!n)return r(t);if(0!==t.geometry.coordinates.length){var a=t.geometry.coordinates[0].length;if(!(a<3)){if(t.properties.meta=M,r(F(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),a>3){var o=t.geometry.coordinates[0].length-3;r(F(e.polygon.id,t.geometry.coordinates[0][o],"0.".concat(o),!1))}if(a<=4){var i=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(r({type:f,properties:t.properties,geometry:{coordinates:i,type:y}}),3===a)return}return r(t)}}},B.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode("custom_select")};var U=B,z=r(578),W=r.n(z);var V=function(e,t){var r=t.getBoundingClientRect();return new W.a(e.clientX-r.left-(t.clientLeft||0),e.clientY-r.top-(t.clientTop||0))},Z=function(e,t,r){var n=t.geometry.coordinates,a=r.geometry.coordinates;if(n[1]>85||n[1]<-85||a[1]>85||a[1]<-85)return null;var o={lng:(n[0]+a[0])/2,lat:(n[1]+a[1])/2};return{type:f,properties:{meta:E,parent:e,lng:o.lng,lat:o.lat,coord_path:r.properties.coord_path},geometry:{type:g,coordinates:[o.lng,o.lat]}}};var J=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.geometry,o=a.type,i=a.coordinates,s=t.properties&&t.properties.id,l=[];function c(e,t){var n="",a=null;e.forEach((function(e,o){var i=null!=t?"".concat(t,".").concat(o):String(o),c=F(s,e,i,u(i));if(r.midpoints&&a){var p=Z(s,a,c);p&&l.push(p)}a=c;var d=JSON.stringify(e);n!==d&&l.push(c),0===o&&(n=d)}))}function u(e){return!!r.selectedPaths&&-1!==r.selectedPaths.indexOf(e)}function p(){var n=o.replace(h,"");i.forEach((function(a,o){var i={type:f,properties:t.properties,geometry:{type:n,coordinates:a}};l=l.concat(e(i,r,o))}))}return o===g?l.push(F(s,i,n,u(n))):o===m?i.forEach((function(e,t){c(e,null!==n?"".concat(n,".").concat(t):String(t))})):o===y?c(i,n):0===o.indexOf(h)&&p(),l};function Y(e){if(this._items={},this._nums={},this._length=e?e.length:0,e)for(var t=0,r=e.length;t<r;t++)this.add(e[t]),void 0!==e[t]&&("string"==typeof e[t]?this._items[e[t]]=t:this._nums[e[t]]=t)}Y.prototype.add=function(e){return this.has(e)||(this._length++,"string"==typeof e?this._items[e]=this._length:this._nums[e]=this._length),this},Y.prototype.delete=function(e){return!1===this.has(e)||(this._length--,delete this._items[e],delete this._nums[e]),this},Y.prototype.has=function(e){return("string"==typeof e||"number"==typeof e)&&(void 0!==this._items[e]||void 0!==this._nums[e])},Y.prototype.values=function(){var e=this,t=[];return Object.keys(this._items).forEach((function(r){t.push({k:r,v:e._items[r]})})),Object.keys(this._nums).forEach((function(r){t.push({k:JSON.parse(r),v:e._nums[r]})})),t.sort((function(e,t){return e.v-t.v})).map((function(e){return e.k}))},Y.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var q=Y,X=r(579),K=r.n(X),Q=function(e,t){var r=-90,n=90,a=-90,o=90,i=270,s=-270;e.forEach((function(e){var t=K()(e),l=t[1],c=t[3],u=t[0],p=t[2];l>r&&(r=l),c<n&&(n=c),c>a&&(a=c),l<o&&(o=l),u<i&&(i=u),p>s&&(s=p)}));var l=t;return r+l.lat>85&&(l.lat=85-r),a+l.lat>90&&(l.lat=90-a),n+l.lat<-85&&(l.lat=-85-n),o+l.lat<-90&&(l.lat=-90-o),i+l.lng<=-270&&(l.lng+=360*Math.ceil(Math.abs(l.lng)/360)),s+l.lng>=270&&(l.lng-=360*Math.ceil(Math.abs(l.lng)/360)),l},$=function(e,t){var r=Q(e.map((function(e){return e.toGeoJSON()})),t);e.forEach((function(e){var t,n=e.getCoordinates(),a=function(e){var t={lng:e[0]+r.lng,lat:e[1]+r.lat};return[t.lng,t.lat]},o=function(e){return e.map((function(e){return a(e)}))};e.type===g?t=a(n):e.type===y||e.type===b?t=n.map(a):e.type===m||e.type===v?t=n.map(o):e.type===O&&(t=n.map((function(e){return e.map((function(e){return o(e)}))}))),e.incomingCoords(t)}))},ee={onSetup:function(e){var t=this;console.log("Change mode: custom select");var r={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:e.featureIds||[]};return this.setSelected(r.initiallySelectedFeatureIds.filter((function(e){return void 0!==t.getFeature(e)}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),r},fireUpdate:function(){this.map.fire(w,{action:S,features:this.getSelected().map((function(e){return e.toGeoJSON()}))})},fireActionable:function(){var e=this,t=this.getSelected(),r=t.filter((function(t){return e.isInstanceOf("MultiFeature",t)})),n=!1;if(t.length>1){n=!0;var a=t[0].type.replace("Multi","");t.forEach((function(e){e.type.replace("Multi","")!==a&&(n=!1)}))}var o=r.length>0,i=t.length>0;this.setActionableState({combineFeatures:n,uncombineFeatures:o,trash:i})},getUniqueIds:function(e){return e.length?e.map((function(e){return e.properties.id})).filter((function(e){return void 0!==e})).reduce((function(e,t){return e.add(t),e}),new q).values():[]},stopExtendedInteractions:function(e){e.boxSelectElement&&(e.boxSelectElement.parentNode&&e.boxSelectElement.parentNode.removeChild(e.boxSelectElement),e.boxSelectElement=null),this.map.dragPan.enable(),e.boxSelecting=!1,e.canBoxSelect=!1,e.dragMoving=!1,e.canDragMove=!1},onStop:function(){_.enable(this)},onMouseMove:function(e){return this.stopExtendedInteractions(e)},onMouseOut:function(e){if(e.dragMoving)return this.fireUpdate()}};ee.onTap=ee.onClick=function(e,t){return R(t)?this.clickAnywhere(e,t):H(P)(t)?this.clickOnVertex(e,t):function(e){return!!e.featureTarget&&(!!e.featureTarget.properties&&e.featureTarget.properties.meta===M)}(t)?this.clickOnFeature(e,t):void 0},ee.clickAnywhere=function(e){var t=this,r=this.getSelectedIds();r.length&&(this.clearSelectedFeatures(),r.forEach((function(e){return t.doRender(e)}))),_.enable(this),this.stopExtendedInteractions(e)},ee.clickOnVertex=function(e,t){this.changeMode("custom_direct_select",{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),this.updateUIClasses({mouse:c})},ee.startOnActiveFeature=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),this.doRender(t.featureTarget.properties.id),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},ee.clickOnFeature=function(e,t){var r=this;_.disable(this),this.stopExtendedInteractions(e);var n=D(t),a=this.getSelectedIds(),o=t.featureTarget.properties.id,i=this.isSelected(o);if(!n&&i&&this.getFeature(o).type!==g)return this.changeMode("custom_direct_select",{featureId:o});i&&n?(this.deselect(o),this.updateUIClasses({mouse:u}),1===a.length&&_.enable(this)):!i&&n?(this.select(o),this.updateUIClasses({mouse:c})):i||n||(a.forEach((function(e){return r.doRender(e)})),this.setSelected(o),this.updateUIClasses({mouse:c})),this.doRender(o)},ee.onMouseDown=function(e,t){return k(t)?this.startOnActiveFeature(e,t):this.drawConfig.boxSelect&&function(e){return!!e.originalEvent&&(!!e.originalEvent.shiftKey&&0===e.originalEvent.button)}(t)?this.startBoxSelect(e,t):void 0},ee.startBoxSelect=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),e.boxSelectStartLocation=V(t.originalEvent,this.map.getContainer()),e.canBoxSelect=!0},ee.onTouchStart=function(e,t){if(k(t))return this.startOnActiveFeature(e,t)},ee.onDrag=function(e,t){return e.canDragMove?this.dragMove(e,t):this.drawConfig.boxSelect&&e.canBoxSelect?this.whileBoxSelect(e,t):void 0},ee.whileBoxSelect=function(e,t){e.boxSelecting=!0,this.updateUIClasses({mouse:l}),e.boxSelectElement||(e.boxSelectElement=document.createElement("div"),e.boxSelectElement.classList.add(s),this.map.getContainer().appendChild(e.boxSelectElement));var r=V(t.originalEvent,this.map.getContainer()),n=Math.min(e.boxSelectStartLocation.x,r.x),a=Math.max(e.boxSelectStartLocation.x,r.x),o=Math.min(e.boxSelectStartLocation.y,r.y),i=Math.max(e.boxSelectStartLocation.y,r.y),c="translate(".concat(n,"px, ").concat(o,"px)");e.boxSelectElement.style.transform=c,e.boxSelectElement.style.WebkitTransform=c,e.boxSelectElement.style.width="".concat(a-n,"px"),e.boxSelectElement.style.height="".concat(i-o,"px")},ee.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();var r={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};$(this.getSelected(),r),e.dragMoveLocation=t.lngLat},ee.onMouseUp=function(e,t){var r=this;if(e.dragMoving)this.fireUpdate();else if(e.boxSelecting){var n=[e.boxSelectStartLocation,V(t.originalEvent,this.map.getContainer())],a=this.featuresAt(null,n,"click"),o=this.getUniqueIds(a).filter((function(e){return!r.isSelected(e)}));o.length&&(this.select(o),o.forEach((function(e){return r.doRender(e)})),this.updateUIClasses({mouse:c}))}this.stopExtendedInteractions(e)},ee.toDisplayFeatures=function(e,t,r){t.properties.active=this.isSelected(t.properties.id)?A:L,r(t),this.fireActionable(),t.properties.active===A&&t.geometry.type!==g&&J(t).forEach(r)},ee.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},ee.onCombineFeatures=function(){var e=this.getSelected();if(!(0===e.length||e.length<2)){for(var t=[],r=[],n=e[0].type.replace("Multi",""),a=0;a<e.length;a++){var o=e[a];if(o.type.replace("Multi","")!==n)return;o.type.includes("Multi")?o.getCoordinates().forEach((function(e){t.push(e)})):t.push(o.getCoordinates()),r.push(o.toGeoJSON())}if(r.length>1){var i=this.newFeature({type:f,properties:r[0].properties,geometry:{type:"Multi".concat(n),coordinates:t}});this.addFeature(i),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([i.id]),this.map.fire(I,{createdFeatures:[i.toGeoJSON()],deletedFeatures:r})}this.fireActionable()}},ee.onUncombineFeatures=function(){var e=this,t=this.getSelected();if(0!==t.length){for(var r=[],n=[],a=function(a){var o=t[a];e.isInstanceOf("MultiFeature",o)&&(o.getFeatures().forEach((function(t){e.addFeature(t),t.properties=o.properties,r.push(t.toGeoJSON()),e.select([t.id])})),e.deleteFeature(o.id,{silent:!0}),n.push(o.toGeoJSON()))},o=0;o<t.length;o++)a(o);r.length>1&&this.map.fire(x,{createdFeatures:r,deletedFeatures:n}),this.fireActionable()}};var te=ee,re={getMatchingVertices:function(e,t,r,n){for(var a=[],o=e[0].toFixed(5),i=e[1].toFixed(5),s=0;s<r.length;s++)if(r[s].id!==t)for(var l=0;l<r[s].geometry.coordinates.length;l++)for(var c=0;c<r[s].geometry.coordinates[l].length;c++)o===r[s].geometry.coordinates[l][c][0].toFixed(5)&&i===r[s].geometry.coordinates[l][c][1].toFixed(5)&&a.push({featureId:r[s].id,coord_path:l+"."+c,lng:r[s].geometry.coordinates[l][c][0],lat:r[s].geometry.coordinates[l][c][1]});return a},getDrawInstance:function(e){for(var t=e._controls.length-1;t>=0;t--){var r,n;if("simple_select"===(null===(r=e._controls[t])||void 0===r||null===(n=r.modes)||void 0===n?void 0:n.SIMPLE_SELECT))return e._controls[t]}return null}},ne=H(P),ae=H(E),oe={fireUpdate:function(){this.map.fire(w,{action:C,features:this.getSelected().map((function(e){return e.toGeoJSON()}))})},fireActionable:function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})},startDragging:function(e,t){this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},stopDragging:function(e){this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null},onVertex:function(e,t){this.startDragging(e,t);var r=t.featureTarget.properties,n=e.selectedCoordPaths.indexOf(r.coord_path);D(t)||-1!==n?D(t)&&-1===n&&e.selectedCoordPaths.push(r.coord_path):e.selectedCoordPaths=[r.coord_path];var a=re.getDrawInstance(this.map).getAll(),o=re.getMatchingVertices(t.featureTarget._geometry.coordinates,t.featureTarget.properties.parent,a.features,this.map);e.groupMove_vertices=o;for(var i=0;i<e.groupMove_vertices.length;i++)e.groupMove_vertices[i].feature=this.getFeature(e.groupMove_vertices[i].featureId);var s=this.pathsToCoordinates(e.featureId,e.selectedCoordPaths);this.setSelectedCoordinates(s)},onMidpoint:function(e,t){this.startDragging(e,t);var r=t.featureTarget.properties;e.feature.addCoordinate(r.coord_path,r.lng,r.lat),this.fireUpdate(),e.selectedCoordPaths=[r.coord_path]},pathsToCoordinates:function(e,t){return t.map((function(t){return{feature_id:e,coord_path:t}}))},onFeature:function(e,t){0===e.selectedCoordPaths.length?this.startDragging(e,t):this.stopDragging(e)},dragFeature:function(e,t,r){$(this.getSelected(),r),e.dragMoveLocation=t.lngLat},dragVertex:function(e,t,r){for(var n=e.selectedCoordPaths.map((function(t){return e.feature.getCoordinate(t)})),a=n.map((function(e){return{type:f,properties:{},geometry:{type:g,coordinates:e}}})),o=Q(a,r),i=0;i<n.length;i++){var s=n[i];e.feature.updateCoordinate(e.selectedCoordPaths[i],s[0]+o.lng,s[1]+o.lat);for(var l=0;l<e.groupMove_vertices.length;l++){var c=e.groupMove_vertices[l].coord_path.split(".");if(void 0!==c[0]&&void 0!==c[1]&&void 0!==e.groupMove_vertices[l].feature.coordinates[c[0]]&&void 0!==e.groupMove_vertices[l].feature.coordinates[c[0]][c[1]]){var u=e.groupMove_vertices[l].feature.coordinates[c[0]][c[1]];e.groupMove_vertices[l].feature.updateCoordinate(e.groupMove_vertices[l].coord_path,u[0]+o.lng,u[1]+o.lat)}}}},clickNoTarget:function(){this.changeMode("custom_select")},clickInactive:function(){this.changeMode("custom_select")},clickActiveFeature:function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()},onSetup:function(e){var t=e.featureId,r=this.getFeature(t);if(!r)throw new Error("You must provide a featureId to enter direct_select mode");if(r.type===g)throw new TypeError("direct_select mode doesn't handle point features");var n={featureId:t,feature:r,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[],groupMove_vertices:e.groupMove_vertices?e.groupMove_vertices:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(t,n.selectedCoordPaths)),this.setSelected(t),_.disable(this),this.setActionableState({trash:!0}),n},onStop:function(){_.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(e,t,r){e.featureId===t.properties.id?(t.properties.active=A,r(t),J(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(r)):(t.properties.active=L,r(t)),this.fireActionable(e)},onTrash:function(e){e.selectedCoordPaths.sort((function(e,t){return t.localeCompare(e,"en",{numeric:!0})})).forEach((function(t){return e.feature.removeCoordinate(t)})),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),!1===e.feature.isValid()&&(this.deleteFeature([e.featureId]),this.changeMode("custom_select",{}))},onMouseMove:function(e,t){var r=k(t),n=ne(t),a=0===e.selectedCoordPaths.length;r&&a||n&&!a?this.updateUIClasses({mouse:c}):this.updateUIClasses({mouse:p}),this.stopDragging(e)},onMouseOut:function(e){e.dragMoving&&this.fireUpdate()}};oe.onTouchStart=oe.onMouseDown=function(e,t){return ne(t)?this.onVertex(e,t):k(t)?this.onFeature(e,t):ae(t)?this.onMidpoint(e,t):void 0},oe.onDrag=function(e,t){if(!0===e.canDragMove){e.dragMoving=!0,t.originalEvent.stopPropagation();var r={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0?this.dragVertex(e,t,r):this.dragFeature(e,t,r),e.dragMoveLocation=t.lngLat}},oe.onClick=function(e,t){return R(t)?this.clickNoTarget(e,t):k(t)?this.clickActiveFeature(e,t):T(t)?this.clickInactive(e,t):void this.stopDragging(e)},oe.onTap=function(e,t){return R(t)?this.clickNoTarget(e,t):k(t)?this.clickActiveFeature(e,t):T(t)?this.clickInactive(e,t):void 0},oe.onTouchEnd=oe.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)};var ie=oe,se=r(18);function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ue=function(e){var t=Object(n.useRef)(),r=Object(se.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),o=Object(n.useRef)(!1),s=le(Object(n.useState)(!1),2),l=s[0],c=s[1],u=function(e){console.log("MlFeatureEditor mode change to "+e.mode)};return Object(n.useEffect)((function(){if(r.map&&!o.current){var n;if(o.current=!0,r.map.map.style&&r.map.map.getSource("mapbox-gl-draw-cold")&&t.current)null===(n=t.current)||void 0===n||n.remove();t.current=new i.a({displayControlsDefault:!1,defaultMode:e.mode||"custom_select",modes:Object.assign({custom_polygon:U,custom_select:te,custom_direct_select:ie},i.a.modes)}),r.map.addControl(t.current,"top-left",r.componentId),r.map.on("draw.modechange",u,r.componentId),c(!0)}}),[r.map,e,o]),Object(n.useEffect)((function(){if(r.map&&l){var n=function(){if(t.current&&"function"==typeof e.onChange){var r,n,a=null===(r=(n=t.current).getAll)||void 0===r?void 0:r.call(n);e.onChange(null==a?void 0:a.features)}};return r.map.on("mouseup",n),r.map.on("touchend",n),function(){r.map&&(r.map.map.off("mouseup",n),r.map.map.off("touchend",n))}}}),[l,r.map]),Object(n.useEffect)((function(){var r;t.current&&null!==(r=e.geojson)&&void 0!==r&&r.geometry&&t.current.set({type:"FeatureCollection",features:[e.geojson]})}),[e.geojson,l]),Object(n.useEffect)((function(){e.mode&&t.current&&t.current.changeMode(e.mode)}),[e.mode]),a.a.createElement(a.a.Fragment,null)};t.a=ue;try{ue.displayName="MlFeatureEditor",ue.__docgenInfo={description:"GeoJson Feature editor that allows to create or manipulate GeoJson data",displayName:"MlFeatureEditor",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},geojson:{defaultValue:null,description:"Input GeoJson data at initialization",name:"geojson",required:!1,type:{name:"any"}},onChange:{defaultValue:null,description:"Callback function that is called each time the GeoJson data within has changed within MlFeatureEditor.\nFirst parameter is the new GeoJson feature.",name:"onChange",required:!1,type:{name:"Function | undefined"}},mode:{defaultValue:null,description:'Feature editor mode:\n- "custom_select" edit features\n- "custom_polygon" draw Polygon\n- "draw_point" draw Point\n- "draw_line_string" draw LineString',name:"mode",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlFeatureEditor/MlFeatureEditor.tsx#MlFeatureEditor"]={docgenInfo:ue.__docgenInfo,name:"MlFeatureEditor",path:"src/components/MlFeatureEditor/MlFeatureEditor.tsx#MlFeatureEditor"})}catch(e){}},165:function(e,t,r){"use strict";var n=r(0),a=r(18);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t,r=Object(a.a)({mapId:e.mapId}),l=Object(n.useRef)(!1),c=s(Object(n.useState)(),2),u=c[0],p=c[1],d=Object(n.useRef)(e.sourceId||(e.idPrefix?e.idPrefix:"Source-")+r.componentId),f=Object(n.useCallback)((function(){var t;r.map&&(l.current=!0,r.map.map.getSource(d.current)&&r.cleanup(),null===(t=r.map)||void 0===t||t.addSource(d.current,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.source)),p(r.map.map.getSource(d.current)))}),[e,r.map]);return Object(n.useEffect)((function(){r.map&&!l.current&&f()}),[r.map,e,f]),Object(n.useEffect)((function(){var t,n,a,o;l.current&&null!==(t=r.map)&&void 0!==t&&null!==(n=t.map)&&void 0!==n&&n.getSource(e.sourceId)&&(null===(a=r.map.map.getSource(e.sourceId))||void 0===a||null===(o=a.setData)||void 0===o||o.call(a,e.source.data))}),[null===(t=e.source)||void 0===t?void 0:t.data]),Object(n.useEffect)((function(){return function(){if(l.current=!1,r.map){for(var e=0,t=Object.entries(r.map.map.style._layers);e<t.length;e++){var n=s(t[e],2),a=n[0];n[1].source===d.current&&r.map.map.removeLayer(a)}r.map.map.removeSource(d.current)}}}),[r.map]),{map:r.map,source:u,componentId:r.componentId,mapHook:r}}},18:function(e,t,r){"use strict";var n=r(0),a=r(200),o=r(36),i=r(52);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=Object(n.useContext)(o.b),r=s(Object(n.useState)(),2),l=r[0],c=r[1],u=Object(i.a)({mapId:e.mapId,watch:{viewport:!1,layers:!!e.waitForLayer,sources:!1},filter:{includeBaseLayers:!0}}),p=Object(n.useRef)(!1),d=Object(n.useRef)(),f=Object(n.useRef)(Object(a.a)()),m=s(Object(n.useState)(!1),2),y=m[0],g=m[1],h=function(){d.current&&d.current.cleanup(f.current),p.current=!1};return Object(n.useEffect)((function(){return function(){h(),g(!1),d.current=void 0}}),[]),Object(n.useEffect)((function(){if(t.mapExists(e.mapId)&&!p.current){if(e.waitForLayer){var r,n=!1;if(null==u||null===(r=u.layers)||void 0===r||r.forEach((function(t){t.id===e.waitForLayer&&(n=!0)})),!n)return}p.current=!0,d.current=t.getMap(e.mapId),c(d.current),g(!0)}}),[t.mapIds,u.layers,t,e.waitForLayer,e.mapId]),{map:l,mapIsReady:y,componentId:f.current,layers:u.layers,cleanup:h}}},187:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(139);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=function(e){var t=e.children,r=i(Object(n.useState)({type:"FeatureCollection",features:[]}),2),s={data:r[0],setData:r[1],getEmptyFeatureCollection:function(){return{type:"FeatureCollection",features:[]}}};return a.a.createElement(o.a,{value:s},t)};t.a=l;try{l.displayName="GeoJsonProvider",l.__docgenInfo={description:"",displayName:"GeoJsonProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlGPXViewer/util/GeoJsonProvider.tsx#GeoJsonProvider"]={docgenInfo:l.__docgenInfo,name:"GeoJsonProvider",path:"src/components/MlGPXViewer/util/GeoJsonProvider.tsx#GeoJsonProvider"})}catch(e){}},19:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(110),i=r(75),s=(r(297),r(101)),l=r(312),c=[function(e){return a.a.createElement("div",{className:"fullscreen_map"},a.a.createElement(l.a,null,a.a.createElement(o.a,null,a.a.createElement(e,null),a.a.createElement(i.a,{options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]},mapId:"map_1"}),a.a.createElement(s.a,{sx:{top:"10px",right:"5px"},showZoomButtons:!1,mapId:"map_1"}))))}];t.a=c},192:function(e){e.exports=JSON.parse('{"type":"Feature","properties":{},"geometry":{"type":"LineString","coordinates":[[7.1074676513671875,50.74340774029213],[7.0992279052734375,50.756441089372665],[7.079315185546874,50.764693667025014],[7.045669555664062,50.77945780529241],[7.030563354492187,50.79161300845443],[7.0291900634765625,50.80940599750376],[7.0236968994140625,50.820685846099174],[7.0085906982421875,50.825891011253546],[6.9879913330078125,50.826758482363275],[6.97906494140625,50.835432306955276],[6.9824981689453125,50.84583876895451],[6.9962310791015625,50.85147463352982],[7.012023925781249,50.85710981721644],[7.021636962890625,50.86664473085768],[7.0367431640625,50.872278081520406],[7.0477294921875,50.877044231111014],[7.052536010742187,50.88397594225127]]}}')},193:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(159),i=r(28);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e){var t=s(Object(n.useState)(0),2),r=t[0],l=t[1],c=s(Object(n.useState)([void 0]),2),u=c[0],p=c[1];return Object(n.useEffect)((function(){u[0]&&l("polygon"===e.measureType?i.area(u[0])/1e6*("miles"===e.unit?1/2.58998811:1):i.length(u[0],{units:e.unit}))}),[e.unit,u]),a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,{onChange:function(e){p(e)},mode:"polygon"===e.measureType?"custom_polygon":"draw_line_string"}),r.toFixed(2)," ","miles"===e.unit?"mi":"km","polygon"===e.measureType?"":"")};c.defaultProps={mapId:void 0,measureType:"line",unit:"kilometers"},t.a=c;try{c.displayName="MlMeasureTool",c.__docgenInfo={description:"",displayName:"MlMeasureTool",props:{measureType:{defaultValue:{value:"line"},description:'String that specify if the Tool measures an area ("polygon") or length ("line")',name:"measureType",required:!1,type:{name:"string | undefined"}},unit:{defaultValue:{value:"kilometers"},description:"String that dictates which unit of measurement is used",name:"unit",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"kilometers"'},{value:'"meters"'},{value:'"millimeters"'},{value:'"centimeters"'},{value:'"acres"'},{value:'"miles"'},{value:'"nauticalmiles"'},{value:'"inches"'},{value:'"yards"'},{value:'"feet"'},{value:'"radians"'},{value:'"degrees"'},{value:'"hectares"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlMeasureTool/MlMeasureTool.tsx#MlMeasureTool"]={docgenInfo:c.__docgenInfo,name:"MlMeasureTool",path:"src/components/MlMeasureTool/MlMeasureTool.tsx#MlMeasureTool"})}catch(e){}},194:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(18);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=Object(n.useRef)(0),r=Object(o.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),s=i(Object(n.useState)(0),2),l=s[0],c=s[1],u=i(Object(n.useState)(""),2),p=u[0],d=u[1],f=Object(n.useCallback)((function(){var n,a;if((null===(n=r.map)||void 0===n?void 0:n.map.getZoom())!==t.current&&r.map){t.current=null===(a=r.map)||void 0===a?void 0:a.map.getZoom();var o=e.maxWidth||100,i=r.map._container.clientHeight/2,s=r.map.unproject([0,i]),l=r.map.unproject([o,i]),c=s.distanceTo(l);if("imperial"===e.unit){var u=3.2808*c;if(u>5280)m(o,u/5280,r.map._getUIString("ScaleControl.Miles"));else m(o,u,r.map._getUIString("ScaleControl.Feet"))}else if("nautical"===e.unit){m(o,c/1852,r.map._getUIString("ScaleControl.NauticalMiles"))}else c>=1e3?m(o,c/1e3,r.map._getUIString("ScaleControl.Kilometers")):m(o,c,r.map._getUIString("ScaleControl.Meters"))}}),[r.map,e.unit,e.maxWidth]);Object(n.useEffect)((function(){if(r.map){var e=f;return r.map.on("move",e,r.componentId),f(),function(){r.map.off("move",e)}}}),[r.map,f]);var m=function(e,t,r){var n=y(t);c(e*(n/t)),d(n+"&nbsp;"+r)},y=function(e){var t=Math.pow(10,"".concat(Math.floor(e)).length-1),r=e/t;return t*(r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:r>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(r))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{backgroundColor:"hsla(0,0%,100%,.75)",fontSize:"10px",border:"2px solid #333",borderTop:"#333",padding:"0 5px",color:"#333",boxSizing:"border-box",width:l+"px",fontFamily:"sans-serif"},dangerouslySetInnerHTML:{__html:p}}))}},230:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(18),i=function(e){var t=Object(o.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=Object(n.useRef)(!1);return Object(n.useEffect)((function(){t.map&&!r.current&&(r.current=!0,t.map.map.setCenter([7.132122000552613,50.716405378037706]))}),[t.map,e.mapId]),a.a.createElement(a.a.Fragment,null)};i.defaultProps={mapId:void 0},t.a=i;try{i.displayName="MlComponentTemplate",i.__docgenInfo={description:"Component template",displayName:"MlComponentTemplate",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlComponentTemplate/MlComponentTemplate.tsx#MlComponentTemplate"]={docgenInfo:i.__docgenInfo,name:"MlComponentTemplate",path:"src/components/MlComponentTemplate/MlComponentTemplate.tsx#MlComponentTemplate"})}catch(e){}},231:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(200),i=r(78);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){return Object(i.a)({mapId:e.mapId,layerId:e.layerId||"MlFillExtrusionLayer-"+Object(o.a)(),options:{id:"",type:"fill-extrusion",source:e.sourceId||"openmaptiles","source-layer":e.sourceLayer||"building",minzoom:e.minZoom||14,paint:l({},e.paint)},insertBeforeFirstSymbolLayer:!0}),a.a.createElement(a.a.Fragment,null)};u.defaultProps={mapId:void 0,paint:{"fill-extrusion-color":"hsl(196, 61%, 83%)","fill-extrusion-height":{property:"render_height",type:"identity"},"fill-extrusion-base":{property:"render_min_height",type:"identity"},"fill-extrusion-opacity":1}},t.a=u;try{u.displayName="MlFillExtrusionLayer",u.__docgenInfo={description:"Adds a fill extrusion layer to the MapLibre instance reference by props.mapId",displayName:"MlFillExtrusionLayer",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'The layerId of an existing layer this layer should be rendered visually beneath\nhttps://maplibre.org/maplibre-gl-js-docs/api/map/#map#addlayer - see "beforeId" property',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"Id of the layer that will be added by this component",name:"layerId",required:!1,type:{name:"string | undefined"}},paint:{defaultValue:{value:'{\n\t\t"fill-extrusion-color": "hsl(196, 61%, 83%)",\n\t\t"fill-extrusion-height": {\n\t\t\tproperty: "render_height",\n\t\t\ttype: "identity",\n\t\t},\n\t\t"fill-extrusion-base": {\n\t\t\tproperty: "render_min_height",\n\t\t\ttype: "identity",\n\t\t},\n\t\t"fill-extrusion-opacity": 1,\n\t}'},description:"Paint properties of the config object that is passed to the MapLibreGl.addLayer call. All\navailable properties are documented in the MapLibreGl documentation\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#fill-extrusion",name:"paint",required:!1,type:{name:"object | undefined"}},sourceId:{defaultValue:null,description:"Source id of a vector tile source containing the geometries to use for this fill-extrusion\nlayer.\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#source-layer",name:"sourceId",required:!1,type:{name:"string | undefined"}},sourceLayer:{defaultValue:null,description:"Layer id from a vector tile source containing the geometries to use for this fill-extrusion\nlayer.\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#source-layer",name:"sourceLayer",required:!1,type:{name:"string | undefined"}},minZoom:{defaultValue:null,description:"This layer will be hidden for zoom levels lower than defined on this property\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#minzoom",name:"minZoom",required:!1,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlFillExtrusionLayer/MlFillExtrusionLayer.tsx#MlFillExtrusionLayer"]={docgenInfo:u.__docgenInfo,name:"MlFillExtrusionLayer",path:"src/components/MlFillExtrusionLayer/MlFillExtrusionLayer.tsx#MlFillExtrusionLayer"})}catch(e){}},232:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(18);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){var t=Object(o.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=Object(n.useRef)(!1),l=Object(n.useRef)(!1),c=Object(n.useRef)(e.imageId||"img_"+(new Date).getTime()),u=Object(n.useRef)(e.layerId||"MlImageMarkerLayer-"+t.componentId);Object(n.useEffect)((function(){if(t.map&&(!t.map||t.map.map.getLayer(u.current))&&e.options){var r;if(e.options.layout)for(r in e.options.layout)t.map.map.setLayoutProperty(u.current,r,e.options.layout[r]);if(e.options.paint)for(r in e.options.paint)t.map.map.setPaintProperty(u.current,r,e.options.paint[r])}}),[e.options,u.current,e.mapId]);var p=function(e,t,n){var a;if(t.options&&e.map&&(null===(a=e.map)||void 0===a||!a.map.getLayer(u.current))){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:u.current,layout:{}},t.options);o.layout["icon-image"]=c.current,e.map.addLayer(o,t.insertBeforeLayer,e.componentId),e.map.on("styledata",(function(){var t;!r.current||null!==(t=e.map)&&void 0!==t&&t.map.getLayer(u.current)||l.current||(r.current=!1,l.current=!0,console.log("Recreate Layer "+u.current),n())}),e.componentId),l.current&&(l.current=!1)}},d=Object(n.useCallback)((function(){var n;!t.map||r.current||null!==(n=t.map)&&void 0!==n&&n.map.getLayer(u.current)||(r.current=!0,l.current&&t.cleanup(),e.imgSrc?function(e,t,n){e.map?t.imgSrc&&!e.map.map.hasImage(c.current)?e.map.map.loadImage(t.imgSrc,(function(t,r){if(t)throw t;e.map&&!e.map.map.hasImage(c.current)&&(e.map.addImage(c.current,r,e.componentId),"function"==typeof n&&n())})):"function"==typeof n&&n():r.current=!1}(t,e,(function(){p(t,e,d)})):p(t,e,d))}),[e,t]);return Object(n.useEffect)((function(){r.current||d()}),[d]),Object(n.useEffect)((function(){t.map&&(!t.map||t.map.map.getLayer(u.current))&&e.options&&t.map.map.getSource(u.current).setData(e.options.source.data)}),[e.options.source.data,e]),a.a.createElement(a.a.Fragment,null)};t.a=l;try{l.displayName="MlImageMarkerLayer",l.__docgenInfo={description:"",displayName:"MlImageMarkerLayer",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'The layerId of an existing layer this layer should be rendered visually beneath\nhttps://maplibre.org/maplibre-gl-js-docs/api/map/#map#addlayer - see "beforeId" property',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"Id of the layer that will be added by this component to the maplibre-gl instance",name:"layerId",required:!1,type:{name:"string | undefined"}},imageId:{defaultValue:null,description:"Id of the image that will be added by this component to the maplibre-gl instance",name:"imageId",required:!1,type:{name:"string | undefined"}},imgSrc:{defaultValue:null,description:"Path or URL to a supported raster image",name:"imgSrc",required:!1,type:{name:"string | undefined"}},options:{defaultValue:null,description:"Javascript object that is passed the addLayer command as first parameter.",name:"options",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlImageMarkerLayer/MlImageMarkerLayer.tsx#MlImageMarkerLayer"]={docgenInfo:l.__docgenInfo,name:"MlImageMarkerLayer",path:"src/components/MlImageMarkerLayer/MlImageMarkerLayer.tsx#MlImageMarkerLayer"})}catch(e){}},233:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(18),i=r(3),s=r.n(i);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){var t=Object(o.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=Object(n.useRef)({}),i=Object(n.useRef)(e.layerId||"MlVectorTileLayer-"+t.componentId),s=Object(n.useRef)({}),l=Object(n.useRef)({}),u=Object(n.useRef)(!1),p=Object(n.useCallback)((function(){if(t.map)for(var n in u.current=!0,t.map.map.getLayer(i.current)&&t.cleanup(),t.map.addSource(i.current,c({type:"vector",tiles:[e.url],tileSize:512,attribution:""},e.sourceOptions),t.componentId),e.layers){var a=i.current+"_"+n;r.current[n]=a,t.map.addLayer(c({id:a,source:i.current,type:"line",minzoom:0,maxzoom:22,layout:{},paint:{"line-opacity":.5,"line-color":"rgb(80, 80, 80)","line-width":2}},e.layers[n]),e.insertBeforeLayer,t.componentId),s.current[n]=JSON.stringify(e.layers[n].paint),l.current[n]=JSON.stringify(e.layers[n].layout),t.map.on("styledata",(function(){var e;!u.current||null!==(e=t.map)&&void 0!==e&&e.map.getSource(i.current)||(console.log("Recreate Layer "+i.current),p())}),t.componentId)}}),[t.map,e]);return Object(n.useEffect)((function(){u.current||p()}),[p]),Object(n.useEffect)((function(){if(t.map&&u.current)for(var n in e.layers)if(t.map.map.getLayer(r.current[n])){var a=JSON.stringify(e.layers[n].paint);if(a!==s.current[n])for(var o in e.layers[n].paint)t.map.map.setPaintProperty(r.current[n],o,e.layers[n].paint[o]);s.current[n]=a;var i=JSON.stringify(e.layers[n].layout);if(i!==l.current[n])for(var c in e.layers[n].layout)t.map.map.setLayoutProperty(r.current[n],c,e.layers[n].layout[c]);l.current[n]=i}}),[e.layers,t.map]),a.a.createElement(a.a.Fragment,null)};p.propTypes={mapId:s.a.string,sourceOptions:s.a.object,layers:s.a.object,url:s.a.string},t.a=p;try{p.displayName="MlVectorTileLayer",p.__docgenInfo={description:"Adds a vector-tile source and 0...n vector-tile-layers to the MapLibre instance referenced by\nprops.mapId",displayName:"MlVectorTileLayer",props:{mapId:{defaultValue:null,description:"",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:"",name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"",name:"layerId",required:!1,type:{name:"string | undefined"}},sourceOptions:{defaultValue:null,description:"",name:"sourceOptions",required:!1,type:{name:"any"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string | undefined"}},layers:{defaultValue:null,description:"",name:"layers",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlVectorTileLayer/MlVectorTileLayer.tsx#MlVectorTileLayer"]={docgenInfo:p.__docgenInfo,name:"MlVectorTileLayer",path:"src/components/MlVectorTileLayer/MlVectorTileLayer.tsx#MlVectorTileLayer"})}catch(e){}},234:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(311),i=r.n(o),s=(r(1020),r(36));function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=function(e){var t=Object(n.useContext)(s.b),r=Object(n.useRef)(!1),o=Object(n.useRef)((function(){})),c=l(Object(n.useState)("50"),2),u=c[0],p=c[1],d=Object(n.useRef)("50"),f=l(Object(n.useState)("50"),2),m=f[0],y=f[1],g=Object(n.useRef)("50"),h=Object(n.useMemo)((function(){return e.magnifierRadius||200}),[e.magnifierRadius]),b=Object(n.useCallback)((function(){return!(!e.map1Id||!e.map2Id)&&!(!t.getMap(e.map1Id)||!t.getMap(e.map2Id))}),[e,t]),v=Object(n.useRef)((function(){b()&&O({clientX:d.current,clientY:g.current})}));Object(n.useEffect)((function(){window.addEventListener("resize",v.current);var e=v.current;return function(){window.removeEventListener("resize",e),o.current()}}),[]);var O=Object(n.useCallback)((function(r){if(b()){var n=t.maps[e.map1Id].getCanvas().getBoundingClientRect(),a=r.clientX||(void 0!==r.touches&&void 0!==r.touches[0]?r.touches[0].clientX:0),o=r.clientY||(void 0!==r.touches&&void 0!==r.touches[0]?r.touches[0].clientY:0);a-=n.x,o-=n.y;var i=(a/n.width*100).toFixed(2),s=(o/n.height*100).toFixed(2);d.current===i&&g.current===s||(p(i),d.current=i,y(s),g.current=s,t.maps[e.map2Id].getContainer().style.clipPath="circle(".concat(h,"px at ")+parseFloat(d.current)*n.width/100+"px "+parseFloat(g.current)*n.height/100+"px)")}}),[t,b,e,h]);Object(n.useEffect)((function(){b()&&!r.current&&(r.current=!0,o.current=i()(t.getMap(e.map1Id).map,t.getMap(e.map2Id).map),O({clientX:t.maps[e.map1Id].getCanvas().clientWidth/2,clientY:t.maps[e.map1Id].getCanvas().clientHeight/2}))}),[t.mapIds,t,b,e,O]);var j=function(e){e.touches?(document.addEventListener("touchmove",O),document.addEventListener("touchend",w)):(document.addEventListener("mousemove",O),document.addEventListener("mouseup",I))},w=function e(){document.removeEventListener("touchmove",O),document.removeEventListener("touchend",e)},I=function e(){document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",e)};return a.a.createElement("div",{style:{position:"absolute",left:u+"%",top:m+"%",borderRadius:"50%",width:2*h+1+"px",height:2*h+1+"px",background:"rgba(0,0,0,0)",border:"2px solid #fafafa",boxShadow:"1px 2px 2px rgba(19, 19, 19, .5), inset 1px 1px 1px rgba(19, 19, 19, .2)",cursor:"pointer",zIndex:"110",marginLeft:-1*h-1+"px",marginTop:-1*h-1+"px",textAlign:"center",lineHeight:"91px",fontSize:"2em",color:"#fafafa",userSelect:"none"},onTouchStart:j,onMouseDown:j,onWheel:function(e){var r=new WheelEvent(e.type,e);t.map.getCanvas().dispatchEvent(r)}})};u.defaultProps={magnifierRadius:200},t.a=u;try{u.displayName="MlLayerMagnify",u.__docgenInfo={description:'\nHides the MapLibreMap referenced by props.map2Id except for the "magnifier"-circle that reveals\nthe map and can be dragged around on top of the MapLibreMap referenced by props.map1Id',displayName:"MlLayerMagnify",props:{map1Id:{defaultValue:null,description:"Id of the first MapLibre instance",name:"map1Id",required:!0,type:{name:"string"}},map2Id:{defaultValue:null,description:"Id of the second MapLibre instance",name:"map2Id",required:!0,type:{name:"string"}},magnifierRadius:{defaultValue:{value:"200"},description:'Size of the "magnifier"-circle',name:"magnifierRadius",required:!1,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlLayerMagnify/MlLayerMagnify.tsx#MlLayerMagnify"]={docgenInfo:u.__docgenInfo,name:"MlLayerMagnify",path:"src/components/MlLayerMagnify/MlLayerMagnify.tsx#MlLayerMagnify"})}catch(e){}},235:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(311),i=r.n(o),s=(r(1022),r(36));function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=function(e){var t=Object(n.useContext)(s.b),r=Object(n.useRef)(!1),o=l(Object(n.useState)(50),2),c=o[0],u=o[1],p=Object(n.useRef)(0),d=Object(n.useRef)((function(){})),f=Object(n.useCallback)((function(){return!(!e.map1Id||!e.map2Id)&&!(!t.getMap(e.map1Id)||!t.getMap(e.map2Id))}),[t,e.map1Id,e.map2Id]),m=function(){d.current()},y=Object(n.useCallback)((function(r){if(f()){var n=t.maps[e.map1Id].getCanvas().getBoundingClientRect(),a=r.clientX||(void 0!==r.touches&&void 0!==r.touches[0]?r.touches[0].clientX:0);a-=n.x;var o=parseFloat((a/n.width*100).toFixed(2));if(p.current!==o){u(o),p.current=o;var i="rect(0, "+p.current*n.width/100+"px, 999em, 0)";t.maps[e.map2Id].getContainer().style.clip=i}}}),[t,f,e.map1Id,e.map2Id]);Object(n.useEffect)((function(){return m}),[]),Object(n.useEffect)((function(){f()&&!r.current&&(r.current=!0,d.current=i()(t.getMap(e.map1Id).map,t.getMap(e.map2Id).map),y({clientX:t.maps[e.map1Id].getCanvas().clientWidth/2}))}),[t.mapIds,t,e,y,f]);var g=function(e){e.touches?(document.addEventListener("touchmove",y),document.addEventListener("touchend",h)):(document.addEventListener("mousemove",y),document.addEventListener("mouseup",b))},h=function e(){document.removeEventListener("touchmove",y),document.removeEventListener("touchend",e)},b=function e(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",e)};return a.a.createElement("div",{style:{position:"absolute",left:c+"%",top:"50%",borderRadius:"50%",width:"100px",height:"100px",background:"#0066ff",border:"3px solid #eaebf1",cursor:"pointer",zIndex:"110",marginLeft:"-50px",marginTop:"-50px",textAlign:"center",lineHeight:"91px",fontSize:"2em",color:"#fafafa",userSelect:"none"},onTouchStart:g,onMouseDown:g})};t.a=u;try{u.displayName="MlLayerSwipe",u.__docgenInfo={description:"creates a split view of 2 synchronised maplibre instances",displayName:"MlLayerSwipe",props:{map1Id:{defaultValue:null,description:"Id of the first MapLibre instance.",name:"map1Id",required:!0,type:{name:"string"}},map2Id:{defaultValue:null,description:"Id of the second MapLibre instance.",name:"map2Id",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlLayerSwipe/MlLayerSwipe.tsx#MlLayerSwipe"]={docgenInfo:u.__docgenInfo,name:"MlLayerSwipe",path:"src/components/MlLayerSwipe/MlLayerSwipe.tsx#MlLayerSwipe"})}catch(e){}},236:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(36),i=r(139),s=r(417),l=r(28),c=r(200),u=r(3),p=r.n(u);function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=Object(n.useContext)(o.b),r=Object(n.useRef)((e.idPrefix?e.idPrefix:"MlSpatialElevationProfile-")+Object(c.a)()),u=Object(n.useRef)(null),p=Object(n.useRef)(!1),f=Object(n.useContext)(i.b),m=Object(n.useRef)("elevationprofile-"+Object(c.a)()),y=Object(n.useRef)("elevationprofile-layer-"+Object(c.a)()),g=Object(n.useCallback)((function(t,r,n,a,o){var i=Object(s.a)([[t,r],[a,o]]),c=Object(l.lineOffset)(i,5,{units:"meters"}),u=c.geometry.coordinates[0][0],p=c.geometry.coordinates[0][1],d=c.geometry.coordinates[1][0],f=c.geometry.coordinates[1][1];return Object(s.b)([[[t,r],[a,o],[d,f],[u,p],[t,r]]],{height:n*e.elevationFactor})}),[e.elevationFactor]);return Object(n.useEffect)((function(){var e=r.current;return function(){u.current&&(u.current.cleanup(e),u.current=null)}}),[]),Object(n.useEffect)((function(){t.mapExists(e.mapId)&&!p.current&&(p.current=!0,u.current=t.getMap(e.mapId),u.current.addSource(m.current,{type:"geojson",data:f.data},r.current),u.current.addLayer({id:y.current,source:m.current,type:"fill-extrusion",paint:{"fill-extrusion-height":["get","height"],"fill-extrusion-opacity":.9,"fill-extrusion-color":["interpolate",["linear"],["get","height"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"yellow"]}},e.insertBeforeLayer,r.current))}),[t.mapIds,e.insertBeforeLayer,e.mapId,f,t]),Object(n.useEffect)((function(){var t;if(u.current&&u.current.getLayer(y.current)){var r=f.data;if(r&&r.features){var n=r.features.find((function(e){return"LineString"===e.geometry.type}));if(n&&n.geometry){var a=n.geometry.coordinates.map((function(e,t){return e[2]})),o=Math.min.apply(Math,d(a)),i=Math.max.apply(Math,d(a))-o;i=0===i?1:i,u.current.setPaintProperty(y.current,"fill-extrusion-color",["interpolate",["linear"],["get","height"],0,"rgb(0,255,55)",i*e.elevationFactor,"rgb(255,0,0)"]);var s=function(e,t,r){return e*(1-r)+t*r},c=[];n.geometry.coordinates.forEach((function(e,t){if(n.geometry.coordinates[t+1]){var r=~~(1e3*Object(l.distance)([e[0],e[1]],[n.geometry.coordinates[t+1][0],n.geometry.coordinates[t+1][1]],{units:"kilometers"})/10);r=r<1?1:r;for(var a=0;a<r;a++){var i=s(n.geometry.coordinates[t][0],n.geometry.coordinates[t+1][0],a/r),u=s(n.geometry.coordinates[t][1],n.geometry.coordinates[t+1][1],a/r),p=s(n.geometry.coordinates[t][2]-o,n.geometry.coordinates[t+1][2]-o,a/r),d=s(n.geometry.coordinates[t][0],n.geometry.coordinates[t+1][0],(a+1)/r),f=s(n.geometry.coordinates[t][1],n.geometry.coordinates[t+1][1],(a+1)/r),m=g(i,u,p,d,f);c.push(m)}}}));var p=f.getEmptyFeatureCollection();p.features=c,null===(t=u.current.getSource(m.current))||void 0===t||t.setData(p)}}}}),[f.data,g,f,e.elevationFactor,t]),a.a.createElement(a.a.Fragment,null)};m.defaultProps={elevationFactor:1},m.propTypes={mapId:p.a.string,idPrefix:p.a.string,elevationFactor:p.a.number,insertBeforeLayer:p.a.string},t.a=m},238:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(18),i=r(108),s=r(310),l={street:["footway","street","road","street_name","residential","path","pedestrian","road_reference","road_reference_intl","square","place"],number:["house_number","street_number"],place:["city","village","hamlet","locality","croft","neighbourhood","suburb","city_district","district","quarter","borough","city_block","residential","commercial","industrial","houses","subdivision","allotments","postal_city","town","municipality","local_administrative_area"],zip:["postcode","partial_postcode"],state:["state","province","state_code"]},c=function(e){var t=[];for(var r in l)l[r].some((function(r){return!!e.hasOwnProperty(r)&&(t.push(e[r]),!0)}));return t.join(", ")};function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){return 25.4,96/25.4*e+"px"},f=function(e,t,r){r(!0);var n=window.devicePixelRatio,a=document.createElement("div");a.className="hidden-map",document.body.appendChild(a);var o=document.createElement("div");o.style.width=d(210),o.style.height=d(297),a.appendChild(o);var l=e.map.getStyle(),p=function(e){var t=l.sources[e];Object.keys(t).forEach((function(e){t[e]||delete t[e]}))};for(var f in l.sources)p(f);var m=new i.Map({container:o,center:e.map.getCenter(),zoom:e.map.getZoom(),bearing:e.map.getBearing(),pitch:e.map.getPitch(),interactive:!1,preserveDrawingBuffer:!0,fadeDuration:0,attributionControl:!1,style:l});m.once("idle",(function(){var e,o=new s.a({orientation:"p",unit:"mm",compress:!0});Object.defineProperty(window,"devicePixelRatio",{get:function(){return 3.125}});var i=(t?c(t.address):"").split(","),l=[];l.length&&i.forEach((function(e){var t=e.match(/.{1,34}/g);t&&l.push.apply(l,u(t))})),o.addImage(m.getCanvas().toDataURL("image/png"),"png",0,0,210,297,void 0,"FAST"),o.setFillColor("white"),o.rect(138,287,297,10,"F"),o.setFontSize(10),o.text("Datenquelle:  OpenStreetMap-Mitwirkende",140,o.internal.pageSize.height-3),o.setFillColor("white");var p=3.25*l.length+3+3+6.5+4+1;o.rect(2.5,2,66.5,p,"F"),o.setFontSize(10),o.text("Karten PDF:",6,5.5),o.rect(6,7,60,3.25*l.length+4+1),o.setFontSize(10),l.forEach((function(e,t){o.text(e.trim(),8,10+3.5*t+2)})),o.addImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAACxCAMAAABnTAbVAAAC8VBMVEUAAAD/AACAAACqAFW/AECZMzOqK1W2JEm/IECqHDmzGk25F0aqFUCxJzu2JEmqIkSvIEC0HjyqHEeuG0OzGkC2GD2uI0axIUO1IECtHz2xHUWzHEKtG0CwGj6zIkS1IUKyHz60HkSvHUKxHECzHD6uG0OxIUGzIECuHz6wHkOyHkG0HUCwHD6xHEOzIUGvIECxHz6zH0KvHkGxHUCyHT+vHEKwHEGyIECzHz+wH0KxHkGzHkCwHT+xHUKyHEGvIECxHz+yH0KzHkGwHkCxHj+zHUKwHUGxHECyHz+wH0GxH0GyHkCwHj+xHUGyHUGzHUCwHz+xH0GyH0GwHkCxHj+yHkGwHUCxHUCyHT+wH0GxH0CxHkCyHj+wHkGxHkCyHUCwHT+xH0GyH0CwH0CxHj+yHkGwHkCxHUCxHT+yHUGwH0CxH0CyHj+wHkGxHkCyHkCwHT+xHUGxH0CyH0CxHz+xHkGyHkCwHkCxHj+yHUGwHUCxH0CwHkGxHkCxHkCyHj+xHUGxHUCyH0CwHz+xHkGyHkCwHkCxHj+xHkGwHUCxHUCxHz+yH0GxHkCyHj+wHkGxHUCxHUCwHz+xH0GxHkCyHkCxHj+xHkGyHkCxHUCxHT+yH0GwHkCxHkCxHj+wHkGxHkCxHkCyHT+xH0GxH0CyHkCxHj+xHkGxHkCwHkCxHT+xHUCwH0CxHkCxHj+yHkCxHkCxHkCyHj+xHUCxH0CxHkCwHj+xHkCxHkCwHkCxHj+xHkCyHUCxH0CxHj+xHkCxHkCxHkCxHj+wHkCxHUCxH0CyHj+xHkCxHkCyHkCxHj+xHkCxHUCxHz+xHkCwHkCxHkCxHj+yHkCxHkCxHkCxHkCxHkCxHkCxHj+xHkCwHkCxHT+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xH0CxHkCxHkCyHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkCxHkCxHj+xHkCxHkD///9g21WfAAAA+XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyEiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fn+AgYKDhIWGh4iJiouMjY6PkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc/Q0dLT1NXW19ja29zd3uDh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7v1AMKAAAAAWJLR0T61W0GSgAACWZJREFUGBnVwXlAVHUCB/DvmxkuD0QswFo3TcwzS0p01RVMpUytLKxMSVNpLUsLj7VDo7btsNTssrTMdAtWNjNbkyzF3EotwrXMI7XwAAxE5Jz5/rcaMMx782Z452/p84GV2na+ZmRqasrwxE4OtFRhI/+29SS9qn/86PGUKLQ4CW+X0p/n+xeTnGhB4v/NgIpXj3aihZhRyaCOPNYRwrW+KwkKmWxWTVYfiBRy49qzxW0hN5FaeLLiIUrv5UUkl0Au9iy1qXk1BgJIIzZ7eMG1kHuBmpVMkWCz0LQC1itzQkb6hTpsiYOdQmcfZ6M8yPWmLoWDYBsp9SCbZENuDPWpmgKbJO+mr9WQm0y95sEO8Zso9z7k7qJuj8JyzofPUeFjyA2nfvfDYl23089eyPWkfrXDYCXXI1X0Vy5BxllC/U50hHU676aqbpDLogEfoEFUR5g0qoTqJkJuAo0YjQZPpcIMab6bAayBXMgxGrDfiXrhBVnRMOyiTxhQkQtyGTTidjS4quZIEgzqfYRBjIFc2Pc0YCcaLWbdXyUY8acSBrMBCgPqqJ+nExpEniL/FQn9hpczKHdPKCyiAfeh0SMkf+wDvSbWsBlroCCtpX6volFkOcmzqdBntofN8QyGQkQudcuF12qe554DPWZRg70hUAjNoV6fwyuFv1nuhGYT3dRiDpRCVlCnHHiFlfM3m9tCo5trqUlFX/hJO0ddFqJJLut9HQ1NrquiRoc7wM/V31GPa9DkGTbIvwga9C+nZrlO+Al9opqabYWPqWy0NwbNuvQEdXgJKuI/oEaVfeFjFL32xaEZYV+yQeWBbVlZq15f9sp7W/YcrmYAS6AmOY9aeCbA13Vssv8SBPcazzuaPS/5Yvhy9bhtYfZxqlgiQU3SFg+bUzUJMtfTR0EUgpnK2s/n9oQ6qe+cT85R6SUnVPVYXsag9iVCLo2+dkQgsKv3zI9FUBGpuR7KbY6CulZ3bqplICfmhUHhWcpsdCGgi6FB16dOUeaHeATSbtyKI/Tn2TEtAn7yKLdSgkmt55ygr9M3I4ies9fkV7PJwXVTO0HFxbVUWAjTWj10kr7eikRQIb3vSJ8//5l5aSN7RyGAJ6nkuQXmRS1108eRZJgUeZp+yvvAAoP20od7VRxMeZEqDkXDAiFPuumjLCMExo3yUM2nLljhhhL6+iHVAYO6nqK6TFii05eU2ZfmhBHdf2YA7mRYIiybcnvTwqDbgJMM6Gh7WML5JhVOPvNH6CLNqmYQ62ENaSmVatbfFArNEvIoV7Phvmti2rXukrJgazXPmw6LLKa/4uUDHdAi/h8eylQtjoNX1H355JlOsIb0PtUUrhgTgeAcoza5KfddD8hIN37LjbBI+BdUV/HJI4NCEIBr2LKjVNrcFkquhypvh0UuOsCAzm5bktYnBHLRQx/d9Cv9veeCir550bBI3yoGVXv40xWZGdNT09LTH12yZmcR1X0VDlVtR8Aqc2mBXzrCdo7PaN44CHBZKc36CELMpUk1XSBE6EGa8xYEmUBT3L0giLSLZnwIYW6iGbdCGMdhGlcaAXHm07g3IVCHczRsHER6l0bVRkGk22jUTgjVpooGPQuxttCg8RDrARp0OcTqRWPKJYjlqqQh+RBtDw1ZD9FW0pDnIdqDNCQDoo2iIVMgWiINGQvRLqchwyBaFA35M0STamjEIAh3mkYMhnClNOJ6CHeGRqRCuCoakQ7RImhIJkSLoyFvQbSraMhWiDaWhhyFaDNpiKcdBFtOYwZCsG00ZjrEkoppzGsQqzsNyodY99CgukgI9TaNSoZIUiGNWgSREmjYfyDSszSsrj3EcRyjceMgTgpNWAlx1tGEYhdEiaygGddBlIdoyisQJKKQphx3QYxZNGk0hAj7mSblQIiZNKs2DgJEn6RpcyDACpr3kwu2S3TTAnfAbq58WmEP7PYYgzq1fdXf56anT5/ycOayNZ8WMaChsNeQWgZy4NXJie0hFzciY2MF1WyDrWJ/oaritfdchgAiRr18jP5ugI0cW6jCnZsWgaAcwzd6qPCdA/Z5mv4Ozr8EGvR4pZpyE2CbSR4qHU53QaP4LA99FbaDTW6po8L+iU7oMHg3fS2DPYZVUe50uhP6uBbWsom7P+xw7RnKrYuFfgMPsUl+KKw39FfKHEqBIW3Xs8lSWC61ijKrW8Egx1I2uQ0We8BNX1WzYMIsNxuVd4eVnIspc6gfTJnkZqP/RsM6l26nTG4UTHqAXl+1gVWGn6DMhnCYlkmvz8JhidDFHsqsdMICb9BrUxtY4M97KbdMghXCvqFXwWUwq+NaKjwHi3Qto1dhf5gSOruMCu9IsMqdbFI11wnDwmcepdLmEFhnHX18PQDGtM44Tj+72sBCl5yhD88/+0G/K18sor/CWFhqDuV2psfCq/UMNCdm9rdUU5cMa4V8TwVP/uszRicmJAyZ9m5ZJfCXpBAE4Lx2wWc1VLcQVhvHIN4DxrM0J2NwBBRikmdmlzCgrQ5YzbGfgaUA0k6eV1OQ8/y9qSMHJQy96e4HH389r5hBFcXBelMZ0DEngEQPdZsCG4T9zECewgUrqdcOCXZYyACqL8UFHYqoT21f2OJyD9WtQr1p1Oc52GQ3VXl6oZ6URz1OtYFNHqaqj9AovoI6LIBd/kBVQ+E1m9qVRMI2P1LFDjRx5FGzx2GfN+nPMxA+OpVQo7L2sM9k+suGzHhq9AJs1Jl+arpBbhW1uRJ2KqXSMii0LqAWu2Crb6hQGgOlrr9Sgxmw1ftUSIe/MR42q7I9bPU05bZLUPEEm5UDe02jTGU3qJHWsjn3wl7jKbMA6iK+YjO6wF430te3IQgg9hCDOgCbJdNH+RUIqMtxBvMybDaAPiYhiH5lDOJW2Kwfm7yBoJIqGFhX2CyJXgURCG74OQZS4YDNxrJR6RVozohKBrAHdpvEBjUj0LyUCqpbDbvdzwaTocWQUqqaB7stYr1MaJNQRDV3wG7v8DdrJGjU7SBVXA+7fcELPgyFZh2+oL/+sJmjjOd9HAYdWuXQzxWwWS+e92EodJEWeagQA5tNJ7khFHrdUk65cNgsh8wOhX4991GmFewVVs7nHTAiYil9tYO9Uuruh1F3n2GTONjr6dEwrnMevfrBXrEwwzGvig3GomXrvoP1HkQLJ6WV8II30OJ1XO0huQu/AwN3k5Vh+B1wpP3EIfhdCE2fhv+X/wF/AO+L9vuzfwAAAABJRU5ErkJggg==","png",5,12+3*l.length+4,3,3,void 0,"FAST"),o.setFontSize(10),o.text("wheregroup.com",40,12+3.25*l.length+4+1),o.setProperties({title:"Map export",subject:"Map export",creator:"WhereGroup GmbH",author:"(c)WhereGroup GmbH, (c)OpenStreetMap"}),o.save("Map.pdf"),m.remove(),null===(e=a.parentNode)||void 0===e||e.removeChild(a),Object.defineProperty(window,"devicePixelRatio",{get:function(){return n}}),r(!1)}))},m=r(577),y=r.n(m),g=r(128),h=function(e){var t=Object(o.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer});return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.a,{color:"primary",variant:"contained",onClick:function(){t.map&&f(t.map,null,(function(){}))}},a.a.createElement(y.a,null)))};h.defaultProps={mapId:void 0};t.a=h;try{h.displayName="MlCreatePdfButton",h.__docgenInfo={description:"Renders a button that will create a PDF version of the current map view (dimensions adjusted to fit Din A4 Paper).",displayName:"MlCreatePdfButton",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlCreatePdfButton/MlCreatePdfButton.tsx#MlCreatePdfButton"]={docgenInfo:h.__docgenInfo,name:"MlCreatePdfButton",path:"src/components/MlCreatePdfButton/MlCreatePdfButton.tsx#MlCreatePdfButton"})}catch(e){}},239:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(28),i=r(18);function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e,t,r,n,a,i,l,c,p,d){var f=[],m=[],y=[],g=[];t.current=[];var h=a.current||{geometry:{type:"LineString",coordinates:[]},properties:{},type:"Feature"},b=e.geojson,v=b,O=h,j=!1;if(void 0===v.geometry&&void 0!==O.geometry&&O.geometry.coordinates.length>1)v=o.lineString(O.geometry.coordinates.slice(0,2));else if(void 0===O.geometry&&void 0!==v.geometry&&v.geometry.coordinates.length>1)O=o.lineString(v.geometry.coordinates.slice(0,2));else if(void 0===O.geometry&&void 0===v.geometry)return;if(v.geometry.coordinates.length<O.geometry.coordinates.length&&(v=h,O=b,j=!0),v&&O)for(var w=0,I=v.geometry.coordinates.length;w<I;w++)void 0!==O.geometry.coordinates[w]&&v.geometry.coordinates[w][0]===O.geometry.coordinates[w][0]&&v.geometry.coordinates[w][1]===O.geometry.coordinates[w][1]?t.current.push(v.geometry.coordinates[w]):(void 0!==v.geometry.coordinates[w]&&m.push(v.geometry.coordinates[w]),void 0!==O.geometry.coordinates[w]&&f.push(O.geometry.coordinates[w]));if(j?(y=f,g=m):(y=m,g=f),!(y.length<2&&g<2)){var x,S=e.transitionTime/i,C=g.length>1?Math.round(o.length(o.lineString(g))):0,M=y.length>1?Math.round(o.length(o.lineString(y))):0,E=M+C,P=C/E,A=Math.round(S*P),L=Math.round(C/A*100)/100,H=M/E,k=Math.round(S*H),T=Math.round(M/k*100)/100;C<=0&&.1,(x=s(u(g,L,A))).reverse(),(x=[].concat(s(x),s(u(y,T,k)))).push(b),r.current=x,l.current=1,n.current=!0,p.current=setTimeout((function(){return function e(t,r,n,a,i,l,c,u,p){var d=arguments;if(void 0!==a.current[l.current]){var f=l.current+1===a.current.length?t.geojson:o.lineString([].concat(s(i.current),s(a.current[l.current].geometry.coordinates)));p(f),"function"==typeof t.onTransitionFrame&&t.onTransitionFrame(f),l.current++,n.current&&l.current<a.current.length?u.current=setTimeout((function(){return e.apply(void 0,s(d))}),c):("function"==typeof t.onTransitionEnd&&t.onTransitionEnd(t.geojson),n.current=!1)}}(e,c,n,r,t,l,i,p,d)}),i)}},u=function(e,t,r){var n=[];if(e.length>1)for(var a=o.lineChunk(o.lineString(e),t),i=a.features[0],l=0;l<r&&(n.push(i),void 0!==a.features[l]);l++)i=o.lineString([].concat(s(i.geometry.coordinates),s(a.features[l].geometry.coordinates)));return n},p=r(45),d=["geojson"];function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var h=function(e){e.geojson;var t=g(e,d),r=Object(i.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),s=Object(n.useRef)(!1),l=Object(n.useRef)(),u=Object(n.useRef)(!1),y=Object(n.useRef)(void 0),h=Object(n.useRef)(!1),b=Object(n.useRef)([]),v=Object(n.useRef)([]),O=m(Object(n.useState)(o.featureCollection([])),2),j=O[0],w=O[1];Object(n.useEffect)((function(){return function(){y.current&&clearTimeout(y.current)}}),[]);var I=Object(n.useCallback)((function(){c(e,v,b,u,l,50,h,r.map,y,w)}),[e,r.map]);Object(n.useEffect)((function(){r.map&&s.current&&(void 0!==e.transitionTime&&"line"===e.type&&l.current&&(u.current=!1,h.current=!1,b.current=[],v.current=[],I()),l.current=e.geojson)}),[r.map,I,e]);var x=Object(n.useCallback)((function(){"line"===e.type&&void 0!==e.transitionTime&&e.transitionTime&&void 0!==e.geojson&&JSON.stringify(l.current)!==JSON.stringify(e.geojson)&&(I(),l.current=e.geojson)}),[e,I]);return Object(n.useEffect)((function(){r.mapIsReady&&e.geojson&&(s.current=!0,x())}),[r.mapIsReady,x,e]),a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,f({},t,{geojson:j})))};t.a=h;try{h.displayName="MlTransitionGeoJsonLayer",h.__docgenInfo={description:'Adds source and layer of types "line", "fill" or "circle" to display GeoJSON data on the map.',displayName:"MlTransitionGeoJsonLayer",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!0,type:{name:"string"}},geojson:{defaultValue:null,description:"GeoJSON data that is supposed to be rendered by this component.",name:"geojson",required:!0,type:{name:"Feature<Geometry | GeometryCollection, Properties> | FeatureCollection<Geometry | GeometryCollection, Properties> | undefined"}},type:{defaultValue:null,description:'Type of the layer that will be added to the MapLibre instance.\nPossible values: "line", "circle", "fill"',name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"fill"'},{value:'"line"'},{value:'"circle"'}]}},paint:{defaultValue:null,description:"Paint property object, that is passed to the addLayer call.\nPossible props depend on the layer type.\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#line\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#circle\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#fill",name:"paint",required:!1,type:{name:'{ "circle-radius"?: DataDrivenPropertyValueSpecification<number> | undefined; "circle-color"?: DataDrivenPropertyValueSpecification<string> | undefined; ... 8 more ...; "circle-stroke-opacity"?: DataDrivenPropertyValueSpecification<...> | undefined; } | { ...; } | { ...; } | undefined'}},layout:{defaultValue:null,description:"Layout property object, that is passed to the addLayer call.\nPossible props depend on the layer type.\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#line\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#circle\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#fill",name:"layout",required:!1,type:{name:'{ "circle-sort-key"?: DataDrivenPropertyValueSpecification<number> | undefined; visibility?: "visible" | "none" | undefined; } | { "fill-sort-key"?: DataDrivenPropertyValueSpecification<...> | undefined; visibility?: "visible" | ... 1 more ... | undefined; } | { ...; } | undefined'}},options:{defaultValue:null,description:"Javascript object that is spread into the addLayer commands first parameter.",name:"options",required:!1,type:{name:"CircleLayerSpecification | FillLayerSpecification | LineLayerSpecification | undefined"}},defaultPaintOverrides:{defaultValue:null,description:'Javascript object with optional properties "fill", "line", "circle" to override implicit layer type default paint properties.',name:"defaultPaintOverrides",required:!1,type:{name:'{ circle?: { "circle-radius"?: DataDrivenPropertyValueSpecification<number> | undefined; "circle-color"?: DataDrivenPropertyValueSpecification<string> | undefined; ... 8 more ...; "circle-stroke-opacity"?: DataDrivenPropertyValueSpecification<...> | undefined; } | undefined; fill?: { ...; } | undefined; line?: { ......'}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!0,type:{name:"string"}},onHover:{defaultValue:null,description:"Hover event handler that is executed whenever a geometry rendered by this component is hovered.",name:"onHover",required:!1,type:{name:"MapLayerMouseEvent | undefined"}},onClick:{defaultValue:null,description:"Click event handler that is executed whenever a geometry rendered by this component is clicked.",name:"onClick",required:!1,type:{name:"MapLayerMouseEvent | undefined"}},onLeave:{defaultValue:null,description:"Leave event handler that is executed whenever a geometry rendered by this component is\nleft/unhovered.",name:"onLeave",required:!1,type:{name:"MapLayerMouseEvent | undefined"}},transitionTime:{defaultValue:null,description:'Creates transition animation whenever the geojson prop changes.\nOnly works with layer type "line" and LineString GeoJSON data.',name:"transitionTime",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlTransitionGeoJsonLayer/MlTransitionGeoJsonLayer.tsx#MlTransitionGeoJsonLayer"]={docgenInfo:h.__docgenInfo,name:"MlTransitionGeoJsonLayer",path:"src/components/MlTransitionGeoJsonLayer/MlTransitionGeoJsonLayer.tsx#MlTransitionGeoJsonLayer"})}catch(e){}},242:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(18),i=r(128),s=r(309),l=r.n(s);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t,r,s=Object(o.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),c=d(Object(n.useState)(!1),2),p=c[0],f=c[1],m=Object(n.useCallback)((function(e){var t,r,n;null===(t=s.map)||void 0===t||null===(r=(n=t.map).setCenter)||void 0===r||r.call(n,[e.coords.longitude,e.coords.latitude])}),[s.map]),y=function(){console.log("Access of user location denied"),f(!0)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{sx:u({zIndex:1002,color:p?e.offColor:e.onColor},e.style),onClick:function(){navigator.geolocation.getCurrentPosition(m,y)},disabled:p},a.a.createElement(l.a,{sx:u({},null!==(t=e.style)&&void 0!==t&&t.fontSize?{fontSize:null===(r=e.style)||void 0===r?void 0:r.fontSize}:{})})," "))};m.defaultProps={mapId:void 0,style:{minWidth:"30px",minHeight:"30px",width:"30px",height:"30px",backgroundColor:"#414141",borderRadius:"23%",margin:.15,fontSize:"1.3em",":hover":{backgroundColor:"#515151",color:"#ececec"}},onColor:"#ececec",offColor:"#666"},t.a=m;try{m.displayName="MlCenterPosition",m.__docgenInfo={description:"Component template",displayName:"MlCenterPosition",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},onColor:{defaultValue:{value:"#ececec"},description:"Active button font color",name:"onColor",required:!1,type:{name:"string | undefined"}},offColor:{defaultValue:{value:"#666"},description:"Inactive button font color",name:"offColor",required:!1,type:{name:"string | undefined"}},style:{defaultValue:{value:'{\n\t\tminWidth: "30px",\n\t\tminHeight: "30px",\n\t\twidth: "30px",\n\t\theight: "30px",\n\t\tbackgroundColor: "#414141",\n\t\tborderRadius: "23%",\n\t\tmargin: 0.15,\n\t\tfontSize: "1.3em",\n\t\t":hover": {\n\t\t\tbackgroundColor: "#515151",\n\t\t\tcolor: "#ececec",\n\t\t},\n\t}'},description:"CSS style object that is applied to the button component",name:"style",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlCenterPosition/MlCenterPosition.tsx#MlCenterPosition"]={docgenInfo:m.__docgenInfo,name:"MlCenterPosition",path:"src/components/MlCenterPosition/MlCenterPosition.tsx#MlCenterPosition"})}catch(e){}},243:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(18),i=r(78),s=r(165),l=function(e){var t=Object(o.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=Object(n.useRef)(!1),l="geojson-source-island";return Object(s.a)({mapId:e.mapId,sourceId:l,source:{type:"geojson",data:{type:"Feature",geometry:{type:"Polygon",coordinates:[[[7.678070068359375,53.77276133960687],[7.665367126464845,53.76190478322587],[7.66794204711914,53.75439486837337],[7.682018280029297,53.75104541932613],[7.683563232421874,53.752567929273795],[7.6895713806152335,53.75784553654847],[7.694721221923828,53.765253366367],[7.697296142578124,53.76555776977467],[7.696952819824219,53.76190478322587],[7.702102661132812,53.7634268995759],[7.74038314819336,53.760179651329416],[7.7458763122558585,53.7626151110553],[7.76956558227539,53.76413720165758],[7.796001434326172,53.77002209954434],[7.801666259765624,53.77113810781356],[7.801666259765624,53.77235553754314],[7.806129455566406,53.77306568858016],[7.815742492675781,53.775703287246394],[7.819690704345703,53.77752921999979],[7.81951904296875,53.77955794100295],[7.8172874450683585,53.78026797018521],[7.785530090332031,53.780166538180396],[7.756175994873047,53.78067369575275],[7.754802703857421,53.7819922767562],[7.7398681640625,53.78189084891923],[7.725791931152345,53.78168799250984],[7.71686553955078,53.77986224069494],[7.709827423095702,53.78087655706549],[7.695751190185547,53.78036940194483],[7.687854766845703,53.778340720169446],[7.678070068359375,53.77276133960687]]]}}}}),Object(i.a)({mapId:e.mapId,layerId:"Spiekeroog-area",source:l,options:{id:"layer1",source:l,type:"fill",paint:{"fill-color":"green","fill-opacity":.5}}}),Object(i.a)({mapId:e.mapId,layerId:"Spiekeroog-points",source:l,options:{id:"Spiekeroog-points",source:l,type:"circle",paint:{"circle-radius":4,"circle-color":"green"}}}),Object(n.useEffect)((function(){t.map&&!r.current&&(r.current=!0,t.map.map.setCenter([7.7388381958,53.7732685866]),t.map.map.setZoom(11))}),[t.map,e.mapId]),a.a.createElement(a.a.Fragment,null)};l.defaultProps={mapId:"map_1"},t.a=l;try{l.displayName="MlGeojsonLayerWithSource",l.__docgenInfo={description:"MlGeojsonLayerWithSource",displayName:"MlGeojsonLayerWithSource",props:{mapId:{defaultValue:{value:"map_1"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlGeojsonLayerWithSource/MlGeojsonLayerWithSource.tsx#MlGeojsonLayerWithSource"]={docgenInfo:l.__docgenInfo,name:"MlGeojsonLayerWithSource",path:"src/components/MlGeojsonLayerWithSource/MlGeojsonLayerWithSource.tsx#MlGeojsonLayerWithSource"})}catch(e){}},297:function(e,t,r){var n=r(120),a=r(1027);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},306:function(e,t,r){"use strict";var n=r(0),a=r(587),o=r.n(a);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){var t=c(Object(n.useState)(void 0),2),r=t[0],a=t[1],i=c(Object(n.useState)(e.url),2),l=i[0],u=i[1],p=c(Object(n.useState)(""),2),d=p[0],f=p[1],m=c(Object(n.useState)(void 0),2),y=m[0],g=m[1],h=c(Object(n.useState)(void 0),2),b=h[0],v=h[1],O=function(){a(void 0),g(void 0),f("")};return Object(n.useEffect)((function(){var t;if(O(),v(void 0),l){var r,n=l;-1!==l.indexOf("?")&&(n=(r=l.split("?"))[0]);var a=new URLSearchParams(null===(t=r)||void 0===t?void 0:t[1]),i=s(s({},Object.fromEntries(a)),e.urlParameters),c=new URLSearchParams(i),u=decodeURIComponent(c.toString())+"".replace(/%2F/g,"/").replace(/%3A/g,":");fetch(n+"?"+u).then((function(e){if(e.ok)return e.text();throw Error(e.statusText+" ("+e.status+" - "+e.type+")")})).then((function(e){g(new o.a(e).toJSON())})).catch((function(e){O(),console.log(e),v(e.message)}))}}),[l,e.urlParameters]),Object(n.useEffect)((function(){var e,t,r,n,o,i,s,l,c,u,p,d,m,g;null!=y&&y.Service&&(f(null===(e=y.Capability)||void 0===e||null===(t=e.Request)||void 0===t||null===(r=t.GetMap)||void 0===r||null===(n=r.DCPType)||void 0===n||null===(o=n[0])||void 0===o||null===(i=o.HTTP)||void 0===i||null===(s=i.Get)||void 0===s?void 0:s.OnlineResource),a(null===(l=y.Capability)||void 0===l||null===(c=l.Request)||void 0===c||null===(u=c.GetFeatureInfo)||void 0===u||null===(p=u.DCPType)||void 0===p||null===(d=p[0])||void 0===d||null===(m=d.HTTP)||void 0===m||null===(g=m.Get)||void 0===g?void 0:g.OnlineResource))}),[y]),{capabilities:y,getFeatureInfoUrl:r,wmsUrl:d,error:b,setUrl:u}}p.defaultProps={url:"",urlParameters:{SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetCapabilities"}},t.a=p},312:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(0),a=r.n(n),o=r(620),i=r(248),s=Object(i.a)({});function l(e){return a.a.createElement(o.a,{theme:s},null==e?void 0:e.children)}},316:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(110),i=r(75),s=(r(297),r(248)),l=r(1098),c=r(101),u=Object(s.a)({}),p=[function(e){return a.a.createElement("div",{className:"fullscreen_map"},a.a.createElement(l.a,{theme:u},a.a.createElement(o.a,null,a.a.createElement("div",{style:{overflow:"hidden",position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}},a.a.createElement(e,null),a.a.createElement("div",{className:"maps"},a.a.createElement(i.a,{mapId:"map_1",options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-liberty.json",center:[7.0851268,50.73884]}}),a.a.createElement(i.a,{mapId:"map_2",options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]}}),a.a.createElement(c.a,{sx:{top:"10px",right:"5px"},showZoomButtons:!1,mapId:"map_1"}))))))}];t.a=p},317:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(0),a=r.n(n),o=r(5),i=r(1099),s=r(623),l=r(607),c=r.n(l),u=r(606),p=r.n(u),d=r(251),f=r(250);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=Object(i.a)((function(e){return{drawer:{flexGrow:1,zIndex:105,position:"absolute",top:0,left:0,bottom:0,backgroundColor:"#fafafa",display:"flex",flexDirection:"column",alignItems:"stretch",alignContent:"stretch"},drawerPaper:{position:"initial !important",boxSizing:"border-box",padding:"40px",visibility:"visible !important",zIndex:"initial !important"},drawerHeader:{alignContent:"flex-start",display:"flex"},drawerContent:{}}})),O=Object(o.a)("div")((function(e){e.theme;return{display:"flex",alignItems:"center"}}));function j(e){var t=v(),r=Object(f.a)("(max-width:900px)"),o=h(Object(n.useState)(!0),2),i=o[0],l=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,{onClick:function(){l(!0)},style:{zIndex:101,position:"relative",padding:"20px"}},a.a.createElement(p.a,null)),a.a.createElement(s.a,{transitionDuration:0,className:t.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:t.drawerPaper},sx:y(y(y({},e.sx),{maxWidth:r?"90vw":"20vw"}),i?{}:{left:r?"-90vw":"-20vw"})},a.a.createElement(O,{className:t.drawerHeader},a.a.createElement(d.a,{onClick:function(){l(!1)}},a.a.createElement(c.a,{style:{}}))),a.a.createElement("div",{style:{maxWidth:"100%"}},e.children)))}},320:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(110),i=r(75),s=(r(297),r(101)),l=r(312),c=[function(e){return a.a.createElement("div",{className:"fullscreen_map"},a.a.createElement(l.a,null,a.a.createElement(o.a,null,a.a.createElement(e,null),a.a.createElement(i.a,{options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]},mapId:"map_1"}),a.a.createElement(s.a,{sx:{top:"10px",right:"5px"},showZoomButtons:!1,mapId:"map_1"}))))}];t.a=c},326:function(e){e.exports=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{},"geometry":{"coordinates":[[[7.08646747303149,50.74485058672653],[7.084287513691095,50.74371917250187],[7.084437772332876,50.743610683782215],[7.084640903561933,50.743721758552354],[7.085805654941254,50.74293993704128],[7.087023278906713,50.74218320888983],[7.087791368229503,50.74258090834434],[7.088796806075749,50.743261830692745],[7.089275088452752,50.743701110992674],[7.088087117762917,50.74409411011173],[7.087662548338368,50.743784963165815],[7.087184330538875,50.7440368518605],[7.087233860417484,50.744077781245316],[7.08714938625954,50.744122118772154],[7.087057544749172,50.74427276821896],[7.087104984084277,50.744509715654885],[7.08646747303149,50.74485058672653]]],"type":"Polygon"}}]}')},36:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(0),a=r.n(n);function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=a.a.createContext({}),u=function(e){var t=e.children,r=i(Object(n.useState)(void 0),2),s=r[0],l=r[1],u=i(Object(n.useState)([]),2),p=u[0],d=u[1],f=Object(n.useRef)([]),m=Object(n.useRef)({}),y={map:s,setMap:function(e){if(l(e),0===p.length){d([].concat(o(p),["anonymous_map"])),m.current.anonymous_map=e}},maps:m.current,mapIds:p,registerMap:function(e,t){e&&t&&(m.current[e]=t,f.current.push(e),d(o(f.current)),s||l(t))},removeMap:function e(t){if(t){void 0!==m.current[t]&&delete m.current[t];var r=f.current.indexOf(t);r>-1&&f.current.splice(r,1),d(o(f.current)),1===p.length&&s&&l(void 0)}else l(void 0),e("anonymous_map")},mapExists:function(e){return(!e||-1!==Object.keys(m.current).indexOf(e))&&!(!e&&!s)},getMap:function(e){return e&&-1!==p.indexOf(e)?m.current[e]:!e&&s?s:null}};return a.a.createElement(c.Provider,{value:y},t)};t.b=c;try{u.displayName="MapComponentsProvider",u.__docgenInfo={description:"MapComponentsProvider must be imported and wrapped around component where at least one of its child nodes requires access to a MapLibre-gl or openlayers instance that is registered in this mapContext.\nMapComponentsProvider must be used one level higher than the first use of MapContext.\n\nMapComponentsProvider requires at least one use of the MapLibreMap component somewhere down the component tree that will create the MapLibre-gl object and set the reference at MapContext.map. For MapLibre maps it is a good idea to provide a mapId attribute to the MapLibreMap Component even if you are only using a single map instance at start. It will make a later transition to using multiple instances within the same project much easier.",displayName:"MapComponentsProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/contexts/MapContext.tsx#MapComponentsProvider"]={docgenInfo:u.__docgenInfo,name:"MapComponentsProvider",path:"src/contexts/MapContext.tsx#MapComponentsProvider"})}catch(e){}},45:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(78),i=r(200),s=function(e,t){switch(e){case"fill":return null!=t&&t.fill?t.fill:{"fill-color":"rgba(10,240,256,0.6)"};case"line":return null!=t&&t.line?t.line:{"line-color":"rgb(203,211,2)","line-width":5};case"circle":default:return null!=t&&t.circle?t.circle:{"circle-color":"rgba(10,240,256,0.8)","circle-stroke-color":"#fff","circle-stroke-width":2}}},l={Position:"circle",Point:"circle",MultiPoint:"circle",LineString:"line",MultiLineString:"line",Polygon:"fill",MultiPolygon:"fill",GeometryCollection:"circle"},c=function e(t){var r;return"Feature"===(null==t?void 0:t.type)?null!=l&&l[null==t||null===(r=t.geometry)||void 0===r?void 0:r.type]?l[t.geometry.type]:"circle":"FeatureCollection"===(null==t?void 0:t.type)?t.features.length?e(t.features[0]):"circle":"fill"};function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){var t=e.type||c(e.geojson);return Object(o.a)({mapId:e.mapId,layerId:e.layerId||"MlGeoJsonLayer-"+Object(i.a)(),geojson:e.geojson,options:p(p({paint:e.paint||s(t,e.defaultPaintOverrides),layout:e.layout||{}},e.options),{},{type:t}),insertBeforeLayer:e.insertBeforeLayer,onHover:e.onHover,onClick:e.onClick,onLeave:e.onLeave}),a.a.createElement(a.a.Fragment,null)};t.a=f;try{f.displayName="MlGeoJsonLayer",f.__docgenInfo={description:'Adds source and layer of types "line", "fill" or "circle" to display GeoJSON data on the map.',displayName:"MlGeoJsonLayer",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.\nThis layer will not be added to the maplibre-gl instance until a layer with an \nid that matches the value of insertBeforeLayer is created.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"Id of the new layer and source that are added to the MapLibre instance",name:"layerId",required:!1,type:{name:"string | undefined"}},geojson:{defaultValue:null,description:"GeoJSON data that is supposed to be rendered by this component.",name:"geojson",required:!0,type:{name:"Feature<Geometry | GeometryCollection, Properties> | FeatureCollection<Geometry | GeometryCollection, Properties> | undefined"}},type:{defaultValue:null,description:'Type of the layer that will be added to the MapLibre instance.\nPossible values: "line", "circle", "fill"',name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"fill"'},{value:'"line"'},{value:'"circle"'}]}},paint:{defaultValue:null,description:"Paint property object, that is passed to the addLayer call.\nPossible props depend on the layer type.\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#line\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#circle\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#fill",name:"paint",required:!1,type:{name:'{ "circle-radius"?: DataDrivenPropertyValueSpecification<number> | undefined; "circle-color"?: DataDrivenPropertyValueSpecification<string> | undefined; ... 8 more ...; "circle-stroke-opacity"?: DataDrivenPropertyValueSpecification<...> | undefined; } | { ...; } | { ...; } | undefined'}},layout:{defaultValue:null,description:"Layout property object, that is passed to the addLayer call.\nPossible props depend on the layer type.\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#line\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#circle\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#fill",name:"layout",required:!1,type:{name:'{ "circle-sort-key"?: DataDrivenPropertyValueSpecification<number> | undefined; visibility?: "visible" | "none" | undefined; } | { "fill-sort-key"?: DataDrivenPropertyValueSpecification<...> | undefined; visibility?: "visible" | ... 1 more ... | undefined; } | { ...; } | undefined'}},options:{defaultValue:null,description:"Javascript object that is spread into the addLayer commands first parameter.",name:"options",required:!1,type:{name:"CircleLayerSpecification | FillLayerSpecification | LineLayerSpecification | undefined"}},defaultPaintOverrides:{defaultValue:null,description:'Javascript object with optional properties "fill", "line", "circle" to override implicit layer type default paint properties.',name:"defaultPaintOverrides",required:!1,type:{name:'{ circle?: { "circle-radius"?: DataDrivenPropertyValueSpecification<number> | undefined; "circle-color"?: DataDrivenPropertyValueSpecification<string> | undefined; ... 8 more ...; "circle-stroke-opacity"?: DataDrivenPropertyValueSpecification<...> | undefined; } | undefined; fill?: { ...; } | undefined; line?: { ......'}},onHover:{defaultValue:null,description:"Hover event handler that is executed whenever a geometry rendered by this component is hovered.",name:"onHover",required:!1,type:{name:"MapLayerMouseEvent | undefined"}},onClick:{defaultValue:null,description:"Click event handler that is executed whenever a geometry rendered by this component is clicked.",name:"onClick",required:!1,type:{name:"MapLayerMouseEvent | undefined"}},onLeave:{defaultValue:null,description:"Leave event handler that is executed whenever a geometry rendered by this component is\nleft/unhovered.",name:"onLeave",required:!1,type:{name:"MapLayerMouseEvent | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlGeoJsonLayer/MlGeoJsonLayer.tsx#MlGeoJsonLayer"]={docgenInfo:f.__docgenInfo,name:"MlGeoJsonLayer",path:"src/components/MlGeoJsonLayer/MlGeoJsonLayer.tsx#MlGeoJsonLayer"})}catch(e){}},52:function(e,t,r){"use strict";var n=r(0),a=r(3),o=r.n(a),i=r(200),s=r(36);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){var t=Object(n.useContext)(s.b),r=Object(n.useRef)(!1),a=Object(n.useRef)(),o=l(Object(n.useState)(),2),c=o[0],u=o[1],p=Object(n.useRef)(void 0),d=l(Object(n.useState)([]),2),f=d[0],m=d[1],y=Object(n.useRef)(),g=Object(n.useRef)(Object(i.a)()),h=Object(n.useCallback)((function(t){var r,n;return!((null==e||null===(r=e.filter)||void 0===r||!r.includeBaseLayers)&&t.baseLayer)&&(void 0===(null===(n=e.filter)||void 0===n?void 0:n.matchLayerIds)||(e.filter.matchLayerIds instanceof RegExp?e.filter.matchLayerIds.test(t.id):t.id.includes(e.filter.matchLayerIds)))}),[e.filter]),b=Object(n.useCallback)((function(){if(a.current){var e=a.current.wrapper.layerState.filter(h),t=JSON.stringify(e);y.current!==t&&(y.current=t,m(e))}}),[h]);return Object(n.useEffect)((function(){var e=g.current;return function(){a.current&&(a.current.cleanup(e),a.current=void 0),r.current=!1}}),[]),Object(n.useEffect)((function(){var n,o,i,s;t.mapExists(e.mapId)&&!r.current&&(r.current=!0,a.current=t.getMap(e.mapId),a.current?(null!=e&&null!==(n=e.watch)&&void 0!==n&&n.viewport&&(u(a.current.wrapper.viewportState),a.current.wrapper.on("viewportchange",(function(){var e,t;p.current!==(null===(e=a.current)||void 0===e?void 0:e.wrapper.viewportStateString)&&u(null===(t=a.current)||void 0===t?void 0:t.wrapper.viewportState)}),g.current)),null!=e&&null!==(o=e.watch)&&void 0!==o&&o.layers&&(b(),a.current.wrapper.on("layerchange",b,{includeBaseLayers:null==e||null===(i=e.filter)||void 0===i?void 0:i.includeBaseLayers,matchLayerIds:null==e||null===(s=e.filter)||void 0===s?void 0:s.matchLayerIds},g.current))):r.current=!1)}),[t.mapIds,t,e.mapId,b,e]),{layers:f,viewport:c}}u.defaultProps={mapId:void 0,watch:{layers:!0,sources:!1,viewport:!1},filter:{includeBaseLayers:!1}},u.propTypes={mapId:o.a.string,watch:o.a.shape({layers:o.a.bool,sources:o.a.bool,viewport:o.a.bool}),filter:o.a.shape({includeBaseLayers:o.a.bool,matchLayerIds:o.a.oneOfType([o.a.string,o.a.instanceOf(RegExp)]),matchSourceIds:o.a.oneOfType([o.a.string,o.a.instanceOf(RegExp)])})},t.a=u},582:function(e,t,r){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(){var t,a=/\s*/g,o=/^\s*|\s*$/g,i=/\s+/;function s(e){if(!e||!e.length)return 0;for(var t=0,r=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return r}function l(e,t){return e.getElementsByTagName(t)}function c(e,t){return e.getAttribute(t)}function u(e,t){return parseFloat(c(e,t))}function p(e,t){var r=l(e,t);return r.length?r[0]:null}function d(e){for(var t=0,r=[];t<e.length;t++)r[t]=parseFloat(e[t]);return r}function f(e){var t;return e&&(t=e).normalize&&t.normalize(),e&&e.textContent||""}function m(e,t){var r,n,a={};for(n=0;n<t.length;n++)(r=p(e,t[n]))&&(a[t[n]]=f(r));return a}function y(e,t){for(var r in t)e[r]=t[r]}function g(e){return d(e.replace(a,"").split(","))}function h(e){for(var t=e.replace(o,"").split(i),r=[],n=0;n<t.length;n++)r.push(g(t[n]));return r}function b(e){var t,r=[u(e,"lon"),u(e,"lat")],n=p(e,"ele"),a=p(e,"gpxtpx:hr")||p(e,"hr"),o=p(e,"time");return n&&(t=parseFloat(f(n)),isNaN(t)||r.push(t)),{coordinates:r,time:o?f(o):null,heartRate:a?parseFloat(f(a)):null}}if("undefined"!=typeof XMLSerializer)t=new XMLSerializer;else{var v="object"===(void 0===e?"undefined":n(e))&&!e.browser,O="object"===("undefined"==typeof Titanium?"undefined":n(Titanium));if("object"!==("undefined"==typeof exports?"undefined":n(exports))||!v&&!O)throw new Error("Unable to initialize serializer");t=new(r(1024).XMLSerializer)}function j(e){return void 0!==e.xml?e.xml:t.serializeToString(e)}return{kml:function(e){for(var t={type:"FeatureCollection",features:[]},r={},n={},a={},o=["Polygon","LineString","Point","Track","gx:Track"],i=l(e,"Placemark"),u=l(e,"Style"),m=l(e,"StyleMap"),y=0;y<u.length;y++){var b=s(j(u[y])).toString(16);r["#"+c(u[y],"id")]=b,n[b]=u[y]}for(var v=0;v<m.length;v++){r["#"+c(m[v],"id")]=s(j(m[v])).toString(16);for(var O=l(m[v],"Pair"),w={},I=0;I<O.length;I++)w[f(p(O[I],"key"))]=f(p(O[I],"styleUrl"));a["#"+c(m[v],"id")]=w}for(var x=0;x<i.length;x++)t.features=t.features.concat(M(i[x]));function S(e){var t,r;return"#"===(e=e||"").substr(0,1)&&(e=e.substr(1)),6!==e.length&&3!==e.length||(t=e),8===e.length&&(r=parseInt(e.substr(0,2),16)/255,t="#"+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)),[t,isNaN(r)?void 0:r]}function C(e){var t=l(e,"coord"),r=[],n=[];0===t.length&&(t=l(e,"gx:coord"));for(var a=0;a<t.length;a++)r.push(d(f(t[a]).split(" ")));for(var o=l(e,"when"),i=0;i<o.length;i++)n.push(f(o[i]));return{coords:r,times:n}}function M(e){var t,i=function e(t){var r,n,a,i,s,c=[],u=[];if(p(t,"MultiGeometry"))return e(p(t,"MultiGeometry"));if(p(t,"MultiTrack"))return e(p(t,"MultiTrack"));if(p(t,"gx:MultiTrack"))return e(p(t,"gx:MultiTrack"));for(a=0;a<o.length;a++)if(n=l(t,o[a]))for(i=0;i<n.length;i++)if(r=n[i],"Point"===o[a])c.push({type:"Point",coordinates:g(f(p(r,"coordinates")))});else if("LineString"===o[a])c.push({type:"LineString",coordinates:h(f(p(r,"coordinates")))});else if("Polygon"===o[a]){var d=l(r,"LinearRing"),m=[];for(s=0;s<d.length;s++)m.push(h(f(p(d[s],"coordinates"))));c.push({type:"Polygon",coordinates:m})}else if("Track"===o[a]||"gx:Track"===o[a]){var y=C(r);c.push({type:"LineString",coordinates:y.coords}),y.times.length&&u.push(y.times)}return{geoms:c,coordTimes:u}}(e),s={},u=f(p(e,"name")),d=f(p(e,"address")),m=f(p(e,"styleUrl")),y=f(p(e,"description")),b=p(e,"TimeSpan"),v=p(e,"TimeStamp"),O=p(e,"ExtendedData"),j=p(e,"LineStyle"),w=p(e,"PolyStyle"),I=p(e,"visibility");if(!i.geoms.length)return[];if(u&&(s.name=u),d&&(s.address=d),m){"#"!==m[0]&&(m="#"+m),s.styleUrl=m,r[m]&&(s.styleHash=r[m]),a[m]&&(s.styleMapHash=a[m],s.styleHash=r[a[m].normal]);var x=n[s.styleHash];if(x){j||(j=p(x,"LineStyle")),w||(w=p(x,"PolyStyle"));var M=p(x,"IconStyle");if(M){var E=p(M,"Icon");if(E){var P=f(p(E,"href"));P&&(s.icon=P)}}}}if(y&&(s.description=y),b){var A=f(p(b,"begin")),L=f(p(b,"end"));s.timespan={begin:A,end:L}}if(v&&(s.timestamp=f(p(v,"when"))),j){var H=S(f(p(j,"color"))),k=H[0],T=H[1],R=parseFloat(f(p(j,"width")));k&&(s.stroke=k),isNaN(T)||(s["stroke-opacity"]=T),isNaN(R)||(s["stroke-width"]=R)}if(w){var G=S(f(p(w,"color"))),D=G[0],_=G[1],N=f(p(w,"fill")),F=f(p(w,"outline"));D&&(s.fill=D),isNaN(_)||(s["fill-opacity"]=_),N&&(s["fill-opacity"]="1"===N?s["fill-opacity"]||1:0),F&&(s["stroke-opacity"]="1"===F?s["stroke-opacity"]||1:0)}if(O){var B=l(O,"Data"),U=l(O,"SimpleData");for(t=0;t<B.length;t++)s[B[t].getAttribute("name")]=f(p(B[t],"value"));for(t=0;t<U.length;t++)s[U[t].getAttribute("name")]=f(U[t])}I&&(s.visibility=f(I)),i.coordTimes.length&&(s.coordTimes=1===i.coordTimes.length?i.coordTimes[0]:i.coordTimes);var z={type:"Feature",geometry:1===i.geoms.length?i.geoms[0]:{type:"GeometryCollection",geometries:i.geoms},properties:s};return c(e,"id")&&(z.id=c(e,"id")),[z]}return t},gpx:function(e){var t,r,n=l(e,"trk"),a=l(e,"rte"),o=l(e,"wpt"),i={type:"FeatureCollection",features:[]};for(t=0;t<n.length;t++)(r=d(n[t]))&&i.features.push(r);for(t=0;t<a.length;t++)(r=g(a[t]))&&i.features.push(r);for(t=0;t<o.length;t++)i.features.push(h(o[t]));function s(e,t){for(var r=0;r<t;r++)e.push(null);return e}function u(e,t){var r=l(e,t),n=[],a=[],o=[],i=r.length;if(i<2)return{};for(var c=0;c<i;c++){var u=b(r[c]);n.push(u.coordinates),u.time&&a.push(u.time),(u.heartRate||o.length)&&(o.length||s(o,c),o.push(u.heartRate||null))}return{line:n,times:a,heartRates:o}}function d(e){for(var t,r=l(e,"trkseg"),n=[],a=[],o=[],i=0;i<r.length;i++)if((t=u(r[i],"trkpt"))&&(t.line&&n.push(t.line),t.times&&t.times.length&&a.push(t.times),o.length||t.heartRates&&t.heartRates.length)){if(!o.length)for(var c=0;c<i;c++)o.push(s([],n[c].length));t.heartRates&&t.heartRates.length?o.push(t.heartRates):o.push(s([],t.line.length||0))}if(0!==n.length){var d=O(e);return y(d,v(p(e,"extensions"))),a.length&&(d.coordTimes=1===n.length?a[0]:a),o.length&&(d.heartRates=1===n.length?o[0]:o),{type:"Feature",properties:d,geometry:{type:1===n.length?"LineString":"MultiLineString",coordinates:1===n.length?n[0]:n}}}}function g(e){var t=u(e,"rtept");if(t.line){var r=O(e);return y(r,v(p(e,"extensions"))),{type:"Feature",properties:r,geometry:{type:"LineString",coordinates:t.line}}}}function h(e){var t=O(e);return y(t,m(e,["sym"])),{type:"Feature",properties:t,geometry:{type:"Point",coordinates:b(e).coordinates}}}function v(e){var t={};if(e){var r=p(e,"line");if(r){var n=f(p(r,"color")),a=parseFloat(f(p(r,"opacity"))),o=parseFloat(f(p(r,"width")));n&&(t.stroke=n),isNaN(a)||(t["stroke-opacity"]=a),isNaN(o)||(t["stroke-width"]=96*o/25.4)}}return t}function O(e){var t=m(e,["name","cmt","desc","type","time","keywords"]),r=l(e,"link");r.length&&(t.links=[]);for(var n,a=0;a<r.length;a++)y(n={href:c(r[a],"href")},m(r[a],["text","type"])),t.links.push(n);return t}return i}}}();t.a=a}).call(this,r(173))},590:function(e,t,r){e.exports=r.p+"static/media/wg-marker.bf3eeb2d.png"},595:function(e){e.exports=JSON.parse('{"type":"Feature","properties":{},"geometry":{"type":"LineString","coordinates":[[7.1074676513671875,50.74340774029213],[7.0992279052734375,50.756441089372665],[7.079315185546874,50.764693667025014],[7.045669555664062,50.77945780529241],[7.030563354492187,50.79161300845443],[7.0291900634765625,50.80940599750376],[7.0236968994140625,50.820685846099174],[7.0085906982421875,50.825891011253546],[6.9879913330078125,50.826758482363275],[6.97906494140625,50.835432306955276],[6.9824981689453125,50.84583876895451],[6.9962310791015625,50.85147463352982],[7.012023925781249,50.85710981721644],[7.021636962890625,50.86664473085768],[7.0367431640625,50.872278081520406],[7.0477294921875,50.877044231111014],[7.052536010742187,50.88397594225127]]}}')},596:function(e){e.exports=JSON.parse('{"type":"Feature","properties":{},"geometry":{"type":"LineString","coordinates":[[7.0635223388671875,50.71385204707258],[7.06146240234375,50.709721458354075],[7.063865661621094,50.70298129536074],[7.064552307128906,50.69906720767511],[7.059059143066406,50.69428287906098],[7.05596923828125,50.68797551838366],[7.0580291748046875,50.680797145321655],[7.062835693359375,50.67514068397085],[7.060432434082031,50.6686131506577],[7.051849365234375,50.659255436656736],[7.044639587402344,50.6512019574539],[7.0484161376953125,50.64271166020676],[7.0566558837890625,50.63748609931014]]}}')},608:function(e){e.exports=JSON.parse('{"type":"Feature","properties":{},"geometry":{"type":"LineString","coordinates":[[7.0635223388671875,50.71385204707258],[7.06146240234375,50.709721458354075],[7.063865661621094,50.70298129536074],[7.064552307128906,50.69906720767511],[7.059059143066406,50.69428287906098],[7.05596923828125,50.68797551838366],[7.0580291748046875,50.680797145321655],[7.062835693359375,50.67514068397085],[7.060432434082031,50.6686131506577],[7.051849365234375,50.659255436656736],[7.044639587402344,50.6512019574539],[7.0484161376953125,50.64271166020676],[7.0566558837890625,50.63748609931014]]}}')},612:function(e){e.exports=JSON.parse('{"type":"Feature","properties":{},"geometry":{"type":"LineString","coordinates":[[7.1074676513671875,50.74340774029213],[7.0992279052734375,50.756441089372665],[7.079315185546874,50.764693667025014],[7.045669555664062,50.77945780529241],[7.030563354492187,50.79161300845443],[7.0291900634765625,50.80940599750376],[7.0236968994140625,50.820685846099174],[7.0085906982421875,50.825891011253546],[6.9879913330078125,50.826758482363275],[6.97906494140625,50.835432306955276],[6.9824981689453125,50.84583876895451],[6.9962310791015625,50.85147463352982],[7.012023925781249,50.85710981721644],[7.021636962890625,50.86664473085768],[7.0367431640625,50.872278081520406],[7.0477294921875,50.877044231111014],[7.052536010742187,50.88397594225127]]}}')},613:function(e){e.exports=JSON.parse('{"type":"Feature","properties":{},"geometry":{"type":"LineString","coordinates":[[7.0635223388671875,50.71385204707258],[7.06146240234375,50.709721458354075],[7.063865661621094,50.70298129536074],[7.064552307128906,50.69906720767511],[7.059059143066406,50.69428287906098],[7.05596923828125,50.68797551838366],[7.0580291748046875,50.680797145321655],[7.062835693359375,50.67514068397085],[7.060432434082031,50.6686131506577],[7.051849365234375,50.659255436656736],[7.044639587402344,50.6512019574539],[7.0484161376953125,50.64271166020676],[7.0566558837890625,50.63748609931014]]}}')},614:function(e){e.exports=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{},"geometry":{"coordinates":[[[7.08646747303149,50.74485058672653],[7.084287513691095,50.74371917250187],[7.084437772332876,50.743610683782215],[7.084640903561933,50.743721758552354],[7.085805654941254,50.74293993704128],[7.087023278906713,50.74218320888983],[7.087791368229503,50.74258090834434],[7.088796806075749,50.743261830692745],[7.089275088452752,50.743701110992674],[7.088087117762917,50.74409411011173],[7.087662548338368,50.743784963165815],[7.087184330538875,50.7440368518605],[7.087233860417484,50.744077781245316],[7.08714938625954,50.744122118772154],[7.087057544749172,50.74427276821896],[7.087104984084277,50.744509715654885],[7.08646747303149,50.74485058672653]]],"type":"Polygon"}}]}')},615:function(e){e.exports=JSON.parse('{"type":"Feature","geometry":{"type":"Point","coordinates":[7.0851268,50.73884],"properties":{"title":"Bonn"}}}')},682:function(e,t,r){r(683),r(832),r(833),r(1070),r(1063),r(1072),r(1073),r(1074),r(1071),r(1066),r(1075),r(1065),r(1067),r(1076),e.exports=r(998)},70:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0),a=r.n(n),o=r(1104),i=r(1105);function s(e){return a.a.createElement("div",{style:{flexGrow:1,zIndex:120,position:"absolute",top:0,left:0,right:0}},a.a.createElement(o.a,{sx:{minHeight:"62px",backgroundColor:"#f1f1f1"},color:"primary",position:"static"},a.a.createElement(i.a,null,e.children)))}},742:function(e,t){},75:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(36),i=r(108);function s(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=d((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this;this.registeredElements={},this.baseLayers=[],this.firstSymbolLayer=void 0,this.eventHandlers={layerchange:[],viewportchange:[]},this.wrapper={on:function(e,t,r,a){if(n.eventHandlers[e]){"string"==typeof r&&(a=r,r={}),n.eventHandlers[e].push({handler:t,options:r});var o=[e,t];a&&"string"==typeof a&&(n.initRegisteredElements(a),n.registeredElements[a].wrapperEvents.push(o))}},off:function(e,t){n.eventHandlers[e]&&(n.eventHandlers[e]=n.eventHandlers[e].filter((function(e){return!Object.is(e.handler,t)&&e})))},fire:function(e,t){if(n.eventHandlers[e]){var r=t||window,a=new Event(e);n.eventHandlers[e].forEach((function(e){e.handler.call(r,a,n)}))}},layerState:[],layerStateString:"",oldLayerStateStrings:{},buildLayerObject:function(e){return{id:e.id,type:e.type,visible:"none"!==e.visibility,baseLayer:-1!==n.baseLayers.indexOf(e.id)}},buildLayerObjects:function(){return n.map.style._order.map((function(e){return n.wrapper.buildLayerObject(n.map.style._layers[e])})).filter((function(e){return e}))},refreshLayerState:function(){n.wrapper.layerState=n.wrapper.buildLayerObjects(),JSON.stringify(n.wrapper.layerState)!==n.wrapper.layerStateString&&(n.wrapper.fire("layerchange"),n.wrapper.layerStateString=JSON.stringify(n.wrapper.layerState))},viewportState:{center:{lng:0,lat:0},zoom:0,bearing:0,pitch:0},viewportStateString:"{}",oldViewportStateString:"{}",getViewport:function(){return"function"==typeof n.map.getCenter?{center:(e=n.map.getCenter(),{lng:e.lng,lat:e.lat}),zoom:n.map.getZoom(),bearing:n.map.getBearing(),pitch:n.map.getPitch()}:{};var e},refreshViewport:function(){n.wrapper.viewportState=n.wrapper.getViewport()}},this.initRegisteredElements=function(e,t){(void 0===n.registeredElements[e]||void 0!==t&&t)&&(n.registeredElements[e]={layers:[],sources:[],images:[],events:[],controls:[],wrapperEvents:[]})},this.addLayer=function(e,t,r){n.map.style&&(r&&"string"==typeof r&&void 0!==e.id&&(n.initRegisteredElements(r),n.registeredElements[r].layers.push(e.id),"object"===u(e.source)&&n.registeredElements[r].sources.push(e.id)),n.map.addLayer(e,t))},this.addSource=function(e,t,r){n.map.style&&(r&&"string"==typeof r&&void 0!==e&&(n.initRegisteredElements(r),n.registeredElements[r].sources.push(e)),n.map.addSource(e,t))},this.addImage=function(e,t,r,a){if(n.map.style){if("string"==typeof r&&void 0===a)return n.addImage.call(n,e,t,void 0,r);a&&"string"==typeof a&&void 0!==e&&(n.initRegisteredElements(a),n.registeredElements[a].images.push(e)),n.map.addImage(e,t,r)}},this.on=function(e,t,r,a){var o;if("string"==typeof r&&"function"==typeof t)return n.on.call(n,e,void 0,t,r);var i=[e,t,r];t||(i=[e,r]),a&&"string"==typeof a&&(n.initRegisteredElements(a),n.registeredElements[a].events.push(i)),(o=n.map).on.apply(o,l(i))},this.addControl=function(e,t,r){r&&"string"==typeof r&&(n.initRegisteredElements(r),n.registeredElements[r].controls.push(e)),n.map.addControl(e,t)},this.cleanup=function(e){n.map.style&&void 0!==n.registeredElements[e]&&(n.registeredElements[e].layers.forEach((function(e){n.map.style.getLayer(e)&&n.map.style.removeLayer(e)})),n.registeredElements[e].sources.forEach((function(e){n.map.style.getSource(e)&&n.map.style.removeSource(e)})),n.registeredElements[e].images.forEach((function(e){n.map.hasImage(e)&&n.map.style.removeImage(e)})),n.registeredElements[e].events.forEach((function(e){var t;(t=n.map).off.apply(t,l(e))})),n.registeredElements[e].controls.forEach((function(e){n.map.removeControl(e)})),n.registeredElements[e].wrapperEvents.forEach((function(e){var t;(t=n.wrapper).off.apply(t,l(e))})),n.initRegisteredElements(e,!0))};["moveLayer","removeLayer","removeSource","setPaintProperty","setLayoutProperty"].forEach((function(e){r[e]=function(){var t;n.map&&n.map.style&&"function"==typeof n.map.style[e]&&(t=n.map.style)[e].apply(t,arguments);return n.map._update?n.map._update(!0):void 0}}));["getLayer","getSource","listImages","getPaintProperty","getLayoutProperty","removeImage"].forEach((function(e){r[e]=function(){var t;return!(!n.map||!n.map.style)&&(t=n.map.style)[e].apply(t,arguments)}})),this.addNativeMaplibreFunctionsAndProps=function(){Object.getOwnPropertyNames(Object.getPrototypeOf(r.map)).forEach((function(e){void 0===r[e]&&(r[e]=function(){var t;return(t=n.map)[e].apply(t,arguments)})})),Object.keys(r.map).forEach((function(e){void 0===r[e]&&(r[e]=n.map[e])}))};["getZoom","setZoom","getCenter","setCenter","getBearing","setBearing","getPitch","setPitch","jumpTo","flyTo","panTo","panBy","panBy","zoomTo","zoomIn","zoomOut","getPadding","setPadding","rotateTo","resetNorth","resetNorthPitch","snapToNorth","cameraForBounds","fitBounds","fitScreenCoordinates","getFreeCameraOptions","setFreeCameraOptions","easeTo","stop"].forEach((function(e){r[e]=function(){if("function"==typeof n.map[e]){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n.map[e]).call.apply(t,[n.map].concat(a))}}})),function(){var e,r=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t.mapOptions.style||-1!==t.mapOptions.style.indexOf("mapbox://")){e.next=3;break}return e.next=3,fetch(t.mapOptions.style).then((function(e){if(e.ok)return e.json();throw new Error("error loading map style.json")})).then((function(e){e.layers.forEach((function(e){n.baseLayers.push(e.id),n.firstSymbolLayer||"symbol"!==e.type||(n.firstSymbolLayer=e.id)})),n.styleJson=e,t.mapOptions.style=e})).catch((function(e){console.log(e)}));case 3:n.map=new i.Map(t.mapOptions),window._map=n.map,n.addNativeMaplibreFunctionsAndProps(),n.wrapper.refreshViewport(),n.wrapper.fire("viewportchange"),n.map.on("load",(function(){n.addNativeMaplibreFunctionsAndProps()})),n.map.on("move",(function(){n.wrapper.viewportState=n.wrapper.getViewport(),n.wrapper.fire("viewportchange")})),n.map.on("idle",(function(){n.wrapper.refreshLayerState()})),n.map.on("data",(function(){n.wrapper.refreshLayerState()})),"function"==typeof t.onReady&&t.onReady(n.map,n);case 13:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){s(o,n,a,i,l,"next",e)}function l(e){s(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}()()}));r(1002);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){var t,r=Object(n.useRef)(null),i=Object(n.useRef)(),s=Object(n.useContext)(o.b),l=Object(n.useRef)(e.mapId),c=Object(n.useRef)(!1),u=Object(n.useRef)(null===(t=e.options)||void 0===t?void 0:t.style);return Object(n.useEffect)((function(){var e=l.current;return function(){var t,n;s.removeMap(e),null===(t=r.current)||void 0===t||null===(n=t.remove)||void 0===n||n.call(t),r.current=null}}),[]),Object(n.useEffect)((function(){c.current||i.current&&(c.current=!0,r.current=new f({mapOptions:y({style:"",container:i.current},e.options),onReady:function(t,r){t.once("load",(function(){e.mapId?s.registerMap(e.mapId,r):s.setMap(r)}))}}))}),[e.options,e.mapId]),Object(n.useEffect)((function(){var t,n;null!==(t=r.current)&&void 0!==t&&t.map&&null!=e&&null!==(n=e.options)&&void 0!==n&&n.style&&u.current!==e.options.style&&(console.log("set style"),u.current=e.options.style,r.current.map.setStyle(e.options.style))}),[e.options.style]),a.a.createElement("div",{ref:i,className:"mapContainer",style:e.style})};h.defaultProps={mapId:void 0,options:{center:{lng:8.607,lat:53.1409349},zoom:11,container:"",style:{version:8,name:"blank",center:[0,0],zoom:0,sources:{},layers:[{id:"background",type:"background",paint:{"background-color":"rgba(0,0,0,0)"}}]}}};t.a=h;try{h.displayName="MapLibreMap",h.__docgenInfo={description:"Creates a MapLibreGlWrapper instance and registers it in MapContext\nafter the MapLibre-gl load event has fired.\n\nMapLibreMap returns the html node that will be used by MapLibre-gl to render the map.\nThis Component must be kept unaware of any related components that interact with the MapLibre-gl\ninstance.",displayName:"MapLibreMap",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the MapLibreGl(Wrapper) instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},options:{defaultValue:{value:'{\n\t\tcenter: { lng: 8.607, lat: 53.1409349 },\n\t\tzoom: 11,\n\t\tcontainer: \'\',\n\t\tstyle: {\n\t\t\tversion: 8,\n\t\t\tname: "blank",\n\t\t\tcenter: [0, 0],\n\t\t\tzoom: 0,\n\t\t\tsources: {},\n\t\t\tlayers: [\n\t\t\t\t{\n\t\t\t\t\tid: "background",\n\t\t\t\t\ttype: "background",\n\t\t\t\t\tpaint: {\n\t\t\t\t\t\t"background-color": "rgba(0,0,0,0)",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}'},description:"Config object that is passed to the MapLibreGl constructor as first parameter.\nSee https://maplibre.org/maplibre-gl-js-docs/api/map/ for a formal documentation of al\navailable properties.",name:"options",required:!1,type:{name:"Partial<MapOptions> | undefined"}},style:{defaultValue:null,description:"css style definition passed to the map container DOM element",name:"style",required:!1,type:{name:"object | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MapLibreMap/MapLibreMap.tsx#MapLibreMap"]={docgenInfo:h.__docgenInfo,name:"MapLibreMap",path:"src/components/MapLibreMap/MapLibreMap.tsx#MapLibreMap"})}catch(e){}},78:function(e,t,r){"use strict";var n=r(0),a=r(18);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","hillshade","background"];t.a=function(e){var t=Object(a.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=Object(n.useRef)(""),o=Object(n.useRef)(""),s=Object(n.useRef)(""),c=l(Object(n.useState)(),2),p=c[0],d=c[1],f=Object(n.useRef)(!1),m=Object(n.useRef)(e.layerId||(e.idPrefix?e.idPrefix:"Layer-")+t.componentId),y=Object(n.useCallback)((function(){var n,a;t.map&&(t.map.map.getLayer(m.current)&&t.cleanup(),t.map.map.getSource(m.current)&&t.map.map.removeSource(m.current),("string"!=typeof e.source||""!==e.source&&t.map.map.getSource(e.source))&&(f.current=!0,t.map.addLayer(i(i(i(i({},e.options),e.geojson&&!e.source?{source:{type:"geojson",data:e.geojson}}:{}),e.source?{source:e.source}:{}),{},{id:m.current}),e.insertBeforeLayer?e.insertBeforeLayer:e.insertBeforeFirstSymbolLayer?t.map.firstSymbolLayer:void 0,t.componentId),d(t.map.map.getLayer(m.current)),void 0!==e.onHover&&t.map.on("mousemove",m.current,e.onHover,t.componentId),void 0!==e.onClick&&t.map.on("click",m.current,e.onClick,t.componentId),void 0!==e.onLeave&&t.map.on("mouseleave",m.current,e.onLeave,t.componentId),t.map.on("styledata",(function(){var e;!f.current||null!==(e=t.map)&&void 0!==e&&e.map.getLayer(m.current)||(console.log("Recreate Layer"),y())}),t.componentId),o.current=JSON.stringify(null===(n=e.options)||void 0===n?void 0:n.paint),s.current=JSON.stringify(null===(a=e.options)||void 0===a?void 0:a.layout),r.current=e.options.type))}),[e,t.map]);return Object(n.useEffect)((function(){t.map&&(f.current&&(-1===u.indexOf(e.options.type)||-1!==u.indexOf(e.options.type)&&e.options.type===r.current)||y())}),[t.map,e.options,y]),Object(n.useEffect)((function(){var r,n,a,o;f.current&&null!==(r=t.map)&&void 0!==r&&null!==(n=r.map)&&void 0!==n&&n.getSource(m.current)&&(null===(a=t.map.map.getSource(m.current))||void 0===a||null===(o=a.setData)||void 0===o||o.call(a,e.geojson))}),[e.geojson,t.map,e.options.type]),Object(n.useEffect)((function(){var n,a,i;if(t.map&&null!==(n=t.map)&&void 0!==n&&null!==(a=n.map)&&void 0!==a&&null!==(i=a.getLayer)&&void 0!==i&&i.call(a,m.current)&&f.current&&e.options.type===r.current){var l,c=JSON.stringify(e.options.layout);if(e.options.layout&&c!==s.current){var u=JSON.parse(s.current);for(l in e.options.layout){var p;null!==(p=e.options.layout)&&void 0!==p&&p[l]&&e.options.layout[l]!==u[l]&&t.map.map.setLayoutProperty(m.current,l,e.options.layout[l])}s.current=c}var d=JSON.stringify(e.options.paint);if(d!==o.current){var y=JSON.parse(o.current);for(l in e.options.paint){var g;null!==(g=e.options.paint)&&void 0!==g&&g[l]&&e.options.paint[l]!==y[l]&&t.map.map.setPaintProperty(m.current,l,e.options.paint[l])}o.current=d}}}),[e.options,t.map]),Object(n.useEffect)((function(){return function(){f.current=!1,t.cleanup()}}),[]),{map:t.map,layer:p,layerId:m.current,componentId:t.componentId,mapHook:t}}},79:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(18),i=r(3),s=r.n(i);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={visible:!0,urlParameters:{bbox:"{bbox-epsg-3857}",format:"image/png",service:"WMS",version:"1.1.1",request:"GetMap",srs:"EPSG:3857",width:256,height:256,styles:""},attribution:"",sourceOptions:{minZoom:0,maxZoom:20},layerOptions:{minZoom:0,maxZoom:20}},d=function(e){var t=Object(o.a)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=Object(n.useRef)(!1),i=Object(n.useRef)(e.layerId||"MlWmsLayer-"+t.componentId),s=Object(n.useCallback)((function(){var n;if(t.map){var a;r.current=!0,t.map.map.getLayer(i.current)&&t.cleanup();var o=e.url;-1!==e.url.indexOf("?")&&(o=(a=e.url.split("?"))[0]);var l=new URLSearchParams(null===(n=a)||void 0===n?void 0:n[1]),u=c(c(c({},p.urlParameters),Object.fromEntries(l)),e.urlParameters),d=new URLSearchParams(u),f=decodeURIComponent(d.toString())+"".replace(/%2F/g,"/").replace(/%3A/g,":");t.map.addSource(i.current,c({type:"raster",tiles:[o+"?"+f],tileSize:u.width,attribution:e.attribution},e.sourceOptions),t.componentId),t.map.addLayer(c({id:i.current,type:"raster",source:i.current},e.layerOptions),e.insertBeforeLayer,t.componentId),t.map.on("styledata",(function(){var e;!r.current||null!==(e=t.map)&&void 0!==e&&e.map.getLayer(i.current)||(console.log("Recreate Layer "+i.current),s())}),t.componentId),e.visible||t.map.map.setLayoutProperty(i.current,"visibility","none")}}),[t.map,e]);return Object(n.useEffect)((function(){r.current||s()}),[s]),Object(n.useEffect)((function(){t.map&&r.current&&(e.visible?t.map.map.setLayoutProperty(i.current,"visibility","visible"):t.map.map.setLayoutProperty(i.current,"visibility","none"))}),[e.visible,t.map]),a.a.createElement(a.a.Fragment,null)};d.defaultProps=c({},p),d.propTypes={url:s.a.string.isRequired,urlParameters:s.a.shape({layers:s.a.string.isRequired,bbox:s.a.string,format:s.a.string,service:s.a.string,version:s.a.string,request:s.a.string,srs:s.a.string,width:s.a.number,height:s.a.number}),mapId:s.a.string,attribution:s.a.string,layerOptions:s.a.object,sourceOptions:s.a.object,insertBeforeLayer:s.a.string,visible:s.a.bool},t.a=d;try{d.displayName="MlWmsLayer",d.__docgenInfo={description:"Adds a WMS raster source & layer to the maplibre-gl instance",displayName:"MlWmsLayer",props:{urlParameters:{defaultValue:null,description:"",name:"urlParameters",required:!1,type:{name:"any"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean | undefined"}},attribution:{defaultValue:null,description:"",name:"attribution",required:!1,type:{name:"string | undefined"}},mapId:{defaultValue:null,description:"",name:"mapId",required:!1,type:{name:"string | undefined"}},sourceOptions:{defaultValue:null,description:"",name:"sourceOptions",required:!1,type:{name:"any"}},layerOptions:{defaultValue:null,description:"",name:"layerOptions",required:!1,type:{name:"any"}},insertBeforeLayer:{defaultValue:null,description:"",name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"",name:"layerId",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlWmsLayer/MlWmsLayer.tsx#MlWmsLayer"]={docgenInfo:d.__docgenInfo,name:"MlWmsLayer",path:"src/components/MlWmsLayer/MlWmsLayer.tsx#MlWmsLayer"})}catch(e){}},833:function(e,t,r){"use strict";r.r(t);r(484)},996:function(e,t,r){var n=r(120),a=r(997);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},997:function(e,t,r){(t=r(121)(!1)).push([e.i,".docs-story > div:first-child{\n  z-index:0;\n}\n\n.docs-story > div > div:first-child, .innerZoomElementWrapper, .innerZoomElementWrapper > div:first-child, .innerZoomElementWrapper > div:first-child > div:first-child{\n\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.innerZoomElementWrapper > div > div > div:first-child{\n  height: 100% !important;\n}\n",""]),e.exports=t},998:function(e,t,r){"use strict";(function(e){(0,r(484).configure)([r(999),r(1e3)],e,!1)}).call(this,r(336)(e))},999:function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=999}});
//# sourceMappingURL=main~24120820.ce37ed08.iframe.bundle.js.map