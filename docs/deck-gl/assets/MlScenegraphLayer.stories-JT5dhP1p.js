import{j as l}from"./index-17y-JmIx.js";import{D as m,E as f,F as c}from"./useDeckGl-BLLSfejp.js";import{r as u}from"./iframe-r0EXsZSX.js";import{S as y}from"./scenegraph-layer-ByHOGDli.js";import"./index-DJSjLiaV.js";import"./preload-helper-D9Z9MdNV.js";const t=e=>{const{mapId:p,...i}=e,o=m({mapId:p,waitForLayer:i.beforeId}),d=f(),r=u.useMemo(()=>new y({...i}),[i]);return u.useEffect(()=>{if(!(!o.map||!r))return d.addLayer(r),()=>{r&&d.removeLayer(r)}},[o.map,r]),l.jsx(l.Fragment,{})};try{t.displayName="MlScenegraphLayer",t.__docgenInfo={description:"",displayName:"MlScenegraphLayer",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},beforeId:{defaultValue:null,description:`Id of an existing layer in the mapLibre instance to help specify the layer order
This layer will be visually beneath the layer with the "beforeId" id.`,name:"beforeId",required:!1,type:{name:"string | undefined"}},data:{defaultValue:null,description:"The data to visualize.",name:"data",required:!1,type:{name:"LayerDataSource<unknown>"}},scenegraph:{defaultValue:null,description:"A url for a glTF model or scenegraph loaded via a [scenegraph loader](https://loaders.gl/docs/specifications/category-scenegraph)",name:"scenegraph",required:!0,type:{name:"any"}},getScene:{defaultValue:null,description:"Create a luma.gl GroupNode from the resolved scenegraph prop",name:"getScene",required:!1,type:{name:"((scenegraph: any, context: { device?: Device | undefined; layer: ScenegraphLayer<unknown, {}>; }) => GroupNode) | undefined"}},getAnimator:{defaultValue:null,description:"Create a luma.gl GLTFAnimator from the resolved scenegraph prop",name:"getAnimator",required:!1,type:{name:"((scenegraph: any, context: { device?: Device | undefined; layer: ScenegraphLayer<unknown, {}>; }) => GLTFAnimator) | undefined"}},_animations:{defaultValue:null,description:"(Experimental) animation configurations. Requires `_animate` on deck object.",name:"_animations",required:!1,type:{name:"{ [name: string]: { playing?: boolean | undefined; startTime?: number | undefined; speed?: number | undefined; }; [name: number]: { playing?: boolean | undefined; startTime?: number | undefined; speed?: number | undefined; }; } | null | undefined"}},_lighting:{defaultValue:{value:"'flat'"},description:"(Experimental) lighting mode",name:"_lighting",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"flat"'},{value:'"pbr"'}]}},_imageBasedLightingEnvironment:{defaultValue:null,description:"(Experimental) lighting environment. Requires `_lighting` to be `'pbr'`.",name:"_imageBasedLightingEnvironment",required:!1,type:{name:"PBREnvironment | ((context: { gl: WebGL2RenderingContext; layer: ScenegraphLayer<unknown, {}>; }) => PBREnvironment) | undefined"}},getPosition:{defaultValue:null,description:"Anchor position accessor.",name:"getPosition",required:!1,type:{name:"Accessor<unknown, Position> | undefined"}},getColor:{defaultValue:{value:"[255, 255, 255, 255]"},description:"Color value or accessor.",name:"getColor",required:!1,type:{name:"Accessor<unknown, Color> | undefined"}},getOrientation:{defaultValue:{value:"[0, 0, 0]"},description:`Orientation in [pitch, yaw, roll] in degrees.
@see https://en.wikipedia.org/wiki/Euler_angles`,name:"getOrientation",required:!1,type:{name:"Accessor<unknown, [number, number, number]> | undefined"}},getScale:{defaultValue:{value:"[1, 1, 1]"},description:"Scaling factor of the model along each axis.",name:"getScale",required:!1,type:{name:"Accessor<unknown, [number, number, number]> | undefined"}},getTranslation:{defaultValue:{value:"[0, 0, 0]"},description:"Translation from the anchor point, [x, y, z] in meters.",name:"getTranslation",required:!1,type:{name:"Accessor<unknown, [number, number, number]> | undefined"}},getTransformMatrix:{defaultValue:null,description:"TransformMatrix. If specified, `getOrientation`, `getScale` and `getTranslation` are ignored.",name:"getTransformMatrix",required:!1,type:{name:"Accessor<unknown, number[]> | undefined"}},sizeScale:{defaultValue:{value:"1"},description:"Multiplier to scale each geometry by.",name:"sizeScale",required:!1,type:{name:"number | undefined"}},sizeMinPixels:{defaultValue:{value:"0"},description:"The minimum size in pixels for one unit of the scene.",name:"sizeMinPixels",required:!1,type:{name:"number | undefined"}},sizeMaxPixels:{defaultValue:{value:"Number.MAX_SAFE_INTEGER"},description:"The maximum size in pixels for one unit of the scene.",name:"sizeMaxPixels",required:!1,type:{name:"number | undefined"}},id:{defaultValue:null,description:"Unique identifier of the layer.",name:"id",required:!0,type:{name:"string"}},dataComparator:{defaultValue:null,description:"Callback to determine if two data values are equal.",name:"dataComparator",required:!1,type:{name:"(<LayerDataT = LayerData<unknown>>(newData: LayerDataT, oldData?: LayerDataT | undefined) => boolean) | null | undefined"}},_dataDiff:{defaultValue:null,description:"Callback to determine the difference between two data values, in order to perform a partial update.",name:"_dataDiff",required:!1,type:{name:"(<LayerDataT = LayerData<unknown>>(newData: LayerDataT, oldData?: LayerDataT | undefined) => { startRow: number; endRow?: number | undefined; }[]) | null | undefined"}},dataTransform:{defaultValue:null,description:"Callback to manipulate remote data when it's fetched and parsed.",name:"dataTransform",required:!1,type:{name:"(<LayerDataT = LayerData<unknown>>(data: unknown, previousData?: LayerDataT | undefined) => LayerDataT) | null | undefined"}},fetch:{defaultValue:null,description:"Custom implementation to fetch and parse content from URLs.",name:"fetch",required:!1,type:{name:"((url: string, context: { propName: string; layer: Layer<{}>; loaders?: Loader[] | undefined; loadOptions?: any; signal?: AbortSignal | undefined; }) => any) | undefined"}},updateTriggers:{defaultValue:null,description:"The dependencies used to trigger re-evaluation of functional accessors (get*).",name:"updateTriggers",required:!1,type:{name:"Record<string, any> | undefined"}},operation:{defaultValue:null,description:"Rendering operation of the layer. `+` separated list of names.",name:"operation",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"draw"'},{value:'"mask"'},{value:'"terrain"'},{value:'"draw+draw"'},{value:'"draw+mask"'},{value:'"draw+terrain"'},{value:'"mask+draw"'},{value:'"mask+mask"'},{value:'"mask+terrain"'},{value:'"terrain+draw"'},{value:'"terrain+mask"'},{value:'"terrain+terrain"'}]}},visible:{defaultValue:null,description:"If the layer should be rendered. Default true.",name:"visible",required:!1,type:{name:"boolean | undefined"}},pickable:{defaultValue:null,description:"If the layer can be picked on pointer events. Default false.",name:"pickable",required:!1,type:{name:"boolean | undefined"}},opacity:{defaultValue:null,description:"Opacity of the layer, between 0 and 1. Default 1.",name:"opacity",required:!1,type:{name:"number | undefined"}},coordinateSystem:{defaultValue:null,description:"The coordinate system of the data. Default to COORDINATE_SYSTEM.LNGLAT in a geospatial view or COORDINATE_SYSTEM.CARTESIAN in a non-geospatial view.",name:"coordinateSystem",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:"0"},{value:"3"},{value:"1"},{value:"-1"},{value:"2"}]}},coordinateOrigin:{defaultValue:null,description:"The coordinate origin of the data.",name:"coordinateOrigin",required:!1,type:{name:"[number, number, number] | undefined"}},modelMatrix:{defaultValue:null,description:"A 4x4 matrix to transform local coordianates to the world space.",name:"modelMatrix",required:!1,type:{name:"Matrix4Like | null | undefined"}},wrapLongitude:{defaultValue:null,description:"(Geospatial only) normalize geometries that cross the 180th meridian. Default false.",name:"wrapLongitude",required:!1,type:{name:"boolean | undefined"}},positionFormat:{defaultValue:null,description:"The format of positions, default 'XYZ'.",name:"positionFormat",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"XYZ"'},{value:'"XY"'}]}},colorFormat:{defaultValue:null,description:"The format of colors, default 'RGBA'.",name:"colorFormat",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"RGBA"'},{value:'"RGB"'}]}},parameters:{defaultValue:null,description:"Override the WebGL parameters used to draw this layer. See https://luma.gl/modules/gltools/docs/api-reference/parameter-setting#parameters",name:"parameters",required:!1,type:{name:"Parameters | undefined"}},transitions:{defaultValue:null,description:"Create smooth transitions when prop values update.",name:"transitions",required:!1,type:{name:"Record<string, any> | null | undefined"}},extensions:{defaultValue:null,description:"Add additional functionalities to this layer.",name:"extensions",required:!1,type:{name:"LayerExtension<unknown>[] | undefined"}},loaders:{defaultValue:null,description:"Add support for additional data formats.",name:"loaders",required:!1,type:{name:"Loader[] | undefined"}},loadOptions:{defaultValue:null,description:"Options to customize the behavior of loaders",name:"loadOptions",required:!1,type:{name:"any"}},getPolygonOffset:{defaultValue:null,description:"Callback to calculate the polygonOffset WebGL parameter.",name:"getPolygonOffset",required:!1,type:{name:"((params: { layerIndex: number; }) => [number, number]) | null | undefined"}},autoHighlight:{defaultValue:null,description:"Enable GPU-based object highlighting. Default false.",name:"autoHighlight",required:!1,type:{name:"boolean | undefined"}},highlightedObjectIndex:{defaultValue:null,description:"The index of the data object to highlight. If unspecified, the currently hoverred object is highlighted.",name:"highlightedObjectIndex",required:!1,type:{name:"number | null | undefined"}},highlightColor:{defaultValue:null,description:"The color of the highlight.",name:"highlightColor",required:!1,type:{name:"number[] | ((pickingInfo: { color: Uint8Array<ArrayBufferLike> | null; layer: Layer<{}> | null; sourceLayer?: Layer<{}> | null | undefined; viewport?: Viewport | undefined; ... 8 more ...; pixelRatio: number; }) => number[]) | undefined"}},onDataLoad:{defaultValue:null,description:"Called when remote data is fetched and parsed.",name:"onDataLoad",required:!1,type:{name:"(<LayerDataT = LayerData<unknown>>(data: LayerDataT, context: { propName: string; layer: Layer<{}>; }) => void) | null | undefined"}},onError:{defaultValue:null,description:"Called when the layer encounters an error.",name:"onError",required:!1,type:{name:"((error: Error) => boolean | void) | null | undefined"}},onHover:{defaultValue:null,description:"Called when the mouse enters/leaves an object of this layer.",name:"onHover",required:!1,type:{name:"((pickingInfo: { color: Uint8Array<ArrayBufferLike> | null; layer: Layer<{}> | null; sourceLayer?: Layer<{}> | null | undefined; viewport?: Viewport | undefined; ... 8 more ...; pixelRatio: number; }, event: MjolnirEvent) => boolean | void) | null | undefined"}},onClick:{defaultValue:null,description:"Called when the mouse clicks over an object of this layer.",name:"onClick",required:!1,type:{name:"((pickingInfo: { color: Uint8Array<ArrayBufferLike> | null; layer: Layer<{}> | null; sourceLayer?: Layer<{}> | null | undefined; viewport?: Viewport | undefined; ... 8 more ...; pixelRatio: number; }, event: MjolnirEvent) => boolean | void) | null | undefined"}},onDragStart:{defaultValue:null,description:"Called when the mouse starts dragging an object of this layer.",name:"onDragStart",required:!1,type:{name:"((pickingInfo: { color: Uint8Array<ArrayBufferLike> | null; layer: Layer<{}> | null; sourceLayer?: Layer<{}> | null | undefined; viewport?: Viewport | undefined; ... 8 more ...; pixelRatio: number; }, event: MjolnirEvent) => boolean | void) | null | undefined"}},onDrag:{defaultValue:null,description:"Called when the mouse drags an object of this layer.",name:"onDrag",required:!1,type:{name:"((pickingInfo: { color: Uint8Array<ArrayBufferLike> | null; layer: Layer<{}> | null; sourceLayer?: Layer<{}> | null | undefined; viewport?: Viewport | undefined; ... 8 more ...; pixelRatio: number; }, event: MjolnirEvent) => boolean | void) | null | undefined"}},onDragEnd:{defaultValue:null,description:"Called when the mouse releases an object of this layer.",name:"onDragEnd",required:!1,type:{name:"((pickingInfo: { color: Uint8Array<ArrayBufferLike> | null; layer: Layer<{}> | null; sourceLayer?: Layer<{}> | null | undefined; viewport?: Viewport | undefined; ... 8 more ...; pixelRatio: number; }, event: MjolnirEvent) => boolean | void) | null | undefined"}},numInstances:{defaultValue:null,description:"(Advanced) supply attribute size externally",name:"numInstances",required:!1,type:{name:"number | null | undefined"}},startIndices:{defaultValue:null,description:"(Advanced) supply variable-width attribute size externally",name:"startIndices",required:!1,type:{name:"NumericArray | null | undefined"}}}}}catch{}const g=[{id:"1",type:"Feature",properties:{Standort:"Bonn",Mitarbeitende:26},geometry:{coordinates:[7.085121767634178,50.738628929850876],type:"Point"}},{id:"2",type:"Feature",properties:{Standort:"Freiburg",Mitarbeitende:10},geometry:{coordinates:[7.842759788570362,47.98905444717667],type:"Point"}},{id:"3",type:"Feature",properties:{Standort:"Berlin",Mitarbeitende:13},geometry:{coordinates:[13.330420447460796,52.492768290796676],type:"Point"}},{id:"4",type:"Feature",properties:{Standort:"Hamburg",Mitarbeitende:3},geometry:{coordinates:[10.041789021808029,53.5511363175323],type:"Point"}}],k={title:"MapComponents/MlScenegraphLayer",component:t,argTypes:{},decorators:c},s=e=>l.jsx(t,{...e}),a=s.bind({});a.parameters={mapOptions:{zoom:10,center:[-122.2,37.773972],pitch:60}};a.args={mapId:"map_1",id:"ScenegraphLayer",data:"https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/bart-stations.json",getPosition:e=>e.coordinates,getOrientation:()=>[0,Math.random()*180,90],scenegraph:"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/BoxAnimated/glTF-Binary/BoxAnimated.glb",sizeScale:500,_animations:{"*":{speed:5}},_lighting:"pbr",pickable:!0};const n=s.bind({});n.parameters={mapOptions:{center:[10.4,50],pitch:56,zoom:6}};n.args={mapId:"map_1",id:"ScenegraphLayer",data:g,getPosition:e=>e.geometry.coordinates,getOrientation:()=>[0,0,90],getColor:()=>[255,255,255],scenegraph:"https://mapcomponents.github.io/react-map-components-maplibre/deck-gl/assets/3D/WhereGroupLogo.glb",sizeScale:100,_animations:{"*":{speed:5}},_lighting:"pbr",pickable:!0};a.parameters={...a.parameters,docs:{...a.parameters?.docs,source:{originalSource:`(context: any) => {
  return <MlScenegraphLayer {...context} />;
}`,...a.parameters?.docs?.source}}};n.parameters={...n.parameters,docs:{...n.parameters?.docs,source:{originalSource:`(context: any) => {
  return <MlScenegraphLayer {...context} />;
}`,...n.parameters?.docs?.source}}};const V=["DeckglExample","WhereGroupLocationExample"];export{a as DeckglExample,n as WhereGroupLocationExample,V as __namedExportsOrder,k as default};
